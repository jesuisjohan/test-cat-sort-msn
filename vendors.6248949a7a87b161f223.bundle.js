(self.webpackChunkgame_core=self.webpackChunkgame_core||[]).push([[216],[function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(27);function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(0,n.Z)(t,e)}},function(t,e,r){var n=r(18)();t.exports=n;try{regeneratorRuntime=n}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){"use strict";function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,{Z:function(){return n}})},function(t,e,r){"use strict";function n(t,e,r,n,i,o,a){try{var s=t[o](a),h=s.value}catch(u){return void r(u)}s.done?e(h):Promise.resolve(h).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,h,"next",t)}function h(t){n(a,i,o,s,h,"throw",t)}s(void 0)}))}}r.d(e,{Z:function(){return i}})},,function(t,e,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}r.d(e,{Z:function(){return n}})},function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(29);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(0,n.Z)(i.key),i)}}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}},,,,,function(t){var e=.1,r="function"===typeof Float32Array;function n(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,r){return((n(e,r)*t+i(e,r))*t+o(e))*t}function s(t,e,r){return 3*n(e,r)*t*t+2*i(e,r)*t+o(e)}function h(t){return t}t.exports=function(t,n,i,o){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&i===o)return h;for(var u=r?new Float32Array(11):new Array(11),c=0;c<11;++c)u[c]=a(c*e,t,i);function l(r){for(var n=0,o=1;10!==o&&u[o]<=r;++o)n+=e;--o;var h=n+(r-u[o])/(u[o+1]-u[o])*e,c=s(h,t,i);return c>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var o=s(e,r,n);if(0===o)return e;e-=(a(e,r,n)-t)/o}return e}(r,h,t,i):0===c?h:function(t,e,r,n,i){var o,s,h=0;do{(o=a(s=e+(r-e)/2,n,i)-t)>0?r=s:e=s}while(Math.abs(o)>1e-7&&++h<10);return s}(r,n,n+e,t,i)}return function(t){return 0===t?0:1===t?1:a(l(t),n,o)}}},function(t,e,r){"use strict";function n(t){return Object.prototype.toString.call(t).slice(8,-1)}function i(t){if("Object"!==n(t))return!1;var e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function o(t){return"Null"===n(t)}function a(t){return"Undefined"===n(t)}r.d(e,{TS:function(){return v}});var s,h,u,c,l;s=o,h=a;function f(t){return"Symbol"===n(t)}function d(t,e,r,n){var i={}.propertyIsEnumerable.call(n,e)?"enumerable":"nonenumerable";"enumerable"===i&&(t[e]=r),"nonenumerable"===i&&Object.defineProperty(t,e,{value:r,enumerable:!1,writable:!0,configurable:!0})}function p(t,e,r){if(!i(e))return e;var n={};if(i(t)){var o=Object.getOwnPropertyNames(t),a=Object.getOwnPropertySymbols(t);n=[].concat(o,a).reduce((function(r,n){var i=t[n];return(!f(n)&&!Object.getOwnPropertyNames(e).includes(n)||f(n)&&!Object.getOwnPropertySymbols(e).includes(n))&&d(r,n,i,t),r}),{})}var s=Object.getOwnPropertyNames(e),h=Object.getOwnPropertySymbols(e);return[].concat(s,h).reduce((function(n,o){var a=e[o],s=i(t)?t[o]:void 0;return void 0!==s&&i(a)&&(a=p(s,a,r)),d(n,o,r?r(s,a,o):a,e),n}),n)}function v(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((function(t,e){return p(t,e)}),t)}},function(t,e,r){"use strict";function n(t,e,r){var n,i,o;void 0===e&&(e=50),void 0===r&&(r={});var a=null!=(n=r.isImmediate)&&n,s=null!=(i=r.callback)&&i,h=r.maxWait,u=Date.now(),c=[];function l(){if(void 0!==h){var t=Date.now()-u;if(t+e>=h)return h-t}return e}var f=function(){var e=[].slice.call(arguments),r=this;return new Promise((function(n,i){var h=a&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout((function(){if(o=void 0,u=Date.now(),!a){var n=t.apply(r,e);s&&s(n),c.forEach((function(t){return(0,t.resolve)(n)})),c=[]}}),l()),h){var f=t.apply(r,e);return s&&s(f),n(f)}c.push({resolve:n,reject:i})}))};return f.cancel=function(t){void 0!==o&&clearTimeout(o),c.forEach((function(e){return(0,e.reject)(t)})),c=[]},f}r.d(e,{D:function(){return n}})},,function(t,e,r){"use strict";function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}r.d(e,{Z:function(){return a}});var i=r(27);function o(t,e,r){return o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&(0,i.Z)(o,r.prototype),o},o.apply(null,arguments)}function a(t){var e="function"===typeof Map?new Map:void 0;return a=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"===typeof t}}(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return o(t,arguments,n(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(r,t)},a(t)}},,,function(t,e,r){var n=r(19).default;function i(){"use strict";t.exports=i=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},h="function"==typeof Symbol?Symbol:{},u=h.iterator||"@@iterator",c=h.asyncIterator||"@@asyncIterator",l=h.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(e){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),a=new F(n||[]);return s(o,"_invoke",{value:O(t,r,a)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var v="suspendedStart",m="suspendedYield",g="executing",y="completed",b={};function w(){}function x(){}function E(){}var S={};f(S,u,(function(){return this}));var A=Object.getPrototypeOf,k=A&&A(A(L([])));k&&k!==o&&a.call(k,u)&&(S=k);var I=E.prototype=w.prototype=Object.create(S);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(i,o,s,h){var u=p(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==n(l)&&a.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,s,h)}),(function(t){r("throw",t,s,h)})):e.resolve(l).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,h)}))}h(u.arg)}var i;s(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var i=v;return function(o,a){if(i===g)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var h=_(s,n);if(h){if(h===b)continue;return h}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===v)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,b;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(a.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return x.prototype=E,s(I,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:x,configurable:!0}),x.displayName=f(E,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(I),t},r.awrap=function(t){return{__await:t}},T(C.prototype),f(C.prototype,c,(function(){return this})),r.AsyncIterator=C,r.async=function(t,e,n,i,o){void 0===o&&(o=Promise);var a=new C(d(t,e,n,i),o);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(I),f(I,l,"Generator"),f(I,u,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=L,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var h=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(h&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(h){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},r}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var r,n,i;!function(o,a){"use strict";"object"===typeof t.exports?t.exports=a():(n=[],void 0===(i="function"===typeof(r=a)?r.apply(e,n):r)||(t.exports=i))}(0,(function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function r(t){if(!t)return!0;if(i(t)&&0===t.length)return!0;if("string"!==typeof t){for(var r in t)if(e(t,r))return!1;return!0}return!1}function n(e){return t.call(e)}var i=Array.isArray||function(e){return"[object Array]"===t.call(e)};function o(t){var e=parseInt(t);return e.toString()===t?e:t}function a(t){var a,s,h=function(t){return Object.keys(h).reduce((function(e,r){return"create"===r||"function"===typeof h[r]&&(e[r]=h[r].bind(h,t)),e}),{})};function u(t,e){if(a(t,e))return t[e]}function c(t,e,r,n){if("number"===typeof e&&(e=[e]),!e||0===e.length)return t;if("string"===typeof e)return c(t,e.split(".").map(o),r,n);var i=e[0],a=s(t,i);return 1===e.length?(void 0!==a&&n||(t[i]=r),a):(void 0===a&&("number"===typeof e[1]?t[i]=[]:t[i]={}),c(t[i],e.slice(1),r,n))}return a=(t=t||{}).includeInheritedProps?function(){return!0}:function(t,r){return"number"===typeof r&&Array.isArray(t)||e(t,r)},s=t.includeInheritedProps?function(t,e){"string"!==typeof e&&"number"!==typeof e&&(e=String(e));var r=u(t,e);if("__proto__"===e||"prototype"===e||"constructor"===e&&"function"===typeof r)throw new Error("For security reasons, object's magic properties cannot be set");return r}:function(t,e){return u(t,e)},h.has=function(r,n){if("number"===typeof n?n=[n]:"string"===typeof n&&(n=n.split(".")),!n||0===n.length)return!!r;for(var a=0;a<n.length;a++){var s=o(n[a]);if(!("number"===typeof s&&i(r)&&s<r.length||(t.includeInheritedProps?s in Object(r):e(r,s))))return!1;r=r[s]}return!0},h.ensureExists=function(t,e,r){return c(t,e,r,!0)},h.set=function(t,e,r,n){return c(t,e,r,n)},h.insert=function(t,e,r,n){var o=h.get(t,e);n=~~n,i(o)||(o=[],h.set(t,e,o)),o.splice(n,0,r)},h.empty=function(t,e){var o,s;if(!r(e)&&(null!=t&&(o=h.get(t,e)))){if("string"===typeof o)return h.set(t,e,"");if(function(t){return"boolean"===typeof t||"[object Boolean]"===n(t)}(o))return h.set(t,e,!1);if("number"===typeof o)return h.set(t,e,0);if(i(o))o.length=0;else{if(!function(t){return"object"===typeof t&&"[object Object]"===n(t)}(o))return h.set(t,e,null);for(s in o)a(o,s)&&delete o[s]}}},h.push=function(t,e){var r=h.get(t,e);i(r)||(r=[],h.set(t,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},h.coalesce=function(t,e,r){for(var n,i=0,o=e.length;i<o;i++)if(void 0!==(n=h.get(t,e[i])))return n;return r},h.get=function(t,e,r){if("number"===typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return r;if("string"===typeof e)return h.get(t,e.split("."),r);var n=o(e[0]),i=s(t,n);return void 0===i?r:1===e.length?i:h.get(t[n],e.slice(1),r)},h.del=function(t,e){if("number"===typeof e&&(e=[e]),null==t)return t;if(r(e))return t;if("string"===typeof e)return h.del(t,e.split("."));var n=o(e[0]);return s(t,n),a(t,n)?1!==e.length?h.del(t[n],e.slice(1)):(i(t)?t.splice(n,1):delete t[n],t):t},h}var s=a();return s.create=a,s.withInheritedProps=a({includeInheritedProps:!0}),s}))},function(t){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e,r){"use strict";var n=r(12),i={};function o(t,e){return e===a(t)}function a(t){var e=typeof t;return"object"!==e?e:t?t instanceof Error?"error":{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function s(t){return o(t,"function")}function h(t){var e=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),r=RegExp("^"+e+"$");return u(t)&&r.test(t)}function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function c(){var t=y();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:7&r|8).toString(16)}))}var l={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function f(t,e){var r,n;try{r=i.stringify(t)}catch(i){if(e&&s(e))try{r=e(t)}catch(t){n=t}else n=i}return{error:n,value:r}}function d(t,e){return function(r,n){try{e(r,n)}catch(e){t.error(e)}}}function p(t){return function t(e,r){var n,i,s,h={};try{for(i in e)(n=e[i])&&(o(n,"object")||o(n,"array"))?r.includes(n)?h[i]="Removed circular reference: "+a(n):((s=r.slice()).push(n),h[i]=t(n,s)):h[i]=n}catch(t){h="Failed cloning custom data: "+t.message}return h}(t,[t])}var v=["log","network","dom","navigation","error","manual"],m=["critical","error","warning","info","debug"];function g(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1}function y(){return Date.now?+Date.now():+new Date}t.exports={addParamsAndAccessTokenToPath:function(t,e,r){(r=r||{}).access_token=t;var n,i=[];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&i.push([n,r[n]].join("="));var o="?"+i.sort().join("&");(e=e||{}).path=e.path||"";var a,s=e.path.indexOf("?"),h=e.path.indexOf("#");-1!==s&&(-1===h||h>s)?(a=e.path,e.path=a.substring(0,s)+o+"&"+a.substring(s+1)):-1!==h?(a=e.path,e.path=a.substring(0,h)+o+a.substring(h)):e.path=e.path+o},createItem:function(t,e,r,n,i){for(var o,s,h,u,l,f,v=[],m=[],g=0,b=t.length;g<b;++g){var w=a(f=t[g]);switch(m.push(w),w){case"undefined":break;case"string":o?v.push(f):o=f;break;case"function":u=d(e,f);break;case"date":v.push(f);break;case"error":case"domexception":case"exception":s?v.push(f):s=f;break;case"object":case"array":if(f instanceof Error||"undefined"!=typeof DOMException&&f instanceof DOMException){s?v.push(f):s=f;break}if(n&&"object"===w&&!l){for(var x=0,E=n.length;x<E;++x)if(void 0!==f[n[x]]){l=f;break}if(l)break}h?v.push(f):h=f;break;default:if(f instanceof Error||"undefined"!=typeof DOMException&&f instanceof DOMException){s?v.push(f):s=f;break}v.push(f)}}h&&(h=p(h)),v.length>0&&(h||(h=p({})),h.extraArgs=p(v));var S={message:o,err:s,custom:h,timestamp:y(),callback:u,notifier:r,diagnostic:{},uuid:c()};return function(t,e){e&&void 0!==e.level&&(t.level=e.level,delete e.level),e&&void 0!==e.skipFrames&&(t.skipFrames=e.skipFrames,delete e.skipFrames)}(S,h),n&&l&&(S.request=l),i&&(S.lambdaContext=i),S._originalArgs=t,S.diagnostic.original_arg_types=m,S},addErrorContext:function(t,e){var r=t.data.custom||{},i=!1;try{for(var o=0;o<e.length;++o)e[o].hasOwnProperty("rollbarContext")&&(r=n(r,p(e[o].rollbarContext)),i=!0);i&&(t.data.custom=r)}catch(e){t.diagnostic.error_context="Failed: "+e.message}},createTelemetryEvent:function(t){for(var e,r,n,i,o=0,s=t.length;o<s;++o)switch(a(i=t[o])){case"string":!e&&g(v,i)?e=i:!n&&g(m,i)&&(n=i);break;case"object":r=i}return{type:e||"manual",metadata:r||{},level:n}},filterIp:function(t,e){if(t&&t.user_ip&&!0!==e){var r=t.user_ip;if(e)try{var n;if(-1!==r.indexOf("."))(n=r.split(".")).pop(),n.push("0"),r=n.join(".");else if(-1!==r.indexOf(":")){if((n=r.split(":")).length>2){var i=n.slice(0,3),o=i[2].indexOf("/");-1!==o&&(i[2]=i[2].substring(0,o)),r=i.concat("0000:0000:0000:0000:0000").join(":")}}else r=null}catch(t){r=null}else r=null;t.user_ip=r}},formatArgsAsString:function(t){var e,r,n,i=[];for(e=0,r=t.length;e<r;++e){switch(a(n=t[e])){case"object":(n=(n=f(n)).error||n.value).length>500&&(n=n.substr(0,497)+"...");break;case"null":n="null";break;case"undefined":n="undefined";break;case"symbol":n=n.toString()}i.push(n)}return i.join(" ")},formatUrl:function(t,e){if(!(e=e||t.protocol)&&t.port&&(80===t.port?e="http:":443===t.port&&(e="https:")),e=e||"https:",!t.hostname)return null;var r=e+"//"+t.hostname;return t.port&&(r=r+":"+t.port),t.path&&(r+=t.path),r},get:function(t,e){if(t){var r=e.split("."),n=t;try{for(var i=0,o=r.length;i<o;++i)n=n[r[i]]}catch(t){n=void 0}return n}},handleOptions:function(t,e,r,i){var o=n(t,e,r);return o=function(t,e){return t.hostWhiteList&&!t.hostSafeList&&(t.hostSafeList=t.hostWhiteList,t.hostWhiteList=void 0,e&&e.log("hostWhiteList is deprecated. Use hostSafeList.")),t.hostBlackList&&!t.hostBlockList&&(t.hostBlockList=t.hostBlackList,t.hostBlackList=void 0,e&&e.log("hostBlackList is deprecated. Use hostBlockList.")),t}(o,i),!e||e.overwriteScrubFields||e.scrubFields&&(o.scrubFields=(t.scrubFields||[]).concat(e.scrubFields)),o},isError:function(t){return o(t,"error")||o(t,"exception")},isFiniteNumber:function(t){return Number.isFinite(t)},isFunction:s,isIterable:function(t){var e=a(t);return"object"===e||"array"===e},isNativeFunction:h,isObject:u,isString:function(t){return"string"==typeof t||t instanceof String},isType:o,isPromise:function(t){return u(t)&&o(t.then,"function")},jsonParse:function(t){var e,r;try{e=i.parse(t)}catch(t){r=t}return{error:r,value:e}},LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},makeUnhandledStackInfo:function(t,e,r,n,i,o,a,s){var h={url:e||"",line:r,column:n};h.func=s.guessFunctionName(h.url,h.line),h.context=s.gatherContext(h.url,h.line);var u="undefined"!=typeof document&&document&&document.location&&document.location.href,c="undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent;return{mode:o,message:i?String(i):t||a,url:u,stack:[h],useragent:c}},merge:n,now:y,redact:function(){return"********"},RollbarJSON:i,sanitizeUrl:function(t){var e=function(t){if(o(t,"string")){for(var e=l,r=e.parser[e.strictMode?"strict":"loose"].exec(t),n={},i=0,a=e.key.length;i<a;++i)n[e.key[i]]=r[i]||"";return n[e.q.name]={},n[e.key[12]].replace(e.q.parser,(function(t,r,i){r&&(n[e.q.name][r]=i)})),n}}(t);return e?(""===e.anchor&&(e.source=e.source.replace("#","")),t=e.source.replace("?"+e.query,"")):"(unknown)"},set:function(t,e,r){if(t){var n=e.split("."),i=n.length;if(!(i<1))if(1!==i)try{for(var o=t[n[0]]||{},a=o,s=1;s<i-1;++s)o[n[s]]=o[n[s]]||{},o=o[n[s]];o[n[i-1]]=r,t[n[0]]=a}catch(t){return}else t[n[0]]=r}},setupJSON:function(t){s(i.stringify)&&s(i.parse)||(o(JSON,"undefined")||(t?(h(JSON.stringify)&&(i.stringify=JSON.stringify),h(JSON.parse)&&(i.parse=JSON.parse)):(s(JSON.stringify)&&(i.stringify=JSON.stringify),s(JSON.parse)&&(i.parse=JSON.parse))),s(i.stringify)&&s(i.parse)||t&&t(i))},stringify:f,maxByteSize:function(t){for(var e=0,r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<128?e+=1:i<2048?e+=2:i<65536&&(e+=3)}return e},typeName:a,uuid4:c}},function(t,e,r){"use strict";r(17);var n=r(18),i=r(0);t.exports={error:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),n.ieVersion()<=8?console.error(i.formatArgsAsString(t)):console.error.apply(console,t)},info:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),n.ieVersion()<=8?console.info(i.formatArgsAsString(t)):console.info.apply(console,t)},log:function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("Rollbar:"),n.ieVersion()<=8?console.log(i.formatArgsAsString(t)):console.log.apply(console,t)}}},function(t,e,r){"use strict";t.exports={parse:function(t){var e,r,n={protocol:null,auth:null,host:null,path:null,hash:null,href:t,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(e=t.indexOf("//"))?(n.protocol=t.substring(0,e),r=e+2):r=0,-1!==(e=t.indexOf("@",r))&&(n.auth=t.substring(r,e),r=e+1),-1===(e=t.indexOf("/",r))){if(-1===(e=t.indexOf("?",r)))return-1===(e=t.indexOf("#",r))?n.host=t.substring(r):(n.host=t.substring(r,e),n.hash=t.substring(e)),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),n;n.host=t.substring(r,e),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=e}else n.host=t.substring(r,e),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=e;if(-1===(e=t.indexOf("#",r))?n.path=t.substring(r):(n.path=t.substring(r,e),n.hash=t.substring(e)),n.path){var i=n.path.split("?");n.pathname=i[0],n.query=i[1],n.search=n.query?"?"+n.query:null}return n}}},function(t,e,r){"use strict";var n=r(24),i=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function o(){return null}function a(t){var e={};return e._stackFrame=t,e.url=t.fileName,e.line=t.lineNumber,e.func=t.functionName,e.column=t.columnNumber,e.args=t.args,e.context=null,e}function s(t,e){return{stack:function(){var r=[];e=e||0;try{r=n.parse(t)}catch(t){r=[]}for(var i=[],o=e;o<r.length;o++)i.push(new a(r[o]));return i}(),message:t.message,name:h(t),rawStack:t.stack,rawException:t}}function h(t){var e=t.name&&t.name.length&&t.name,r=t.constructor.name&&t.constructor.name.length&&t.constructor.name;return e&&r?"Error"===e?r:e:e||r}t.exports={guessFunctionName:function(){return"?"},guessErrorClass:function(t){if(!t||!t.match)return["Unknown error. There was no error message to display.",""];var e=t.match(i),r="(unknown)";return e&&(r=e[e.length-1],t=(t=t.replace((e[e.length-2]||"")+r+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[r,t]},gatherContext:o,parse:function(t,e){var r=t;if(r.nested||r.cause){for(var n=[];r;)n.push(new s(r,e)),r=r.nested||r.cause,e=0;return n[0].traceChain=n,n[0]}return new s(r,e)},Stack:s,Frame:a}},function(t,e,r){"use strict";var n=r(0),i=r(5);function o(t,e){var r=e.split("."),i=r.length-1;try{for(var o=0;o<=i;++o)o<i?t=t[r[o]]:t[r[o]]=n.redact()}catch(t){}}t.exports=function(t,e,r){if(e=e||[],r)for(var a=0;a<r.length;++a)o(t,r[a]);var s=function(t){for(var e,r=[],n=0;n<t.length;++n)e="^\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?$",r.push(new RegExp(e,"i"));return r}(e),h=function(t){for(var e,r=[],n=0;n<t.length;++n)e="\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",r.push(new RegExp("("+e+"=)([^&\\n]+)","igm"));return r}(e);function u(t,e){return e+n.redact()}return i(t,(function t(e,r,o){var a=function(t,e){var r;for(r=0;r<s.length;++r)if(s[r].test(t)){e=n.redact();break}return e}(e,r);return a===r?n.isType(r,"object")||n.isType(r,"array")?i(r,t,o):function(t){var e;if(n.isType(t,"string"))for(e=0;e<h.length;++e)t=t.replace(h[e],u);return t}(a):a}))}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e,r){var i,o,a,s,h=n.isType(t,"object"),u=n.isType(t,"array"),c=[];if(r=r||{obj:[],mapped:[]},h){if(s=r.obj.indexOf(t),h&&-1!==s)return r.mapped[s]||r.obj[s];r.obj.push(t),s=r.obj.length-1}if(h)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&c.push(i);else if(u)for(a=0;a<t.length;++a)c.push(a);var l=h?{}:[],f=!0;for(a=0;a<c.length;++a)o=t[i=c[a]],l[i]=e(i,o,r),f=f&&l[i]===t[i];return h&&!f&&(r.mapped[s]=l),f?t:l}},function(t,e,r){t.exports=r(7)},function(t,e,r){"use strict";var n=r(8),i="undefined"!=typeof window&&window._rollbarConfig,o=i&&i.globalAlias||"Rollbar",a="undefined"!=typeof window&&window[o]&&"function"==typeof window[o].shimId&&void 0!==window[o].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!a&&i){var s=new n(i);window[o]=s}else"undefined"!=typeof window?(window.rollbar=n,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=n,self._rollbarDidLoad=!0);t.exports=n},function(t,e,r){"use strict";var n=r(9),i=r(31),o=r(32),a=r(35),s=r(37),h=r(4),u=r(38);n.setComponents({telemeter:i,instrumenter:o,polyfillJSON:a,wrapGlobals:s,scrub:h,truncation:u}),t.exports=n},function(t,e,r){"use strict";var n=r(10),i=r(0),o=r(15),a=r(1),s=r(19),h=r(20),u=r(2),c=r(23),l=r(26),f=r(27),d=r(28),p=r(3);function v(t,e){this.options=i.handleOptions(E,t,null,a),this.options._configuredOptions=t;var r=this.components.telemeter,s=this.components.instrumenter,p=this.components.polyfillJSON;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var v=this.components.truncation,m=new h(v),g=new o(this.options,m,u,v);r&&(this.telemeter=new r(this.options)),this.client=e||new n(this.options,g,a,this.telemeter,"browser");var y=b(),w="undefined"!=typeof document&&document;this.isChrome=y.chrome&&y.chrome.runtime,this.anonymousErrorsPending=0,function(t,e,r){t.addTransform(c.handleDomException).addTransform(c.handleItemWithError).addTransform(c.ensureItemHasSomethingToSay).addTransform(c.addBaseInfo).addTransform(c.addRequestInfo(r)).addTransform(c.addClientInfo(r)).addTransform(c.addPluginInfo(r)).addTransform(c.addBody).addTransform(l.addMessageWithError).addTransform(l.addTelemetryData).addTransform(l.addConfigToPayload).addTransform(c.addScrubber(e.scrub)).addTransform(l.addPayloadOptions).addTransform(l.userTransform(a)).addTransform(l.addConfiguredOptions).addTransform(l.addDiagnosticKeys).addTransform(l.itemToPayload)}(this.client.notifier,this,y),this.client.queue.addPredicate(d.checkLevel).addPredicate(f.checkIgnore).addPredicate(d.userCheckIgnore(a)).addPredicate(d.urlIsNotBlockListed(a)).addPredicate(d.urlIsSafeListed(a)).addPredicate(d.messageIsIgnored(a)),this.setupUnhandledCapture(),s&&(this.instrumenter=new s(this.options,this.client.telemeter,this,y,w),this.instrumenter.instrument()),i.setupJSON(p),this.rollbar=this}var m=null;function g(t){var e="Rollbar is not initialized";a.error(e),t&&t(new Error(e))}function y(t){for(var e=0,r=t.length;e<r;++e)if(i.isFunction(t[e]))return t[e]}function b(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}v.init=function(t,e){return m?m.global(t).configure(t):m=new v(t,e)},v.prototype.components={},v.setComponents=function(t){v.prototype.components=t},v.prototype.global=function(t){return this.client.global(t),this},v.global=function(t){if(m)return m.global(t);g()},v.prototype.configure=function(t,e){var r=this.options,n={};return e&&(n={payload:e}),this.options=i.handleOptions(r,t,n,a),this.options._configuredOptions=i.handleOptions(r._configuredOptions,t,n),this.client.configure(this.options,e),this.instrumenter&&this.instrumenter.configure(this.options),this.setupUnhandledCapture(),this},v.configure=function(t,e){if(m)return m.configure(t,e);g()},v.prototype.lastError=function(){return this.client.lastError},v.lastError=function(){if(m)return m.lastError();g()},v.prototype.log=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.log(t),{uuid:e}},v.log=function(){if(m)return m.log.apply(m,arguments);g(y(arguments))},v.prototype.debug=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.debug(t),{uuid:e}},v.debug=function(){if(m)return m.debug.apply(m,arguments);g(y(arguments))},v.prototype.info=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.info(t),{uuid:e}},v.info=function(){if(m)return m.info.apply(m,arguments);g(y(arguments))},v.prototype.warn=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warn(t),{uuid:e}},v.warn=function(){if(m)return m.warn.apply(m,arguments);g(y(arguments))},v.prototype.warning=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warning(t),{uuid:e}},v.warning=function(){if(m)return m.warning.apply(m,arguments);g(y(arguments))},v.prototype.error=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.error(t),{uuid:e}},v.error=function(){if(m)return m.error.apply(m,arguments);g(y(arguments))},v.prototype.critical=function(){var t=this._createItem(arguments),e=t.uuid;return this.client.critical(t),{uuid:e}},v.critical=function(){if(m)return m.critical.apply(m,arguments);g(y(arguments))},v.prototype.buildJsonPayload=function(t){return this.client.buildJsonPayload(t)},v.buildJsonPayload=function(){if(m)return m.buildJsonPayload.apply(m,arguments);g()},v.prototype.sendJsonPayload=function(t){return this.client.sendJsonPayload(t)},v.sendJsonPayload=function(){if(m)return m.sendJsonPayload.apply(m,arguments);g()},v.prototype.setupUnhandledCapture=function(){var t=b();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(s.captureUncaughtExceptions(t,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(t,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(s.captureUnhandledRejections(t,this),this.unhandledRejectionsInitialized=!0)},v.prototype.handleUncaughtException=function(t,e,r,n,o,a){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===o&&""===e)return"anonymous";var s,h=i.makeUnhandledStackInfo(t,e,r,n,o,"onerror","uncaught exception",p);i.isError(o)?(s=this._createItem([t,o,a]))._unhandledStackInfo=h:i.isError(e)?(s=this._createItem([t,e,a]))._unhandledStackInfo=h:(s=this._createItem([t,a])).stackInfo=h,s.level=this.options.uncaughtErrorLevel,s._isUncaught=!0,this.client.log(s)}},v.prototype.handleAnonymousErrors=function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var t=this;try{Error.prepareStackTrace=function(e,r){if(t.options.inspectAnonymousErrors&&t.anonymousErrorsPending){if(t.anonymousErrorsPending-=1,!e)return;e._isAnonymous=!0,t.handleUncaughtException(e.message,null,null,null,e)}return e.stack}}catch(t){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",t)}}},v.prototype.handleUnhandledRejection=function(t,e){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var r="unhandled rejection was null or undefined!";if(t)if(t.message)r=t.message;else{var n=i.stringify(t);n.value&&(r=n.value)}var o,a=t&&t._rollbarContext||e&&e._rollbarContext;i.isError(t)?o=this._createItem([r,t,a]):(o=this._createItem([r,t,a])).stackInfo=i.makeUnhandledStackInfo(r,"",0,0,null,"unhandledrejection","",p),o.level=this.options.uncaughtErrorLevel,o._isUncaught=!0,o._originalArgs=o._originalArgs||[],o._originalArgs.push(e),this.client.log(o)}},v.prototype.wrap=function(t,e,r){try{var n;if(n=i.isFunction(e)?e:function(){return e||{}},!i.isFunction(t))return t;if(t._isWrap)return t;if(!t._rollbar_wrapped&&(t._rollbar_wrapped=function(){r&&i.isFunction(r)&&r.apply(this,arguments);try{return t.apply(this,arguments)}catch(r){var e=r;throw e&&window._rollbarWrappedError!==e&&(i.isType(e,"string")&&(e=new String(e)),e._rollbarContext=n()||{},e._rollbarContext._wrappedSource=t.toString(),window._rollbarWrappedError=e),e}},t._rollbar_wrapped._isWrap=!0,t.hasOwnProperty))for(var o in t)t.hasOwnProperty(o)&&"_rollbar_wrapped"!==o&&(t._rollbar_wrapped[o]=t[o]);return t._rollbar_wrapped}catch(e){return t}},v.wrap=function(t,e){if(m)return m.wrap(t,e);g()},v.prototype.captureEvent=function(){var t=i.createTelemetryEvent(arguments);return this.client.captureEvent(t.type,t.metadata,t.level)},v.captureEvent=function(){if(m)return m.captureEvent.apply(m,arguments);g()},v.prototype.captureDomContentLoaded=function(t,e){return e||(e=new Date),this.client.captureDomContentLoaded(e)},v.prototype.captureLoad=function(t,e){return e||(e=new Date),this.client.captureLoad(e)},v.prototype.loadFull=function(){a.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")},v.prototype._createItem=function(t){return i.createItem(t,a,this)};var w=r(29),x=r(30),E={version:w.version,scrubFields:x.scrubFields,logLevel:w.logLevel,reportLevel:w.reportLevel,uncaughtErrorLevel:w.uncaughtErrorLevel,endpoint:w.endpoint,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1};t.exports=v},function(t,e,r){"use strict";var n=r(11),i=r(13),o=r(14),a=r(0);function s(t,e,r,n,c){this.options=a.merge(t),this.logger=r,s.rateLimiter.configureGlobal(this.options),s.rateLimiter.setPlatformOptions(c,this.options),this.api=e,this.queue=new i(s.rateLimiter,e,r,this.options);var l=this.options.tracer||null;u(l)?(this.tracer=l,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new o(this.queue,this.options),this.telemeter=n,h(t),this.lastError=null,this.lastErrorHash="none"}function h(t){t.stackTraceLimit&&(Error.stackTraceLimit=t.stackTraceLimit)}function u(t){if(!t)return!1;if(!t.scope||"function"!=typeof t.scope)return!1;var e=t.scope();return!(!e||!e.active||"function"!=typeof e.active)}s.rateLimiter=new n({maxItems:0,itemsPerMinute:60}),s.prototype.global=function(t){return s.rateLimiter.configureGlobal(t),this},s.prototype.configure=function(t,e){var r=this.options,n={};e&&(n={payload:e}),this.options=a.merge(r,t,n);var i=this.options.tracer||null;return u(i)?(this.tracer=i,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),h(t),this.global(this.options),u(t.tracer)&&(this.tracer=t.tracer),this},s.prototype.log=function(t){var e=this._defaultLogLevel();return this._log(e,t)},s.prototype.debug=function(t){this._log("debug",t)},s.prototype.info=function(t){this._log("info",t)},s.prototype.warn=function(t){this._log("warning",t)},s.prototype.warning=function(t){this._log("warning",t)},s.prototype.error=function(t){this._log("error",t)},s.prototype.critical=function(t){this._log("critical",t)},s.prototype.wait=function(t){this.queue.wait(t)},s.prototype.captureEvent=function(t,e,r){return this.telemeter&&this.telemeter.captureEvent(t,e,r)},s.prototype.captureDomContentLoaded=function(t){return this.telemeter&&this.telemeter.captureDomContentLoaded(t)},s.prototype.captureLoad=function(t){return this.telemeter&&this.telemeter.captureLoad(t)},s.prototype.buildJsonPayload=function(t){return this.api.buildJsonPayload(t)},s.prototype.sendJsonPayload=function(t){this.api.postJsonPayload(t)},s.prototype._log=function(t,e){var r;if(e.callback&&(r=e.callback,delete e.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(e)){if(r){var n=new Error("ignored identical item");n.item=e,r(n)}}else try{this._addTracingInfo(e),e.level=e.level||t,this.telemeter&&this.telemeter._captureRollbarItem(e),e.telemetryEvents=this.telemeter&&this.telemeter.copyEvents()||[],this.notifier.log(e,r)}catch(t){r&&r(t),this.logger.error(t)}},s.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},s.prototype._sameAsLastError=function(t){if(!t._isUncaught)return!1;var e=function(t){return(t.message||"")+"::"+((t.err||{}).stack||String(t.err))}(t);return this.lastErrorHash===e||(this.lastError=t.err,this.lastErrorHash=e,!1)},s.prototype._addTracingInfo=function(t){if(this.tracer){var e=this.tracer.scope().active();if(function(t){if(!t||!t.context||"function"!=typeof t.context)return!1;var e=t.context();return!!(e&&e.toSpanId&&e.toTraceId&&"function"==typeof e.toSpanId&&"function"==typeof e.toTraceId)}(e)){e.setTag("rollbar.error_uuid",t.uuid),e.setTag("rollbar.has_error",!0),e.setTag("error",!0),e.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid="+t.uuid),e.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid="+t.uuid);var r=e.context().toSpanId(),n=e.context().toTraceId();t.custom?(t.custom.opentracing_span_id=r,t.custom.opentracing_trace_id=n):t.custom={opentracing_span_id:r,opentracing_trace_id:n}}}},t.exports=s},function(t,e,r){"use strict";var n=r(0);function i(t){this.startTime=n.now(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(t)}function o(t,e,r){return!t.ignoreRateLimit&&e>=1&&r>e}function a(t,e,r,n,i,o,a){var s=null;return r&&(r=new Error(r)),r||n||(s=function(t,e,r,n,i){var o={body:{message:{body:i?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:r,itemsPerMinute:n}}},language:"javascript",environment:e.environment||e.payload&&e.payload.environment,notifier:{version:e.notifier&&e.notifier.version||e.version}};return"browser"===t?(o.platform="browser",o.framework="browser-js",o.notifier.name="rollbar-browser-js"):"server"===t?(o.framework=e.framework||"node-js",o.notifier.name=e.notifier.name):"react-native"===t&&(o.framework=e.framework||"react-native",o.notifier.name=e.notifier.name),o}(t,e,i,o,a)),{error:r,shouldSend:n,payload:s}}i.globalSettings={startTime:n.now(),maxItems:void 0,itemsPerMinute:void 0},i.prototype.configureGlobal=function(t){void 0!==t.startTime&&(i.globalSettings.startTime=t.startTime),void 0!==t.maxItems&&(i.globalSettings.maxItems=t.maxItems),void 0!==t.itemsPerMinute&&(i.globalSettings.itemsPerMinute=t.itemsPerMinute)},i.prototype.shouldSend=function(t,e){var r=(e=e||n.now())-this.startTime;(r<0||r>=6e4)&&(this.startTime=e,this.perMinCounter=0);var s=i.globalSettings.maxItems,h=i.globalSettings.itemsPerMinute;if(o(t,s,this.counter))return a(this.platform,this.platformOptions,s+" max items reached",!1);if(o(t,h,this.perMinCounter))return a(this.platform,this.platformOptions,h+" items per minute reached",!1);this.counter++,this.perMinCounter++;var u=!o(t,s,this.counter),c=u;return u=u&&!o(t,h,this.perMinCounter),a(this.platform,this.platformOptions,null,u,s,h,c)},i.prototype.setPlatformOptions=function(t,e){this.platform=t,this.platformOptions=e},t.exports=i},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,r=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;for(e in t);return void 0===e||n.call(t,e)};t.exports=function t(){var e,r,n,i,a,s={},h=null,u=arguments.length;for(e=0;e<u;e++)if(null!=(h=arguments[e]))for(a in h)r=s[a],s!==(n=h[a])&&(n&&o(n)?(i=r&&o(r)?r:{},s[a]=t(i,n)):void 0!==n&&(s[a]=n));return s}},function(t,e,r){"use strict";var n=r(0);function i(t,e,r,n){this.rateLimiter=t,this.api=e,this.logger=r,this.options=n,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}i.prototype.configure=function(t){this.api&&this.api.configure(t);var e=this.options;return this.options=n.merge(e,t),this},i.prototype.addPredicate=function(t){return n.isFunction(t)&&this.predicates.push(t),this},i.prototype.addPendingItem=function(t){this.pendingItems.push(t)},i.prototype.removePendingItem=function(t){var e=this.pendingItems.indexOf(t);-1!==e&&this.pendingItems.splice(e,1)},i.prototype.addItem=function(t,e,r,i){e&&n.isFunction(e)||(e=function(){});var o=this._applyPredicates(t);if(o.stop)return this.removePendingItem(i),void e(o.err);if(this._maybeLog(t,r),this.removePendingItem(i),this.options.transmit){this.pendingRequests.push(t);try{this._makeApiRequest(t,function(r,n){this._dequeuePendingRequest(t),e(r,n)}.bind(this))}catch(r){this._dequeuePendingRequest(t),e(r)}}else e(new Error("Transmit disabled"))},i.prototype.wait=function(t){n.isFunction(t)&&(this.waitCallback=t,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},i.prototype._applyPredicates=function(t){for(var e=null,r=0,n=this.predicates.length;r<n;r++)if(!(e=this.predicates[r](t,this.options))||void 0!==e.err)return{stop:!0,err:e.err};return{stop:!1,err:null}},i.prototype._makeApiRequest=function(t,e){var r=this.rateLimiter.shouldSend(t);r.shouldSend?this.api.postItem(t,function(r,n){r?this._maybeRetry(r,t,e):e(r,n)}.bind(this)):r.error?e(r.error):this.api.postItem(r.payload,e)};var o=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];i.prototype._maybeRetry=function(t,e,r){var i=!1;if(this.options.retryInterval){for(var a=0,s=o.length;a<s;a++)if(t.code===o[a]){i=!0;break}i&&n.isFiniteNumber(this.options.maxRetries)&&(e.retries=e.retries?e.retries+1:1,e.retries>this.options.maxRetries&&(i=!1))}i?this._retryApiRequest(e,r):r(t)},i.prototype._retryApiRequest=function(t,e){this.retryQueue.push({item:t,callback:e}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var t=this.retryQueue.shift();this._makeApiRequest(t.item,t.callback)}}.bind(this),this.options.retryInterval))},i.prototype._dequeuePendingRequest=function(t){var e=this.pendingRequests.indexOf(t);-1!==e&&(this.pendingRequests.splice(e,1),this._maybeCallWait())},i.prototype._maybeLog=function(t,e){if(this.logger&&this.options.verbose){var r=e;if(r=(r=r||n.get(t,"body.trace.exception.message"))||n.get(t,"body.trace_chain.0.exception.message"))return void this.logger.error(r);(r=n.get(t,"body.message.body"))&&this.logger.log(r)}},i.prototype._maybeCallWait=function(){return!(!n.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length)&&(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),!0)},t.exports=i},function(t,e,r){"use strict";var n=r(0);function i(t,e){this.queue=t,this.options=e,this.transforms=[],this.diagnostic={}}i.prototype.configure=function(t){this.queue&&this.queue.configure(t);var e=this.options;return this.options=n.merge(e,t),this},i.prototype.addTransform=function(t){return n.isFunction(t)&&this.transforms.push(t),this},i.prototype.log=function(t,e){if(e&&n.isFunction(e)||(e=function(){}),!this.options.enabled)return e(new Error("Rollbar is not enabled"));this.queue.addPendingItem(t);var r=t.err;this._applyTransforms(t,function(n,i){if(n)return this.queue.removePendingItem(t),e(n,null);this.queue.addItem(i,e,r,t)}.bind(this))},i.prototype._applyTransforms=function(t,e){var r=-1,n=this.transforms.length,i=this.transforms,o=this.options,a=function(t,s){t?e(t,null):++r!==n?i[r](s,o,a):e(null,s)};a(null,t)},t.exports=i},function(t,e,r){"use strict";var n=r(0),i=r(16),o={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function a(t,e,r,n,i){this.options=t,this.transport=e,this.url=r,this.truncation=n,this.jsonBackup=i,this.accessToken=t.accessToken,this.transportOptions=s(t,r)}function s(t,e){return i.getTransportFromOptions(t,o,e)}a.prototype.postItem=function(t,e){var r=i.transportOptions(this.transportOptions,"POST"),n=i.buildPayload(this.accessToken,t,this.jsonBackup),o=this;setTimeout((function(){o.transport.post(o.accessToken,r,n,e)}),0)},a.prototype.buildJsonPayload=function(t,e){var r,o=i.buildPayload(this.accessToken,t,this.jsonBackup);return(r=this.truncation?this.truncation.truncate(o):n.stringify(o)).error?(e&&e(r.error),null):r.value},a.prototype.postJsonPayload=function(t,e){var r=i.transportOptions(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,r,t,e)},a.prototype.configure=function(t){var e=this.oldOptions;return this.options=n.merge(e,t),this.transportOptions=s(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},t.exports=a},function(t,e,r){"use strict";var n=r(0);t.exports={buildPayload:function(t,e,r){if(!n.isType(e.context,"string")){var i=n.stringify(e.context,r);i.error?e.context="Error: could not serialize 'context'":e.context=i.value||"",e.context.length>255&&(e.context=e.context.substr(0,255))}return{access_token:t,data:e}},getTransportFromOptions:function(t,e,r){var n=e.hostname,i=e.protocol,o=e.port,a=e.path,s=e.search,h=t.timeout,u=function(t){var e="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,r=t.defaultTransport||"xhr";return void 0===e.fetch&&(r="xhr"),void 0===e.XMLHttpRequest&&(r="fetch"),r}(t),c=t.proxy;if(t.endpoint){var l=r.parse(t.endpoint);n=l.hostname,i=l.protocol,o=l.port,a=l.pathname,s=l.search}return{timeout:h,hostname:n,protocol:i,port:o,path:a,search:s,proxy:c,transport:u}},transportOptions:function(t,e){var r=t.protocol||"https:",n=t.port||("http:"===r?80:"https:"===r?443:void 0),i=t.hostname,o=t.path,a=t.timeout,s=t.transport;return t.search&&(o+=t.search),t.proxy&&(o=r+"//"+i+o,i=t.proxy.host||t.proxy.hostname,n=t.proxy.port,r=t.proxy.protocol||r),{timeout:a,protocol:r,hostname:i,path:o,port:n,method:e,transport:s}},appendPathToPath:function(t,e){var r=/\/$/.test(t),n=/^\//.test(e);return r&&n?e=e.substring(1):r||n||(e="/"+e),t+e}}},function(t,e){!function(t){"use strict";t.console||(t.console={});for(var e,r,n=t.console,i=function(){},o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=o.pop();)n[e]||(n[e]={});for(;r=a.pop();)n[r]||(n[r]=i)}("undefined"==typeof window?this:window)},function(t,e,r){"use strict";var n={ieVersion:function(){if("undefined"!=typeof document){for(var t=3,e=document.createElement("div"),r=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",r[0];);return t>4?t:void 0}}};t.exports=n},function(t,e,r){"use strict";function n(t,e,r,n){t._rollbarWrappedError&&(n[4]||(n[4]=t._rollbarWrappedError),n[5]||(n[5]=t._rollbarWrappedError._rollbarContext),t._rollbarWrappedError=null);var i=e.handleUncaughtException.apply(e,n);r&&r.apply(t,n),"anonymous"===i&&(e.anonymousErrorsPending+=1)}t.exports={captureUncaughtExceptions:function(t,e,r){if(t){var i;if("function"==typeof e._rollbarOldOnError)i=e._rollbarOldOnError;else if(t.onerror){for(i=t.onerror;i._rollbarOldOnError;)i=i._rollbarOldOnError;e._rollbarOldOnError=i}e.handleAnonymousErrors();var o=function(){var r=Array.prototype.slice.call(arguments,0);n(t,e,i,r)};r&&(o._rollbarOldOnError=i),t.onerror=o}},captureUnhandledRejections:function(t,e,r){if(t){"function"==typeof t._rollbarURH&&t._rollbarURH.belongsToShim&&t.removeEventListener("unhandledrejection",t._rollbarURH);var n=function(t){var r,n,i;try{r=t.reason}catch(t){r=void 0}try{n=t.promise}catch(t){n="[unhandledrejection] error getting `promise` from event"}try{i=t.detail,!r&&i&&(r=i.reason,n=i.promise)}catch(t){}r||(r="[unhandledrejection] error getting `reason` from event"),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(r,n)};n.belongsToShim=r,t._rollbarURH=n,t.addEventListener("unhandledrejection",n)}}}},function(t,e,r){"use strict";var n=r(0),i=r(21),o=r(22);function a(t){this.truncation=t}a.prototype.get=function(t,e,r,i,o){i&&n.isFunction(i)||(i=function(){}),n.addParamsAndAccessTokenToPath(t,e,r);var a=n.formatUrl(e);this._makeZoneRequest(t,a,"GET",null,i,o,e.timeout,e.transport)},a.prototype.post=function(t,e,r,i,o){if(i&&n.isFunction(i)||(i=function(){}),!r)return i(new Error("Cannot send empty request"));var a;if((a=this.truncation?this.truncation.truncate(r):n.stringify(r)).error)return i(a.error);var s=a.value,h=n.formatUrl(e);this._makeZoneRequest(t,h,"POST",s,i,o,e.timeout,e.transport)},a.prototype.postJsonPayload=function(t,e,r,i,o){i&&n.isFunction(i)||(i=function(){});var a=n.formatUrl(e);this._makeZoneRequest(t,a,"POST",r,i,o,e.timeout,e.transport)},a.prototype._makeZoneRequest=function(){var t="undefined"!=typeof window&&window||void 0!==i&&i,e=t&&t.Zone&&t.Zone.current,r=Array.prototype.slice.call(arguments);if(e&&"angular"===e._name){var n=e._parent,i=this;n.run((function(){i._makeRequest.apply(void 0,r)}))}else this._makeRequest.apply(void 0,r)},a.prototype._makeRequest=function(t,e,r,n,a,s,h,u){if("undefined"!=typeof RollbarProxy)return function(t,e){(new RollbarProxy).sendJsonPayload(t,(function(t){}),(function(t){e(new Error(t))}))}(n,a);"fetch"===u?i(t,e,r,n,a,h):o(t,e,r,n,a,s,h)},t.exports=a},function(t,e,r){"use strict";var n=r(1),i=r(0);t.exports=function(t,e,r,o,a,s){var h,u;i.isFiniteNumber(s)&&(h=new AbortController,u=setTimeout((function(){h.abort()}),s)),fetch(e,{method:r,headers:{"Content-Type":"application/json","X-Rollbar-Access-Token":t,signal:h&&h.signal},body:o}).then((function(t){return u&&clearTimeout(u),t.json()})).then((function(t){a(null,t)})).catch((function(t){n.error(t.message),a(t)}))}},function(t,e,r){"use strict";var n=r(0),i=r(1);function o(t,e){var r=new Error(t);return r.code=e||"ENOTFOUND",r}t.exports=function(t,e,r,a,s,h,u){var c;if(!(c=h?h():function(){var t,e,r=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=r.length;for(e=0;e<n;e++)try{t=r[e]();break}catch(t){}return t}()))return s(new Error("No way to send a request"));try{try{var l=function(){try{if(l&&4===c.readyState){l=void 0;var t=n.jsonParse(c.responseText);if((a=c)&&a.status&&200===a.status)return void s(t.error,t.value);if(function(t){return t&&n.isType(t.status,"number")&&t.status>=400&&t.status<600}(c)){if(403===c.status){var e=t.value&&t.value.message;i.error(e)}s(new Error(String(c.status)))}else s(o("XHR response had no status code (likely connection failure)"))}}catch(t){var r;r=t&&t.stack?t:new Error(t),s(r)}var a};c.open(r,e,!0),c.setRequestHeader&&(c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Rollbar-Access-Token",t)),n.isFiniteNumber(u)&&(c.timeout=u),c.onreadystatechange=l,c.send(a)}catch(t){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return s(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===e.substring(0,5)&&(e="http"+e.substring(5));var f=new XDomainRequest;f.onprogress=function(){},f.ontimeout=function(){s(o("Request timed out","ETIMEDOUT"))},f.onerror=function(){s(new Error("Error during request"))},f.onload=function(){var t=n.jsonParse(f.responseText);s(t.error,t.value)},f.open(r,e,!0),f.send(a)}else s(new Error("Cannot find a method to transport a request"))}}catch(t){s(t)}}},function(t,e,r){"use strict";var n=r(0),i=r(3),o=r(1);function a(t,e,r){var i=t.message,o=t.custom;i||(i="Item sent with null or missing arguments.");var a={body:i};o&&(a.extra=n.merge(o)),n.set(t,"data.body",{message:a}),r(null,t)}function s(t){var e=t.stackInfo.stack;return e&&0===e.length&&t._unhandledStackInfo&&t._unhandledStackInfo.stack&&(e=t._unhandledStackInfo.stack),e}function h(t,e,r){var o=t&&t.data.description,a=t&&t.custom,h=s(t),c=i.guessErrorClass(e.message),l={exception:{class:u(e,c[0],r),message:c[1]}};if(o&&(l.exception.description=o),h){var f,d,p,v,m,g,y,b;for(0===h.length&&(l.exception.stack=e.rawStack,l.exception.raw=String(e.rawException)),l.frames=[],y=0;y<h.length;++y)d={filename:(f=h[y]).url?n.sanitizeUrl(f.url):"(unknown)",lineno:f.line||null,method:f.func&&"?"!==f.func?f.func:"[anonymous]",colno:f.column},r.sendFrameUrl&&(d.url=f.url),d.method&&d.method.endsWith&&d.method.endsWith("_rollbar_wrapped")||(p=v=m=null,(g=f.context?f.context.length:0)&&(b=Math.floor(g/2),v=f.context.slice(0,b),p=f.context[b],m=f.context.slice(b)),p&&(d.code=p),(v||m)&&(d.context={},v&&v.length&&(d.context.pre=v),m&&m.length&&(d.context.post=m)),f.args&&(d.args=f.args),l.frames.push(d));l.frames.reverse(),a&&(l.extra=n.merge(a))}return l}function u(t,e,r){return t.name?t.name:r.guessErrorClass?e:"(unknown)"}t.exports={handleDomException:function(t,e,r){if(t.err&&"DOMException"===i.Stack(t.err).name){var n=new Error;n.name=t.err.name,n.message=t.err.message,n.stack=t.err.stack,n.nested=t.err,t.err=n}r(null,t)},handleItemWithError:function(t,e,r){if(t.data=t.data||{},t.err)try{t.stackInfo=t.err._savedStackTrace||i.parse(t.err,t.skipFrames),e.addErrorContext&&function(t){var e=[],r=t.err;for(e.push(r);r.nested||r.cause;)r=r.nested||r.cause,e.push(r);n.addErrorContext(t,e)}(t)}catch(e){o.error("Error while parsing the error object.",e);try{t.message=t.err.message||t.err.description||t.message||String(t.err)}catch(e){t.message=String(t.err)||String(e)}delete t.err}r(null,t)},ensureItemHasSomethingToSay:function(t,e,r){t.message||t.stackInfo||t.custom||r(new Error("No message, stack info, or custom data"),null),r(null,t)},addBaseInfo:function(t,e,r){var i=e.payload&&e.payload.environment||e.environment;t.data=n.merge(t.data,{environment:i,level:t.level,endpoint:e.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:t.uuid,notifier:{name:"rollbar-browser-js",version:e.version},custom:t.custom}),r(null,t)},addRequestInfo:function(t){return function(e,r,i){var o={};t&&t.location&&(o.url=t.location.href,o.query_string=t.location.search);var a="$remote_ip";r.captureIp?!0!==r.captureIp&&(a+="_anonymize"):a=null,a&&(o.user_ip=a),Object.keys(o).length>0&&n.set(e,"data.request",o),i(null,e)}},addClientInfo:function(t){return function(e,r,i){if(!t)return i(null,e);var o=t.navigator||{},a=t.screen||{};n.set(e,"data.client",{runtime_ms:e.timestamp-t._rollbarStartTime,timestamp:Math.round(e.timestamp/1e3),javascript:{browser:o.userAgent,language:o.language,cookie_enabled:o.cookieEnabled,screen:{width:a.width,height:a.height}}}),i(null,e)}},addPluginInfo:function(t){return function(e,r,i){if(!t||!t.navigator)return i(null,e);for(var o,a=[],s=t.navigator.plugins||[],h=0,u=s.length;h<u;++h)o=s[h],a.push({name:o.name,description:o.description});n.set(e,"data.client.javascript.plugins",a),i(null,e)}},addBody:function(t,e,r){t.stackInfo?t.stackInfo.traceChain?function(t,e,r){for(var i=t.stackInfo.traceChain,o=[],a=i.length,s=0;s<a;s++){var u=h(t,i[s],e);o.push(u)}n.set(t,"data.body",{trace_chain:o}),r(null,t)}(t,e,r):function(t,e,r){if(s(t)){var o=h(t,t.stackInfo,e);n.set(t,"data.body",{trace:o}),r(null,t)}else{var c=t.stackInfo,l=i.guessErrorClass(c.message),f=u(c,l[0],e),d=l[1];t.message=f+": "+d,a(t,e,r)}}(t,e,r):a(t,e,r)},addScrubber:function(t){return function(e,r,n){if(t){var i=r.scrubFields||[],o=r.scrubPaths||[];e.data=t(e.data,i,o)}n(null,e)}}}},function(t,e,r){var n,i,o;!function(a,s){"use strict";i=[r(25)],void 0===(o="function"==typeof(n=function(t){var e=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(r))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(t){return!!t.match(r)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var r=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),n=r.match(/ (\(.+\)$)/);r=n?r.replace(n[0],""):r;var i=this.extractLocation(n?n[1]:r),o=n&&r||void 0,a=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new t({functionName:o,fileName:a,lineNumber:i[1],columnNumber:i[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(t){return!t.match(n)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=e.match(r),i=n&&n[1]?n[1]:void 0,o=this.extractLocation(e.replace(r,""));return new t({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),i=[],o=2,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new t({fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera10:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),i=[],o=0,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new t({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera11:function(r){return r.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var r,n=e.split("@"),i=this.extractLocation(n.pop()),o=n.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(r=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new t({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)}}})?n.apply(e,i):n)||(t.exports=o)}()},function(t,e,r){var n,i,o;!function(r,a){"use strict";i=[],void 0===(o="function"==typeof(n=function(){function t(t){return t.charAt(0).toUpperCase()+t.substring(1)}function e(t){return function(){return this[t]}}var r=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=r.concat(n,i,["args"],["evalOrigin"]);function a(e){if(e)for(var r=0;r<o.length;r++)void 0!==e[o[r]]&&this["set"+t(o[r])](e[o[r]])}a.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof a)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+r+")":"[eval]:"+e+":"+r:n?n+" ("+t+":"+e+":"+r+")":t+":"+e+":"+r}},a.fromString=function(t){var e=t.indexOf("("),r=t.lastIndexOf(")"),n=t.substring(0,e),i=t.substring(e+1,r).split(","),o=t.substring(r+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),h=s[1],u=s[2],c=s[3];return new a({functionName:n,args:i||void 0,fileName:h,lineNumber:u||void 0,columnNumber:c||void 0})};for(var s=0;s<r.length;s++)a.prototype["get"+t(r[s])]=e(r[s]),a.prototype["set"+t(r[s])]=function(t){return function(e){this[t]=Boolean(e)}}(r[s]);for(var h=0;h<n.length;h++)a.prototype["get"+t(n[h])]=e(n[h]),a.prototype["set"+t(n[h])]=function(t){return function(e){if(r=e,isNaN(parseFloat(r))||!isFinite(r))throw new TypeError(t+" must be a Number");var r;this[t]=Number(e)}}(n[h]);for(var u=0;u<i.length;u++)a.prototype["get"+t(i[u])]=e(i[u]),a.prototype["set"+t(i[u])]=function(t){return function(e){this[t]=String(e)}}(i[u]);return a})?n.apply(e,i):n)||(t.exports=o)}()},function(t,e,r){"use strict";var n=r(0);function i(t,e){n.isFunction(t[e])&&(t[e]=t[e].toString())}t.exports={itemToPayload:function(t,e,r){var n=t.data;t._isUncaught&&(n._isUncaught=!0),t._originalArgs&&(n._originalArgs=t._originalArgs),r(null,n)},addPayloadOptions:function(t,e,r){var i=e.payload||{};i.body&&delete i.body,t.data=n.merge(t.data,i),r(null,t)},addTelemetryData:function(t,e,r){t.telemetryEvents&&n.set(t,"data.body.telemetry",t.telemetryEvents),r(null,t)},addMessageWithError:function(t,e,r){if(t.message){var i="data.body.trace_chain.0",o=n.get(t,i);if(o||(i="data.body.trace",o=n.get(t,i)),o){if(!o.exception||!o.exception.description)return n.set(t,i+".exception.description",t.message),void r(null,t);var a=n.get(t,i+".extra")||{},s=n.merge(a,{message:t.message});n.set(t,i+".extra",s)}r(null,t)}else r(null,t)},userTransform:function(t){return function(e,r,i){var o=n.merge(e),a=null;try{n.isFunction(r.transform)&&(a=r.transform(o.data,e))}catch(n){return r.transform=null,t.error("Error while calling custom transform() function. Removing custom transform().",n),void i(null,e)}n.isPromise(a)?a.then((function(t){t&&(o.data=t),i(null,o)}),(function(t){i(t,e)})):i(null,o)}},addConfigToPayload:function(t,e,r){if(!e.sendConfig)return r(null,t);var i=n.get(t,"data.custom")||{};i._rollbarConfig=e,t.data.custom=i,r(null,t)},addConfiguredOptions:function(t,e,r){var n=e._configuredOptions;i(n,"transform"),i(n,"checkIgnore"),i(n,"onSendCallback"),delete n.accessToken,t.data.notifier.configured_options=n,r(null,t)},addDiagnosticKeys:function(t,e,r){var i=n.merge(t.notifier.client.notifier.diagnostic,t.diagnostic);if(n.get(t,"err._isAnonymous")&&(i.is_anonymous=!0),t._isUncaught&&(i.is_uncaught=t._isUncaught),t.err)try{i.raw_error={message:t.err.message,name:t.err.name,constructor_name:t.err.constructor&&t.err.constructor.name,filename:t.err.fileName,line:t.err.lineNumber,column:t.err.columnNumber,stack:t.err.stack}}catch(t){i.raw_error={failed:String(t)}}t.data.notifier.diagnostic=n.merge(t.data.notifier.diagnostic,i),r(null,t)}}},function(t,e,r){"use strict";var n=r(0);t.exports={checkIgnore:function(t,e){return!n.get(e,"plugins.jquery.ignoreAjaxErrors")||!n.get(t,"body.message.extra.isAjax")}}},function(t,e,r){"use strict";var n=r(0);function i(t,e,r){if(!t)return!r;var i,o,a=t.frames;if(!a||0===a.length)return!r;for(var s=e.length,h=a.length,u=0;u<h;u++){if(i=a[u].filename,!n.isType(i,"string"))return!r;for(var c=0;c<s;c++)if(o=e[c],new RegExp(o).test(i))return!0}return!1}function o(t,e,r,o){var a,s,h=!1;"blocklist"===r&&(h=!0);try{if(a=h?e.hostBlockList:e.hostSafeList,s=n.get(t,"body.trace_chain")||[n.get(t,"body.trace")],!a||0===a.length)return!h;if(0===s.length||!s[0])return!h;for(var u=s.length,c=0;c<u;c++)if(i(s[c],a,h))return!0}catch(t){h?e.hostBlockList=null:e.hostSafeList=null;var l=h?"hostBlockList":"hostSafeList";return o.error("Error while reading your configuration's "+l+" option. Removing custom "+l+".",t),!h}return!1}t.exports={checkLevel:function(t,e){var r=t.level,i=n.LEVELS[r]||0,o=e.reportLevel;return!(i<(n.LEVELS[o]||0))},userCheckIgnore:function(t){return function(e,r){var i=!!e._isUncaught;delete e._isUncaught;var o=e._originalArgs;delete e._originalArgs;try{n.isFunction(r.onSendCallback)&&r.onSendCallback(i,o,e)}catch(e){r.onSendCallback=null,t.error("Error while calling onSendCallback, removing",e)}try{if(n.isFunction(r.checkIgnore)&&r.checkIgnore(i,o,e))return!1}catch(e){r.checkIgnore=null,t.error("Error while calling custom checkIgnore(), removing",e)}return!0}},urlIsNotBlockListed:function(t){return function(e,r){return!o(e,r,"blocklist",t)}},urlIsSafeListed:function(t){return function(e,r){return o(e,r,"safelist",t)}},messageIsIgnored:function(t){return function(e,r){var i,o,a,s,h,u;try{if(!(a=r.ignoredMessages)||0===a.length)return!0;if(0===(u=function(t){var e=t.body,r=[];if(e.trace_chain)for(var i=e.trace_chain,o=0;o<i.length;o++){var a=i[o];r.push(n.get(a,"exception.message"))}return e.trace&&r.push(n.get(e,"trace.exception.message")),e.message&&r.push(n.get(e,"message.body")),r}(e)).length)return!0;for(s=a.length,i=0;i<s;i++)for(h=new RegExp(a[i],"gi"),o=0;o<u.length;o++)if(h.test(u[o]))return!1}catch(e){r.ignoredMessages=null,t.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}}},function(t,e,r){"use strict";t.exports={version:"2.26.2",endpoint:"api.rollbar.com/api/1/item/",logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",maxItems:0,itemsPerMin:60}},function(t,e,r){"use strict";t.exports={scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken","cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]}},function(t,e,r){"use strict";var n=r(0);function i(t){this.queue=[],this.options=n.merge(t);var e=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(e,100))}function o(t,e){return e||{error:"error",manual:"info"}[t]||"info"}i.prototype.configure=function(t){var e=this.options;this.options=n.merge(e,t);var r=this.options.maxTelemetryEvents||100,i=Math.max(0,Math.min(r,100)),o=0;this.queue.length>i&&(o=this.queue.length-i),this.maxQueueSize=i,this.queue.splice(0,o)},i.prototype.copyEvents=function(){var t=Array.prototype.slice.call(this.queue,0);if(n.isFunction(this.options.filterTelemetry))try{for(var e=t.length;e--;)this.options.filterTelemetry(t[e])&&t.splice(e,1)}catch(t){this.options.filterTelemetry=null}return t},i.prototype.capture=function(t,e,r,i,a){var s={level:o(t,r),type:t,timestamp_ms:a||n.now(),body:e,source:"client"};i&&(s.uuid=i);try{if(n.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(s))return!1}catch(t){this.options.filterTelemetry=null}return this.push(s),s},i.prototype.captureEvent=function(t,e,r,n){return this.capture(t,e,r,n)},i.prototype.captureError=function(t,e,r,n){var i={message:t.message||String(t)};return t.stack&&(i.stack=t.stack),this.capture("error",i,e,r,n)},i.prototype.captureLog=function(t,e,r,n){return this.capture("log",{message:t},e,r,n)},i.prototype.captureNetwork=function(t,e,r,n){e=e||"xhr",t.subtype=t.subtype||e,n&&(t.request=n);var i=this.levelFromStatus(t.status_code);return this.capture("network",t,i,r)},i.prototype.levelFromStatus=function(t){return t>=200&&t<400?"info":0===t||t>=400?"error":"info"},i.prototype.captureDom=function(t,e,r,n,i){var o={subtype:t,element:e};return void 0!==r&&(o.value=r),void 0!==n&&(o.checked=n),this.capture("dom",o,"info",i)},i.prototype.captureNavigation=function(t,e,r){return this.capture("navigation",{from:t,to:e},"info",r)},i.prototype.captureDomContentLoaded=function(t){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,t&&t.getTime())},i.prototype.captureLoad=function(t){return this.capture("navigation",{subtype:"load"},"info",void 0,t&&t.getTime())},i.prototype.captureConnectivityChange=function(t,e){return this.captureNetwork({change:t},"connectivity",e)},i.prototype._captureRollbarItem=function(t){if(this.options.includeItemsInTelemetry)return t.err?this.captureError(t.err,t.level,t.uuid,t.timestamp):t.message?this.captureLog(t.message,t.level,t.uuid,t.timestamp):t.custom?this.capture("log",t.custom,t.level,t.uuid,t.timestamp):void 0},i.prototype.push=function(t){this.queue.push(t),this.queue.length>this.maxQueueSize&&this.queue.shift()},t.exports=i},function(t,e,r){"use strict";var n=r(0),i=r(33),o=r(4),a=r(2),s=r(34),h={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function u(t,e,r,n,i){var o=t[e];t[e]=r(o),n&&n[i].push([t,e,o])}function c(t,e){for(var r;t[e].length;)(r=t[e].shift())[0][r[1]]=r[2]}function l(t,e,r,i,o){this.options=t;var a=t.autoInstrument;!1===t.enabled||!1===a?this.autoInstrument={}:(n.isType(a,"object")||(a=h),this.autoInstrument=n.merge(h,a)),this.scrubTelemetryInputs=!!t.scrubTelemetryInputs,this.telemetryScrubber=t.telemetryScrubber,this.defaultValueScrubber=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new RegExp(t[r],"i"));return function(t){var r=function(t){if(!t||!t.attributes)return null;for(var e=t.attributes,r=0;r<e.length;++r)if("name"===e[r].key)return e[r].value;return null}(t);if(!r)return!1;for(var n=0;n<e.length;++n)if(e[n].test(r))return!0;return!1}}(t.scrubFields),this.telemeter=e,this.rollbar=r,this.diagnostic=r.client.notifier.diagnostic,this._window=i||{},this._document=o||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}l.prototype.configure=function(t){this.options=n.merge(this.options,t);var e=t.autoInstrument,r=n.merge(this.autoInstrument);!1===t.enabled||!1===e?this.autoInstrument={}:(n.isType(e,"object")||(e=h),this.autoInstrument=n.merge(h,e)),this.instrument(r),void 0!==t.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!t.scrubTelemetryInputs),void 0!==t.telemetryScrubber&&(this.telemetryScrubber=t.telemetryScrubber)},l.prototype.instrument=function(t){!this.autoInstrument.network||t&&t.network?!this.autoInstrument.network&&t&&t.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||t&&t.log?!this.autoInstrument.log&&t&&t.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||t&&t.dom?!this.autoInstrument.dom&&t&&t.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||t&&t.navigation?!this.autoInstrument.navigation&&t&&t.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||t&&t.connectivity?!this.autoInstrument.connectivity&&t&&t.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||t&&t.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&t&&t.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()},l.prototype.deinstrumentNetwork=function(){c(this.replacements,"network")},l.prototype.instrumentNetwork=function(){var t=this;function e(e,r){e in r&&n.isFunction(r[e])&&u(r,e,(function(e){return t.rollbar.wrap(e)}))}if("XMLHttpRequest"in this._window){var r=this._window.XMLHttpRequest.prototype;u(r,"open",(function(t){return function(e,r){return n.isType(r,"string")&&(this.__rollbar_xhr?(this.__rollbar_xhr.method=e,this.__rollbar_xhr.url=r,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=n.now(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:e,url:r,status_code:null,start_time_ms:n.now(),end_time_ms:null}),t.apply(this,arguments)}}),this.replacements,"network"),u(r,"setRequestHeader",(function(e){return function(r,i){return this.__rollbar_xhr||(this.__rollbar_xhr={}),n.isType(r,"string")&&n.isType(i,"string")&&(t.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[r]=i),"content-type"===r.toLowerCase()&&(this.__rollbar_xhr.request_content_type=i)),e.apply(this,arguments)}}),this.replacements,"network"),u(r,"send",(function(r){return function(i){var o=this;function a(){if(o.__rollbar_xhr&&(null===o.__rollbar_xhr.status_code&&(o.__rollbar_xhr.status_code=0,t.autoInstrument.networkRequestBody&&(o.__rollbar_xhr.request=i),o.__rollbar_event=t.captureNetwork(o.__rollbar_xhr,"xhr",void 0)),o.readyState<2&&(o.__rollbar_xhr.start_time_ms=n.now()),o.readyState>3)){o.__rollbar_xhr.end_time_ms=n.now();var e=null;if(o.__rollbar_xhr.response_content_type=o.getResponseHeader("Content-Type"),t.autoInstrument.networkResponseHeaders){var r=t.autoInstrument.networkResponseHeaders;e={};try{var a,s;if(!0===r){var h=o.getAllResponseHeaders();if(h){var u,c,l=h.trim().split(/[\r\n]+/);for(s=0;s<l.length;s++)a=(u=l[s].split(": ")).shift(),c=u.join(": "),e[a]=c}}else for(s=0;s<r.length;s++)e[a=r[s]]=o.getResponseHeader(a)}catch(t){}}var f=null;if(t.autoInstrument.networkResponseBody)try{f=o.responseText}catch(t){}var d=null;(f||e)&&(d={},f&&(t.isJsonContentType(o.__rollbar_xhr.response_content_type)?d.body=t.scrubJson(f):d.body=f),e&&(d.headers=e)),d&&(o.__rollbar_xhr.response=d);try{var p=o.status;p=1223===p?204:p,o.__rollbar_xhr.status_code=p,o.__rollbar_event.level=t.telemeter.levelFromStatus(p),t.errorOnHttpStatus(o.__rollbar_xhr)}catch(t){}}}return e("onload",o),e("onerror",o),e("onprogress",o),"onreadystatechange"in o&&n.isFunction(o.onreadystatechange)?u(o,"onreadystatechange",(function(e){return t.rollbar.wrap(e,void 0,a)})):o.onreadystatechange=a,o.__rollbar_xhr&&t.trackHttpErrors()&&(o.__rollbar_xhr.stack=(new Error).stack),r.apply(this,arguments)}}),this.replacements,"network")}"fetch"in this._window&&u(this._window,"fetch",(function(e){return function(r,o){for(var a=new Array(arguments.length),s=0,h=a.length;s<h;s++)a[s]=arguments[s];var u,c=a[0],l="GET";n.isType(c,"string")?u=c:c&&(u=c.url,c.method&&(l=c.method)),a[1]&&a[1].method&&(l=a[1].method);var f={method:l,url:u,status_code:null,start_time_ms:n.now(),end_time_ms:null};if(a[1]&&a[1].headers){var d=i(a[1].headers);f.request_content_type=d.get("Content-Type"),t.autoInstrument.networkRequestHeaders&&(f.request_headers=t.fetchHeaders(d,t.autoInstrument.networkRequestHeaders))}return t.autoInstrument.networkRequestBody&&(a[1]&&a[1].body?f.request=a[1].body:a[0]&&!n.isType(a[0],"string")&&a[0].body&&(f.request=a[0].body)),t.captureNetwork(f,"fetch",void 0),t.trackHttpErrors()&&(f.stack=(new Error).stack),e.apply(this,a).then((function(e){f.end_time_ms=n.now(),f.status_code=e.status,f.response_content_type=e.headers.get("Content-Type");var r=null;t.autoInstrument.networkResponseHeaders&&(r=t.fetchHeaders(e.headers,t.autoInstrument.networkResponseHeaders));var i=null;return t.autoInstrument.networkResponseBody&&"function"==typeof e.text&&(i=e.clone().text()),(r||i)&&(f.response={},i&&("function"==typeof i.then?i.then((function(e){e&&t.isJsonContentType(f.response_content_type)?f.response.body=t.scrubJson(e):f.response.body=e})):f.response.body=i),r&&(f.response.headers=r)),t.errorOnHttpStatus(f),e}))}}),this.replacements,"network")},l.prototype.captureNetwork=function(t,e,r){return t.request&&this.isJsonContentType(t.request_content_type)&&(t.request=this.scrubJson(t.request)),this.telemeter.captureNetwork(t,e,r)},l.prototype.isJsonContentType=function(t){return!!(t&&n.isType(t,"string")&&t.toLowerCase().includes("json"))},l.prototype.scrubJson=function(t){return JSON.stringify(o(JSON.parse(t),this.options.scrubFields))},l.prototype.fetchHeaders=function(t,e){var r={};try{var n;if(!0===e){if("function"==typeof t.entries)for(var i=t.entries(),o=i.next();!o.done;)r[o.value[0]]=o.value[1],o=i.next()}else for(n=0;n<e.length;n++){var a=e[n];r[a]=t.get(a)}}catch(t){}return r},l.prototype.trackHttpErrors=function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0},l.prototype.errorOnHttpStatus=function(t){var e=t.status_code;if(e>=500&&this.autoInstrument.networkErrorOnHttp5xx||e>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===e&&this.autoInstrument.networkErrorOnHttp0){var r=new Error("HTTP request failed with Status "+e);r.stack=t.stack,this.rollbar.error(r,{skipFrames:1})}},l.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var t;this.replacements.log.length;)t=this.replacements.log.shift(),this._window.console[t[0]]=t[1]},l.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log){var t=this,e=this._window.console,r=["debug","info","warn","error","log"];try{for(var i=0,o=r.length;i<o;i++)a(r[i])}catch(t){this.diagnostic.instrumentConsole={error:t.message}}}function a(r){var i=e[r],o=e,a="warn"===r?"warning":r;e[r]=function(){var e=Array.prototype.slice.call(arguments),r=n.formatArgsAsString(e);t.telemeter.captureLog(r,a),i&&Function.prototype.apply.call(i,o,e)},t.replacements.log.push([r,i])}},l.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},l.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var t=this.handleClick.bind(this),e=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",t,!0),this.addListener("dom",this._window,"blur","onfocusout",e,!0)}},l.prototype.handleClick=function(t){try{var e=s.getElementFromEvent(t,this._document),r=e&&e.tagName,n=s.isDescribedElement(e,"a")||s.isDescribedElement(e,"button");r&&(n||s.isDescribedElement(e,"input",["button","submit"]))?this.captureDomEvent("click",e):s.isDescribedElement(e,"input",["checkbox","radio"])&&this.captureDomEvent("input",e,e.value,e.checked)}catch(t){}},l.prototype.handleBlur=function(t){try{var e=s.getElementFromEvent(t,this._document);e&&e.tagName&&(s.isDescribedElement(e,"textarea")?this.captureDomEvent("input",e,e.value):s.isDescribedElement(e,"select")&&e.options&&e.options.length?this.handleSelectInputChanged(e):s.isDescribedElement(e,"input")&&!s.isDescribedElement(e,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",e,e.value))}catch(t){}},l.prototype.handleSelectInputChanged=function(t){if(t.multiple)for(var e=0;e<t.options.length;e++)t.options[e].selected&&this.captureDomEvent("input",t,t.options[e].value);else t.selectedIndex>=0&&t.options[t.selectedIndex]&&this.captureDomEvent("input",t,t.options[t.selectedIndex].value)},l.prototype.captureDomEvent=function(t,e,r,n){if(void 0!==r)if(this.scrubTelemetryInputs||"password"===s.getElementType(e))r="[scrubbed]";else{var i=s.describeElement(e);this.telemetryScrubber?this.telemetryScrubber(i)&&(r="[scrubbed]"):this.defaultValueScrubber(i)&&(r="[scrubbed]")}var o=s.elementArrayToString(s.treeToArray(e));this.telemeter.captureDom(t,o,r,n)},l.prototype.deinstrumentNavigation=function(){var t=this._window.chrome;!(t&&t.app&&t.app.runtime)&&this._window.history&&this._window.history.pushState&&c(this.replacements,"navigation")},l.prototype.instrumentNavigation=function(){var t=this._window.chrome;if(!(t&&t.app&&t.app.runtime)&&this._window.history&&this._window.history.pushState){var e=this;u(this._window,"onpopstate",(function(t){return function(){var r=e._location.href;e.handleUrlChange(e._lastHref,r),t&&t.apply(this,arguments)}}),this.replacements,"navigation"),u(this._window.history,"pushState",(function(t){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&e.handleUrlChange(e._lastHref,r+""),t.apply(this,arguments)}}),this.replacements,"navigation")}},l.prototype.handleUrlChange=function(t,e){var r=a.parse(this._location.href),n=a.parse(e),i=a.parse(t);this._lastHref=e,r.protocol===n.protocol&&r.host===n.host&&(e=n.path+(n.hash||"")),r.protocol===i.protocol&&r.host===i.host&&(t=i.path+(i.hash||"")),this.telemeter.captureNavigation(t,e)},l.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):c(this.replacements,"connectivity"))},l.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var t=this;u(this._document.body,"ononline",(function(e){return function(){t.telemeter.captureConnectivityChange("online"),e&&e.apply(this,arguments)}}),this.replacements,"connectivity"),u(this._document.body,"onoffline",(function(e){return function(){t.telemeter.captureConnectivityChange("offline"),e&&e.apply(this,arguments)}}),this.replacements,"connectivity")}},l.prototype.handleCspEvent=function(t){var e="Security Policy Violation: blockedURI: "+t.blockedURI+", violatedDirective: "+t.violatedDirective+", effectiveDirective: "+t.effectiveDirective+", ";t.sourceFile&&(e+="location: "+t.sourceFile+", line: "+t.lineNumber+", col: "+t.columnNumber+", "),e+="originalPolicy: "+t.originalPolicy,this.telemeter.captureLog(e,"error"),this.handleCspError(e)},l.prototype.handleCspError=function(t){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(t)},l.prototype.deinstrumentContentSecurityPolicy=function(){"addEventListener"in this._document&&this.removeListeners("contentsecuritypolicy")},l.prototype.instrumentContentSecurityPolicy=function(){if("addEventListener"in this._document){var t=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,"securitypolicyviolation",null,t,!1)}},l.prototype.addListener=function(t,e,r,n,i,o){e.addEventListener?(e.addEventListener(r,i,o),this.eventRemovers[t].push((function(){e.removeEventListener(r,i,o)}))):n&&(e.attachEvent(n,i),this.eventRemovers[t].push((function(){e.detachEvent(n,i)})))},l.prototype.removeListeners=function(t){for(;this.eventRemovers[t].length;)this.eventRemovers[t].shift()()},t.exports=l},function(t,e,r){"use strict";function n(t){return"string"!=typeof t&&(t=String(t)),t.toLowerCase()}function i(t){this.map={},t instanceof i?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}i.prototype.append=function(t,e){t=n(t),e=function(t){return"string"!=typeof t&&(t=String(t)),t}(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},i.prototype.get=function(t){return t=n(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(n(t))},i.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},i.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),function(t){return{next:function(){var e=t.shift();return{done:void 0===e,value:e}}}}(t)},t.exports=function(t){return"undefined"==typeof Headers?new i(t):new Headers(t)}},function(t,e,r){"use strict";function n(t){return(t.getAttribute("type")||"").toLowerCase()}function i(t){if(!t||!t.tagName)return"";var e=[t.tagName];t.id&&e.push("#"+t.id),t.classes&&e.push("."+t.classes.join("."));for(var r=0;r<t.attributes.length;r++)e.push("["+t.attributes[r].key+'="'+t.attributes[r].value+'"]');return e.join("")}function o(t){if(!t||!t.tagName)return null;var e,r,n,i,o={};o.tagName=t.tagName.toLowerCase(),t.id&&(o.id=t.id),(e=t.className)&&"string"==typeof e&&(o.classes=e.split(/\s+/));var a=["type","name","title","alt"];for(o.attributes=[],i=0;i<a.length;i++)r=a[i],(n=t.getAttribute(r))&&o.attributes.push({key:r,value:n});return o}t.exports={describeElement:o,descriptionToString:i,elementArrayToString:function(t){for(var e,r,n=3,o=[],a=0,s=t.length-1;s>=0;s--){if(e=i(t[s]),r=a+o.length*n+e.length,s<t.length-1&&r>=83){o.unshift("...");break}o.unshift(e),a+=e.length}return o.join(" > ")},treeToArray:function(t){for(var e,r=[],n=0;t&&n<5&&"html"!==(e=o(t)).tagName;n++)r.unshift(e),t=t.parentNode;return r},getElementFromEvent:function(t,e){return t.target?t.target:e&&e.elementFromPoint?e.elementFromPoint(t.clientX,t.clientY):void 0},isDescribedElement:function(t,e,r){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!r)return!0;t=n(t);for(var i=0;i<r.length;i++)if(r[i]===t)return!0;return!1},getElementType:n}},function(t,e,r){"use strict";var n=r(36);t.exports=n},function(t,e){t.exports=function(t){var e,r,n,i,o,a,s,h,u,c,l,f,d,p=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function v(t){return t<10?"0"+t:t}function m(){return this.valueOf()}function g(t){return p.lastIndex=0,p.test(t)?'"'+t.replace(p,(function(t){var e=n[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+v(this.getUTCMonth()+1)+"-"+v(this.getUTCDate())+"T"+v(this.getUTCHours())+":"+v(this.getUTCMinutes())+":"+v(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=m,Number.prototype.toJSON=m,String.prototype.toJSON=m),"function"!=typeof t.stringify&&(n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t.stringify=function(t,n,o){var a;if(e="",r="","number"==typeof o)for(a=0;a<o;a+=1)r+=" ";else"string"==typeof o&&(r=o);if(i=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return function t(n,o){var a,s,h,u,c,l=e,f=o[n];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(n)),"function"==typeof i&&(f=i.call(o,n,f)),typeof f){case"string":return g(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(e+=r,c=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,a=0;a<u;a+=1)c[a]=t(a,f)||"null";return h=0===c.length?"[]":e?"[\n"+e+c.join(",\n"+e)+"\n"+l+"]":"["+c.join(",")+"]",e=l,h}if(i&&"object"==typeof i)for(u=i.length,a=0;a<u;a+=1)"string"==typeof i[a]&&(h=t(s=i[a],f))&&c.push(g(s)+(e?": ":":")+h);else for(s in f)Object.prototype.hasOwnProperty.call(f,s)&&(h=t(s,f))&&c.push(g(s)+(e?": ":":")+h);return h=0===c.length?"{}":e?"{\n"+e+c.join(",\n"+e)+"\n"+l+"}":"{"+c.join(",")+"}",e=l,h}}("",{"":t})}),"function"!=typeof t.parse&&(t.parse=(c={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},l={go:function(){o="ok"},firstokey:function(){h=u,o="colon"},okey:function(){h=u,o="colon"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},f={go:function(){o="ok"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},d={"{":{go:function(){a.push({state:"ok"}),s={},o="firstokey"},ovalue:function(){a.push({container:s,state:"ocomma",key:h}),s={},o="firstokey"},firstavalue:function(){a.push({container:s,state:"acomma"}),s={},o="firstokey"},avalue:function(){a.push({container:s,state:"acomma"}),s={},o="firstokey"}},"}":{firstokey:function(){var t=a.pop();u=s,s=t.container,h=t.key,o=t.state},ocomma:function(){var t=a.pop();s[h]=u,u=s,s=t.container,h=t.key,o=t.state}},"[":{go:function(){a.push({state:"ok"}),s=[],o="firstavalue"},ovalue:function(){a.push({container:s,state:"ocomma",key:h}),s=[],o="firstavalue"},firstavalue:function(){a.push({container:s,state:"acomma"}),s=[],o="firstavalue"},avalue:function(){a.push({container:s,state:"acomma"}),s=[],o="firstavalue"}},"]":{firstavalue:function(){var t=a.pop();u=s,s=t.container,h=t.key,o=t.state},acomma:function(){var t=a.pop();s.push(u),u=s,s=t.container,h=t.key,o=t.state}},":":{colon:function(){if(Object.hasOwnProperty.call(s,h))throw new SyntaxError("Duplicate key '"+h+'"');o="ovalue"}},",":{ocomma:function(){s[h]=u,o="okey"},acomma:function(){s.push(u),o="avalue"}},true:{go:function(){u=!0,o="ok"},ovalue:function(){u=!0,o="ocomma"},firstavalue:function(){u=!0,o="acomma"},avalue:function(){u=!0,o="acomma"}},false:{go:function(){u=!1,o="ok"},ovalue:function(){u=!1,o="ocomma"},firstavalue:function(){u=!1,o="acomma"},avalue:function(){u=!1,o="acomma"}},null:{go:function(){u=null,o="ok"},ovalue:function(){u=null,o="ocomma"},firstavalue:function(){u=null,o="acomma"},avalue:function(){u=null,o="acomma"}}},function(t,e){var r,n,i=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;o="go",a=[];try{for(;r=i.exec(t);)r[1]?d[r[1]][o]():r[2]?(u=+r[2],f[o]()):(n=r[3],u=n.replace(/\\(?:u(.{4})|([^u]))/g,(function(t,e,r){return e?String.fromCharCode(parseInt(e,16)):c[r]})),l[o]()),t=t.slice(r[0].length)}catch(t){o=t}if("ok"!==o||/[^\u0020\t\n\r]/.test(t))throw o instanceof SyntaxError?o:new SyntaxError("JSON");return"function"==typeof e?function t(r,n){var i,o,a=r[n];if(a&&"object"==typeof a)for(i in u)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=t(a,i))?a[i]=o:delete a[i]);return e.call(r,n,a)}({"":u},""):u}))}},function(t,e,r){"use strict";function n(t,e,r){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var n=e.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var i=function(e,r,i){n.call(this,e,t.wrap(r),i)};i._rollbarOldAdd=n,i.belongsToShim=r,e.addEventListener=i;for(var o=e.removeEventListener;o._rollbarOldRemove&&o.belongsToShim;)o=o._rollbarOldRemove;var a=function(t,e,r){o.call(this,t,e&&e._rollbar_wrapped||e,r)};a._rollbarOldRemove=o,a.belongsToShim=r,e.removeEventListener=a}}t.exports=function(t,e,r){if(t){var i,o,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(i=0;i<a.length;++i)t[o=a[i]]&&t[o].prototype&&n(e,t[o].prototype,r)}}},function(t,e,r){"use strict";var n=r(0),i=r(5);function o(t,e){return[t,n.stringify(t,e)]}function a(t,e){var r=t.length;return r>2*e?t.slice(0,e).concat(t.slice(r-e)):t}function s(t,e,r){r=void 0===r?30:r;var i,o=t.data.body;if(o.trace_chain)for(var s=o.trace_chain,h=0;h<s.length;h++)i=a(i=s[h].frames,r),s[h].frames=i;else o.trace&&(i=a(i=o.trace.frames,r),o.trace.frames=i);return[t,n.stringify(t,e)]}function h(t,e){return e&&e.length>t?e.slice(0,t-3).concat("..."):e}function u(t,e,r){return[e=i(e,(function e(r,o,a){switch(n.typeName(o)){case"string":return h(t,o);case"object":case"array":return i(o,e,a);default:return o}})),n.stringify(e,r)]}function c(t){return t.exception&&(delete t.exception.description,t.exception.message=h(255,t.exception.message)),t.frames=a(t.frames,1),t}function l(t,e){var r=t.data.body;if(r.trace_chain)for(var i=r.trace_chain,o=0;o<i.length;o++)i[o]=c(i[o]);else r.trace&&(r.trace=c(r.trace));return[t,n.stringify(t,e)]}function f(t,e){return n.maxByteSize(t)>e}t.exports={truncate:function(t,e,r){r=void 0===r?524288:r;for(var n,i,a,h=[o,s,u.bind(null,1024),u.bind(null,512),u.bind(null,256),l];n=h.shift();)if(t=(i=n(t,e))[0],(a=i[1]).error||!f(a.value,r))return a;return a},raw:o,truncateFrames:s,truncateStrings:u,maybeTruncateValue:h}}])},function(t){t.exports=function(){"use strict";var t={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},e=Array.prototype.slice;function r(t){var r=t.length;return r?1===r?[t[0]]:2===r?[t[0],t[1]]:3===r?[t[0],t[1],t[2]]:e.call(t,0):[]}function n(e){var r={};for(var n in e)t[n]||(r[n]=e[n]);return r}function i(t){return"function"===typeof t&&t.isMemoized}function o(t,e){return t===e||t!==t&&e!==e}function a(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}var s=function(){function t(t){this.keys=[],this.values=[],this.options=t;var e="function"===typeof t.isMatchingKey;e?this.getKeyIndex=this._getKeyIndexFromMatchingKey:t.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey="function"===typeof t.transformKey,this.shouldCloneArguments=this.canTransformKey||e,this.shouldUpdateOnAdd="function"===typeof t.onCacheAdd,this.shouldUpdateOnChange="function"===typeof t.onCacheChange,this.shouldUpdateOnHit="function"===typeof t.onCacheHit}return Object.defineProperty(t.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return{keys:r(this.keys),size:this.size,values:r(this.values)}},enumerable:!1,configurable:!0}),t.prototype._getKeyIndexFromMatchingKey=function(t){var e=this.options,r=e.isMatchingKey,n=e.maxSize,i=this.keys,o=i.length;if(!o)return-1;if(r(i[0],t))return 0;if(n>1)for(var a=1;a<o;a++)if(r(i[a],t))return a;return-1},t.prototype._getKeyIndexForMany=function(t){var e=this.options.isEqual,r=this.keys,n=r.length;if(!n)return-1;if(1===n)return this._getKeyIndexForSingle(t);var i,o,a=t.length;if(a>1){for(var s=0;s<n;s++)if((i=r[s]).length===a){for(o=0;o<a&&e(i[o],t[o]);o++);if(o===a)return s}}else for(s=0;s<n;s++)if((i=r[s]).length===a&&e(i[0],t[0]))return s;return-1},t.prototype._getKeyIndexForSingle=function(t){var e=this.keys;if(!e.length)return-1;var r=e[0],n=r.length;if(t.length!==n)return-1;var i=this.options.isEqual;if(n>1){for(var o=0;o<n;o++)if(!i(r[o],t[o]))return-1;return 0}return i(r[0],t[0])?0:-1},t.prototype.orderByLru=function(t,e,r){for(var n=this.keys,i=this.values,o=n.length,a=r;a--;)n[a+1]=n[a],i[a+1]=i[a];n[0]=t,i[0]=e;var s=this.options.maxSize;o===s&&r===o?(n.pop(),i.pop()):r>=s&&(n.length=i.length=s)},t.prototype.updateAsyncCache=function(t){var e=this,r=this.options,n=r.onCacheChange,i=r.onCacheHit,o=this.keys[0],a=this.values[0];this.values[0]=a.then((function(r){return e.shouldUpdateOnHit&&i(e,e.options,t),e.shouldUpdateOnChange&&n(e,e.options,t),r}),(function(t){var r=e.getKeyIndex(o);throw-1!==r&&(e.keys.splice(r,1),e.values.splice(r,1)),t}))},t}();function h(t,e){if(void 0===e&&(e={}),i(t))return h(t.fn,a(t.options,e));if("function"!==typeof t)throw new TypeError("You must pass a function to `memoize`.");var u=e.isEqual,c=void 0===u?o:u,l=e.isMatchingKey,f=e.isPromise,d=void 0!==f&&f,p=e.maxSize,v=void 0===p?1:p,m=e.onCacheAdd,g=e.onCacheChange,y=e.onCacheHit,b=e.transformKey,w=a({isEqual:c,isMatchingKey:l,isPromise:d,maxSize:v,onCacheAdd:m,onCacheChange:g,onCacheHit:y,transformKey:b},n(e)),x=new s(w),E=x.keys,S=x.values,A=x.canTransformKey,k=x.shouldCloneArguments,I=x.shouldUpdateOnAdd,T=x.shouldUpdateOnChange,C=x.shouldUpdateOnHit,O=function(){var e=k?r(arguments):arguments;A&&(e=b(e));var n=E.length?x.getKeyIndex(e):-1;if(-1!==n)C&&y(x,w,O),n&&(x.orderByLru(E[n],S[n],n),T&&g(x,w,O));else{var i=t.apply(this,arguments),o=k?e:r(arguments);x.orderByLru(o,i,E.length),d&&x.updateAsyncCache(O),I&&m(x,w,O),T&&g(x,w,O)}return S[0]};return O.cache=x,O.fn=t,O.isMemoized=!0,O.options=w,O}return h}()},function(t,e,r){"use strict";var n=r(20).get;function i(t,e){return t===e}t.exports=function(t,e,r){r=r||i;var o=n(t(),e);return function(i){return function(){var a=n(t(),e);if(!r(o,a)){var s=o;o=a,i(a,s,e)}}}}},function(t){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],s]:t._events[h].push(s):(t._events[h]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var h,u,c=this._events[s],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,a),!0}for(u=1,h=new Array(l-1);u<l;u++)h[u-1]=arguments[u];c.fn.apply(c.context,h)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,i);break;default:if(!h)for(f=1,h=new Array(l-1);f<l;f++)h[f-1]=arguments[f];c[u].fn.apply(c[u].context,h)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var h=0,u=[],c=s.length;h<c;h++)(s[h].fn!==e||i&&!s[h].once||n&&s[h].context!==n)&&u.push(s[h]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s},,,function(t,e,r){"use strict";function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}r.d(e,{Z:function(){return n}})},function(t,e,r){"use strict";function n(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}r.d(e,{Z:function(){return n}})},function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{Z:function(){return i}})},,,,function(t,e,r){"use strict";r.d(e,{md:function(){return p},UY:function(){return f},qC:function(){return d},MT:function(){return l}});var n=r(29);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){var i,o,a;i=t,o=e,a=r[e],(o=(0,n.Z)(o))in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var s="function"===typeof Symbol&&Symbol.observable||"@@observable",h=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+h(),REPLACE:"@@redux/REPLACE"+h(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h()}};function c(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function l(t,e,r){var n;if("function"===typeof e&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(a(0));if("function"===typeof e&&"undefined"===typeof r&&(r=e,e=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(a(1));return r(l)(t,e)}if("function"!==typeof t)throw new Error(a(2));var i=t,o=e,h=[],f=h,d=!1;function p(){f===h&&(f=h.slice())}function v(){if(d)throw new Error(a(3));return o}function m(t){if("function"!==typeof t)throw new Error(a(4));if(d)throw new Error(a(5));var e=!0;return p(),f.push(t),function(){if(e){if(d)throw new Error(a(6));e=!1,p();var r=f.indexOf(t);f.splice(r,1),h=null}}}function g(t){if(!c(t))throw new Error(a(7));if("undefined"===typeof t.type)throw new Error(a(8));if(d)throw new Error(a(9));try{d=!0,o=i(o,t)}finally{d=!1}for(var e=h=f,r=0;r<e.length;r++){(0,e[r])()}return t}return g({type:u.INIT}),(n={dispatch:g,subscribe:m,getState:v,replaceReducer:function(t){if("function"!==typeof t)throw new Error(a(10));i=t,g({type:u.REPLACE})}})[s]=function(){var t,e=m;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(a(11));function r(){t.next&&t.next(v())}return r(),{unsubscribe:e(r)}}})[s]=function(){return this},t},n}function f(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];0,"function"===typeof t[i]&&(r[i]=t[i])}var o,s=Object.keys(r);try{!function(t){Object.keys(t).forEach((function(e){var r=t[e];if("undefined"===typeof r(void 0,{type:u.INIT}))throw new Error(a(12));if("undefined"===typeof r(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(r)}catch(h){o=h}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var n=!1,i={},h=0;h<s.length;h++){var u=s[h],c=r[u],l=t[u],f=c(l,e);if("undefined"===typeof f){e&&e.type;throw new Error(a(14))}i[u]=f,n=n||f!==l}return(n=n||s.length!==Object.keys(t).length)?i:t}}function d(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function p(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return function(){var r=t.apply(void 0,arguments),n=function(){throw new Error(a(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},s=e.map((function(t){return t(i)}));return n=d.apply(void 0,s)(r.dispatch),o(o({},r),{},{dispatch:n})}}}},function(t,e,r){"use strict";function n(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(t){return!!t&&!!t[G]}function o(t){var e;return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Z}(t)||Array.isArray(t)||!!t[z]||!!(null===(e=t.constructor)||void 0===e?void 0:e[z])||f(t)||d(t))}function a(t,e,r){void 0===r&&(r=!1),0===s(t)?(r?Object.keys:H)(t).forEach((function(n){r&&"symbol"==typeof n||e(n,t[n],t)})):t.forEach((function(r,n){return e(n,r,t)}))}function s(t){var e=t[G];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:f(t)?2:d(t)?3:0}function h(t,e){return 2===s(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){return 2===s(t)?t.get(e):t[e]}function c(t,e,r){var n=s(t);2===n?t.set(e,r):3===n?t.add(r):t[e]=r}function l(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function f(t){return U&&t instanceof Map}function d(t){return V&&t instanceof Set}function p(t){return t.o||t.t}function v(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=J(t);delete e[G];for(var r=H(e),n=0;n<r.length;n++){var i=r[n],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function m(t,e){return void 0===e&&(e=!1),y(t)||i(t)||!o(t)||(s(t)>1&&(t.set=t.add=t.clear=t.delete=g),Object.freeze(t),e&&a(t,(function(t,e){return m(e,!0)}),!0)),t}function g(){n(2)}function y(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function b(t){var e=K[t];return e||n(18,t),e}function w(t,e){K[t]||(K[t]=e)}function x(){return X}function E(t,e){e&&(b("Patches"),t.u=[],t.s=[],t.v=e)}function S(t){A(t),t.p.forEach(I),t.p=null}function A(t){t===X&&(X=t.l)}function k(t){return X={p:[],l:X,h:t,m:!0,_:0}}function I(t){var e=t[G];0===e.i||1===e.i?e.j():e.g=!0}function T(t,e){e._=e.p.length;var r=e.p[0],i=void 0!==t&&t!==r;return e.h.O||b("ES5").S(e,t,i),i?(r[G].P&&(S(e),n(4)),o(t)&&(t=C(e,t),e.l||_(e,t)),e.u&&b("Patches").M(r[G].t,t,e.u,e.s)):t=C(e,r,[]),S(e),e.u&&e.v(e.u,e.s),t!==W?t:void 0}function C(t,e,r){if(y(e))return e;var n=e[G];if(!n)return a(e,(function(i,o){return O(t,n,e,i,o,r)}),!0),e;if(n.A!==t)return e;if(!n.P)return _(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=v(n.k):n.o,o=i,s=!1;3===n.i&&(o=new Set(i),i.clear(),s=!0),a(o,(function(e,o){return O(t,n,i,e,o,r,s)})),_(t,i,!1),r&&t.u&&b("Patches").N(n,r,t.u,t.s)}return n.o}function O(t,e,r,n,a,s,u){if(i(a)){var l=C(t,a,s&&e&&3!==e.i&&!h(e.R,n)?s.concat(n):void 0);if(c(r,n,l),!i(l))return;t.m=!1}else u&&r.add(a);if(o(a)&&!y(a)){if(!t.h.D&&t._<1)return;C(t,a),e&&e.A.l||_(t,a)}}function _(t,e,r){void 0===r&&(r=!1),!t.l&&t.h.D&&t.m&&m(e,r)}function R(t,e){var r=t[G];return(r?p(r):t)[e]}function P(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function F(t){t.P||(t.P=!0,t.l&&F(t.l))}function L(t){t.o||(t.o=v(t.t))}function M(t,e,r){var n=f(e)?b("MapSet").F(e,r):d(e)?b("MapSet").T(e,r):t.O?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:x(),P:!1,I:!1,R:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=n,o=Q;r&&(i=[n],o=$);var a=Proxy.revocable(i,o),s=a.revoke,h=a.proxy;return n.k=h,n.j=s,h}(e,r):b("ES5").J(e,r);return(r?r.A:x()).p.push(n),n}function Y(t){return i(t)||n(22,t),function t(e){if(!o(e))return e;var r,n=e[G],i=s(e);if(n){if(!n.P&&(n.i<4||!b("ES5").K(n)))return n.t;n.I=!0,r=N(e,i),n.I=!1}else r=N(e,i);return a(r,(function(e,i){n&&u(n.t,e)===i||c(r,e,t(i))})),3===i?new Set(r):r}(t)}function N(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return v(t)}function B(){function t(t,e){var r=o[t];return r?r.enumerable=e:o[t]=r={configurable:!0,enumerable:e,get:function(){var e=this[G];return Q.get(e,t)},set:function(e){var r=this[G];Q.set(r,t,e)}},r}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][G];if(!i.P)switch(i.i){case 5:n(i)&&F(i);break;case 4:r(i)&&F(i)}}}function r(t){for(var e=t.t,r=t.k,n=H(r),i=n.length-1;i>=0;i--){var o=n[i];if(o!==G){var a=e[o];if(void 0===a&&!h(e,o))return!0;var s=r[o],u=s&&s[G];if(u?u.t!==a:!l(s,a))return!0}}var c=!!e[G];return n.length!==H(e).length+(c?0:1)}function n(t){var e=t.k;if(e.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(e,e.length-1);if(r&&!r.get)return!0;for(var n=0;n<e.length;n++)if(!e.hasOwnProperty(n))return!0;return!1}var o={};w("ES5",{J:function(e,r){var n=Array.isArray(e),i=function(e,r){if(e){for(var n=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(n,""+i,t(i,!0));return n}var o=J(r);delete o[G];for(var a=H(o),s=0;s<a.length;s++){var h=a[s];o[h]=t(h,e||!!o[h].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(n,e),o={i:n?5:4,A:r?r.A:x(),P:!1,I:!1,R:{},l:r,t:e,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,G,{value:o,writable:!0}),i},S:function(t,r,o){o?i(r)&&r[G].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var r=e[G];if(r){var i=r.t,o=r.k,s=r.R,u=r.i;if(4===u)a(o,(function(e){e!==G&&(void 0!==i[e]||h(i,e)?s[e]||t(o[e]):(s[e]=!0,F(r)))})),a(i,(function(t){void 0!==o[t]||h(o,t)||(s[t]=!1,F(r))}));else if(5===u){if(n(r)&&(F(r),s.length=!0),o.length<i.length)for(var c=o.length;c<i.length;c++)s[c]=!1;else for(var l=i.length;l<o.length;l++)s[l]=!0;for(var f=Math.min(o.length,i.length),d=0;d<f;d++)o.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&t(o[d])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?r(t):n(t)}})}r.d(e,{pV:function(){return B}});var j,X,D="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,V="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,W=D?Symbol.for("immer-nothing"):((j={})["immer-nothing"]=!0,j),z=D?Symbol.for("immer-draftable"):"__$immer_draftable",G=D?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),H="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,J=Object.getOwnPropertyDescriptors||function(t){var e={};return H(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},K={},Q={get:function(t,e){if(e===G)return t;var r=p(t);if(!h(r,e))return function(t,e,r){var n,i=P(e,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(t.k):void 0}(t,r,e);var n=r[e];return t.I||!o(n)?n:n===R(t.t,e)?(L(t),t.o[e]=M(t.A.h,n,t)):n},has:function(t,e){return e in p(t)},ownKeys:function(t){return Reflect.ownKeys(p(t))},set:function(t,e,r){var n=P(p(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=R(p(t),e),o=null==i?void 0:i[G];if(o&&o.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(l(r,i)&&(void 0!==r||h(t.t,e)))return!0;L(t),F(t)}return t.o[e]===r&&(void 0!==r||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return void 0!==R(t.t,e)||e in t.t?(t.R[e]=!1,L(t),F(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=p(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){n(12)}},$={};a(Q,(function(t,e){$[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),$.deleteProperty=function(t,e){return $.set.call(this,t,e,void 0)},$.set=function(t,e,r){return Q.set.call(this,t[0],e,r,t[0])};var tt=function(){function t(t){var e=this;this.O=q,this.D=!0,this.produce=function(t,r,i){if("function"==typeof t&&"function"!=typeof r){var a=r;r=t;var s=e;return function(t){var e=this;void 0===t&&(t=a);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return s.produce(t,(function(t){var n;return(n=r).call.apply(n,[e,t].concat(i))}))}}var h;if("function"!=typeof r&&n(6),void 0!==i&&"function"!=typeof i&&n(7),o(t)){var u=k(e),c=M(e,t,void 0),l=!0;try{h=r(c),l=!1}finally{l?S(u):A(u)}return"undefined"!=typeof Promise&&h instanceof Promise?h.then((function(t){return E(u,i),T(t,u)}),(function(t){throw S(u),t})):(E(u,i),T(h,u))}if(!t||"object"!=typeof t){if(void 0===(h=r(t))&&(h=t),h===W&&(h=void 0),e.D&&m(h,!0),i){var f=[],d=[];b("Patches").M(t,h,f,d),i(f,d)}return h}n(21,t)},this.produceWithPatches=function(t,r){if("function"==typeof t)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(e){return t.apply(void 0,[e].concat(i))}))};var n,i,o=e.produce(t,r,(function(t,e){n=t,i=e}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return[t,n,i]})):[o,n,i]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){o(t)||n(8),i(t)&&(t=Y(t));var e=k(this),r=M(this,t,void 0);return r[G].C=!0,A(e),r},e.finishDraft=function(t,e){var r=(t&&t[G]).A;return E(r,e),T(void 0,r)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!q&&n(20),this.O=t},e.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}r>-1&&(e=e.slice(r+1));var o=b("Patches").$;return i(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}(),et=new tt,rt=et.produce;et.produceWithPatches.bind(et),et.setAutoFreeze.bind(et),et.setUseProxies.bind(et),et.applyPatches.bind(et),et.createDraft.bind(et),et.finishDraft.bind(et);e.ZP=rt},,function(t,e,r){"use strict";r.d(e,{P1:function(){return s}});var n="NOT_FOUND";var i=function(t,e){return t===e};function o(t,e){var r="object"===typeof e?e:{equalityCheck:e},o=r.equalityCheck,a=void 0===o?i:o,s=r.maxSize,h=void 0===s?1:s,u=r.resultEqualityCheck,c=function(t){return function(e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var n=e.length,i=0;i<n;i++)if(!t(e[i],r[i]))return!1;return!0}}(a),l=1===h?function(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:n},put:function(t,r){e={key:t,value:r}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(c):function(t,e){var r=[];function i(t){var i=r.findIndex((function(r){return e(t,r.key)}));if(i>-1){var o=r[i];return i>0&&(r.splice(i,1),r.unshift(o)),o.value}return n}return{get:i,put:function(e,o){i(e)===n&&(r.unshift({key:e,value:o}),r.length>t&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(h,c);function f(){var e=l.get(arguments);if(e===n){if(e=t.apply(null,arguments),u){var r=l.getEntries().find((function(t){return u(t.value,e)}));r&&(e=r.value)}l.put(arguments,e)}return e}return f.clearCache=function(){return l.clear()},f}function a(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},h=n.pop();if("object"===typeof h&&(s=h,h=n.pop()),"function"!==typeof h)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var u=s.memoizeOptions,c=void 0===u?r:u,l=Array.isArray(c)?c:[c],f=function(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var r=e.map((function(t){return"function"===typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return e}(n),d=t.apply(void 0,[function(){return a++,h.apply(null,arguments)}].concat(l)),p=t((function(){for(var t=[],e=f.length,r=0;r<e;r++)t.push(f[r].apply(null,arguments));return o=d.apply(null,t)}));return Object.assign(p,{resultFunc:h,memoizedResultFunc:d,dependencies:f,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}}var s=a(o)},,,,,,,,,,,,,,,,function(t,e,r){"use strict";if(r.d(e,{r$:function(){return In},cq:function(){return Fn}}),"undefined"!==typeof window&&window.Phaser){var n=window.require;window.require=function(t){return n?n(t):"Phaser"===t?window.Phaser:void 0}}var i,o,a=r(6),s=r(2),h=r(0),u=r(25),c="spine",l=(function(){function t(){this.array=new Array}var e=t.prototype;e.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},e.contains=function(t){return void 0!=this.array[0|t]},e.remove=function(t){this.array[0|t]=void 0},e.clear=function(){this.array.length=0}}(),function(){function t(){this.entries={},this.size=0}var e=t.prototype;return e.add=function(t){var e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)},e.addAll=function(t){for(var e=this.size,r=0,n=t.length;r<n;r++)this.add(t[r]);return e!=this.size},e.contains=function(t){return this.entries[t]},e.clear=function(){this.entries={},this.size=0},t}()),f=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=void 0,this.g=void 0,this.b=void 0,this.a=void 0,this.r=t,this.g=e,this.b=r,this.a=n}var e=t.prototype;return e.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp()},e.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},e.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this},e.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp()},e.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},t.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},t.fromString=function(e){return(new t).setFromString(e)},t}();i=f,f.WHITE=new i(1,1,1,1),f.RED=new i(1,0,0,1),f.GREEN=new i(0,1,0,1),f.BLUE=new i(0,0,1,1),f.MAGENTA=new i(1,0,1,1);var d=function(){function t(){}return t.clamp=function(t,e,r){return t<e?e:t>r?r:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,.5*(e+r))},t.randomTriangularWith=function(t,e,r){var n=Math.random(),i=e-t;return n<=(r-t)/i?t+Math.sqrt(n*i*(r-t)):e-Math.sqrt((1-n)*i*(e-r))},t.isPowerOfTwo=function(t){return t&&0===(t&t-1)},t}();o=d,d.PI=3.1415927,d.PI2=2*o.PI,d.radiansToDegrees=180/o.PI,d.radDeg=o.radiansToDegrees,d.degreesToRadians=o.PI/180,d.degRad=o.degreesToRadians;!function(t){function e(e){return t.call(this,e)||this}(0,h.Z)(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}}(function(t){function e(e){var r;return(r=t.call(this)||this).power=2,r.power=e,r}return(0,h.Z)(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(function(){function t(){}return t.prototype.apply=function(t,e,r){return t+(e-t)*this.applyInternal(r)},t}()));var p=function(){function t(){}return t.arrayCopy=function(t,e,r,n,i){for(var o=e,a=n;o<e+i;o++,a++)r[a]=t[o]},t.arrayFill=function(t,e,r,n){for(var i=e;i<r;i++)t[i]=n},t.setArraySize=function(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var i=n;i<e;i++)t[i]=r;return t},t.ensureArrayCapacity=function(e,r,n){return void 0===n&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e},t.webkit602BugfixHelper=function(t,e){},t.contains=function(t,e,r){void 0===r&&(r=!0);for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},t.enumValue=function(t,e){return t[e[0].toUpperCase()+e.slice(1)]},t}();p.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array;!function(){function t(){}t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var r=t.bones[e];console.log(r.data.name+", "+r.a+", "+r.b+", "+r.c+", "+r.d+", "+r.worldX+", "+r.worldY)}}}();var v=function(){function t(t){this.items=new Array,this.instantiator=void 0,this.instantiator=t}var e=t.prototype;return e.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},e.free=function(t){t.reset&&t.reset(),this.items.push(t)},e.freeAll=function(t){for(var e=0;e<t.length;e++)this.free(t[e])},e.clear=function(){this.items.length=0},t}(),m=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=void 0,this.y=void 0,this.x=t,this.y=e}var e=t.prototype;return e.set=function(t,e){return this.x=t,this.y=e,this},e.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},e.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}(),g=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}(),y=(function(){function t(t){void 0===t&&(t=32),this.values=void 0,this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}var e=t.prototype;e.hasEnoughData=function(){return this.addedValues>=this.values.length},e.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},e.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}}(),function(t){if(this.name=void 0,!t)throw new Error("name cannot be null.");this.name=t}),b=function(t){function e(r){var n;return(n=t.call(this,r)||this).id=e.nextID++,n.bones=null,n.vertices=[],n.worldVerticesLength=0,n.timelineAttachment=(0,s.Z)(n),n}(0,h.Z)(e,t);var r=e.prototype;return r.computeWorldVertices=function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.deform,h=this.vertices,u=this.bones;if(u){for(var c=0,l=0,f=0;f<e;f+=2){var d=u[c];c+=d+1,l+=d}var p=a.bones;if(0==s.length)for(var v=i,m=3*l;v<r;v+=o){var g=0,y=0,b=u[c++];for(b+=c;c<b;c++,m+=3){var w=p[u[c]],x=h[m],E=h[m+1],S=h[m+2];g+=(x*w.a+E*w.b+w.worldX)*S,y+=(x*w.c+E*w.d+w.worldY)*S}n[v]=g,n[v+1]=y}else for(var A=s,k=i,I=3*l,T=l<<1;k<r;k+=o){var C=0,O=0,_=u[c++];for(_+=c;c<_;c++,I+=3,T+=2){var R=p[u[c]],P=h[I]+A[T],F=h[I+1]+A[T+1],L=h[I+2];C+=(P*R.a+F*R.b+R.worldX)*L,O+=(P*R.c+F*R.d+R.worldY)*L}n[k]=C,n[k+1]=O}}else{s.length>0&&(h=s);for(var M=t.bone,Y=M.worldX,N=M.worldY,B=M.a,j=M.b,X=M.c,D=M.d,U=e,V=i;V<r;U+=2,V+=o){var q=h[U],W=h[U+1];n[V]=q*B+W*j+Y,n[V+1]=q*X+W*D+N}}},r.copyTo=function(t){this.bones?(t.bones=new Array(this.bones.length),p.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=p.newFloatArray(this.vertices.length),p.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment},e}(y);b.nextID=0;var w,x=function(){function t(e){this.id=t.nextID(),this.regions=void 0,this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}var e=t.prototype;return e.copy=function(){var e=new t(this.regions.length);return p.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},e.apply=function(t,e){var r=t.sequenceIndex;-1==r&&(r=this.setupIndex),r>=this.regions.length&&(r=this.regions.length-1);var n=this.regions[r];e.region!=n&&(e.region=n,e.updateRegion())},e.getPath=function(t,e){for(var r=t,n=(this.start+e).toString(),i=this.digits-n.length;i>0;i--)r+="0";return r+=n},t.nextID=function(){return t._nextID++},t}();x._nextID=0,function(t){t[t.hold=0]="hold",t[t.once=1]="once",t[t.loop=2]="loop",t[t.pingpong=3]="pingpong",t[t.onceReverse=4]="onceReverse",t[t.loopReverse=5]="loopReverse",t[t.pingpongReverse=6]="pingpongReverse"}(w||(w={}));var E,S,A=[w.hold,w.once,w.loop,w.pingpong,w.onceReverse,w.loopReverse,w.pingpongReverse],k=function(){function t(t,e,r){if(this.name=void 0,this.timelines=[],this.timelineIds=new l,this.duration=void 0,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=r}var e=t.prototype;return e.setTimelines=function(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())},e.hasTimeline=function(t){for(var e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1},e.apply=function(t,e,r,n,i,o,a,s){if(!t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var h=this.timelines,u=0,c=h.length;u<c;u++)h[u].apply(t,e,r,i,o,a,s)},t}();!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(E||(E={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(S||(S={}));var I=0,T=1,C=2,O=3,_=4,R=5,P=6,F=7,L=8,M=9,Y=10,N=11,B=12,j=13,X=14,D=15,U=16,V=17,q=18,W=19,z=function(){function t(t,e){this.propertyIds=void 0,this.frames=void 0,this.propertyIds=e,this.frames=p.newFloatArray(t*this.getFrameEntries())}var e=t.prototype;return e.getPropertyIds=function(){return this.propertyIds},e.getFrameEntries=function(){return 1},e.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},e.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(t,e){for(var r=t.length,n=1;n<r;n++)if(t[n]>e)return n-1;return r-1},t.search=function(t,e,r){for(var n=t.length,i=r;i<n;i+=r)if(t[i]>e)return i-r;return n-r},t}(),G=function(t){function e(e,r,n){var i;return(i=t.call(this,e,n)||this).curves=void 0,i.curves=p.newFloatArray(e+18*r),i.curves[e-1]=1,i}(0,h.Z)(e,t);var r=e.prototype;return r.setLinear=function(t){this.curves[t]=0},r.setStepped=function(t){this.curves[t]=1},r.shrink=function(t){var e=this.getFrameCount()+18*t;if(this.curves.length>e){var r=p.newFloatArray(e);p.arrayCopy(this.curves,0,r,0,e),this.curves=r}},r.setBezier=function(t,e,r,n,i,o,a,s,h,u,c){var l=this.curves,f=this.getFrameCount()+18*t;0==r&&(l[e]=2+f);for(var d=.03*(n-2*o+s),p=.03*(i-2*a+h),v=.006*(3*(o-s)-n+u),m=.006*(3*(a-h)-i+c),g=2*d+v,y=2*p+m,b=.3*(o-n)+d+.16666667*v,w=.3*(a-i)+p+.16666667*m,x=n+b,E=i+w,S=f+18;f<S;f+=2)l[f]=x,l[f+1]=E,b+=g,w+=y,g+=v,y+=m,x+=b,E+=w},r.getBezierValue=function(t,e,r,n){var i=this.curves;if(i[n]>t){var o=this.frames[e],a=this.frames[e+r];return a+(t-o)/(i[n]-o)*(i[n+1]-a)}var s=n+18;for(n+=2;n<s;n+=2)if(i[n]>=t){var h=i[n-2],u=i[n-1];return u+(t-h)/(i[n]-h)*(i[n+1]-u)}e+=this.getFrameEntries();var c=i[s-2],l=i[s-1];return l+(t-c)/(this.frames[e]-c)*(this.frames[e+r]-l)},e}(z),Z=function(t){function e(e,r,n){return t.call(this,e,r,[n])||this}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 2},r.setFrame=function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+1]=r},r.getCurveValue=function(t){for(var e=this.frames,r=e.length-2,n=2;n<=r;n+=2)if(e[n]>t){r=n-2;break}var i=this.curves[r>>1];switch(i){case 0:var o=e[r],a=e[r+1];return a+(t-o)/(e[r+2]-o)*(e[r+2+1]-a);case 1:return e[r+1]}return this.getBezierValue(t,r,1,i-2)},e}(G),H=function(t){function e(e,r,n,i){return t.call(this,e,r,[n,i])||this}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 3},r.setFrame=function(t,e,r,n){t*=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n},e}(G),J=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,I+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.rotation=s.data.rotation);case E.first:s.rotation+=(s.data.rotation-s.rotation)*i}else{var h=this.getCurveValue(r);switch(o){case E.setup:s.rotation=s.data.rotation+h*i;break;case E.first:case E.replace:h+=s.data.rotation-s.rotation;case E.add:s.rotation+=h*i}}},e}(Z),K=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,T+"|"+n,C+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active){var h=this.frames;if(r<h[0])switch(o){case E.setup:return s.x=s.data.x,void(s.y=s.data.y);case E.first:s.x+=(s.data.x-s.x)*i,s.y+=(s.data.y-s.y)*i}else{var u=0,c=0,l=z.search(h,r,3),f=this.curves[l/3];switch(f){case 0:var d=h[l];u=h[l+1],c=h[l+2];var p=(r-d)/(h[l+3]-d);u+=(h[l+3+1]-u)*p,c+=(h[l+3+2]-c)*p;break;case 1:u=h[l+1],c=h[l+2];break;default:u=this.getBezierValue(r,l,1,f-2),c=this.getBezierValue(r,l,2,f+18-2)}switch(o){case E.setup:s.x=s.data.x+u*i,s.y=s.data.y+c*i;break;case E.first:case E.replace:s.x+=(s.data.x+u-s.x)*i,s.y+=(s.data.y+c-s.y)*i;break;case E.add:s.x+=u*i,s.y+=c*i}}}},e}(H),Q=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,T+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.x=s.data.x);case E.first:s.x+=(s.data.x-s.x)*i}else{var h=this.getCurveValue(r);switch(o){case E.setup:s.x=s.data.x+h*i;break;case E.first:case E.replace:s.x+=(s.data.x+h-s.x)*i;break;case E.add:s.x+=h*i}}},e}(Z),$=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,C+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.y=s.data.y);case E.first:s.y+=(s.data.y-s.y)*i}else{var h=this.getCurveValue(r);switch(o){case E.setup:s.y=s.data.y+h*i;break;case E.first:case E.replace:s.y+=(s.data.y+h-s.y)*i;break;case E.add:s.y+=h*i}}},e}(Z),tt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,O+"|"+n,_+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active){var h=this.frames;if(r<h[0])switch(o){case E.setup:return s.scaleX=s.data.scaleX,void(s.scaleY=s.data.scaleY);case E.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i,s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var u,c,l=z.search(h,r,3),f=this.curves[l/3];switch(f){case 0:var p=h[l];u=h[l+1],c=h[l+2];var v=(r-p)/(h[l+3]-p);u+=(h[l+3+1]-u)*v,c+=(h[l+3+2]-c)*v;break;case 1:u=h[l+1],c=h[l+2];break;default:u=this.getBezierValue(r,l,1,f-2),c=this.getBezierValue(r,l,2,f+18-2)}if(u*=s.data.scaleX,c*=s.data.scaleY,1==i)o==E.add?(s.scaleX+=u-s.data.scaleX,s.scaleY+=c-s.data.scaleY):(s.scaleX=u,s.scaleY=c);else{var m=0,g=0;if(a==S.mixOut)switch(o){case E.setup:m=s.data.scaleX,g=s.data.scaleY,s.scaleX=m+(Math.abs(u)*d.signum(m)-m)*i,s.scaleY=g+(Math.abs(c)*d.signum(g)-g)*i;break;case E.first:case E.replace:m=s.scaleX,g=s.scaleY,s.scaleX=m+(Math.abs(u)*d.signum(m)-m)*i,s.scaleY=g+(Math.abs(c)*d.signum(g)-g)*i;break;case E.add:s.scaleX+=(u-s.data.scaleX)*i,s.scaleY+=(c-s.data.scaleY)*i}else switch(o){case E.setup:m=Math.abs(s.data.scaleX)*d.signum(u),g=Math.abs(s.data.scaleY)*d.signum(c),s.scaleX=m+(u-m)*i,s.scaleY=g+(c-g)*i;break;case E.first:case E.replace:m=Math.abs(s.scaleX)*d.signum(u),g=Math.abs(s.scaleY)*d.signum(c),s.scaleX=m+(u-m)*i,s.scaleY=g+(c-g)*i;break;case E.add:s.scaleX+=(u-s.data.scaleX)*i,s.scaleY+=(c-s.data.scaleY)*i}}}}},e}(H),et=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,O+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.scaleX=s.data.scaleX);case E.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i}else{var h=this.getCurveValue(r)*s.data.scaleX;if(1==i)o==E.add?s.scaleX+=h-s.data.scaleX:s.scaleX=h;else{var u=0;if(a==S.mixOut)switch(o){case E.setup:u=s.data.scaleX,s.scaleX=u+(Math.abs(h)*d.signum(u)-u)*i;break;case E.first:case E.replace:u=s.scaleX,s.scaleX=u+(Math.abs(h)*d.signum(u)-u)*i;break;case E.add:s.scaleX+=(h-s.data.scaleX)*i}else switch(o){case E.setup:u=Math.abs(s.data.scaleX)*d.signum(h),s.scaleX=u+(h-u)*i;break;case E.first:case E.replace:u=Math.abs(s.scaleX)*d.signum(h),s.scaleX=u+(h-u)*i;break;case E.add:s.scaleX+=(h-s.data.scaleX)*i}}}},e}(Z),rt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,_+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.scaleY=s.data.scaleY);case E.first:s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var h=this.getCurveValue(r)*s.data.scaleY;if(1==i)o==E.add?s.scaleY+=h-s.data.scaleY:s.scaleY=h;else{var u=0;if(a==S.mixOut)switch(o){case E.setup:u=s.data.scaleY,s.scaleY=u+(Math.abs(h)*d.signum(u)-u)*i;break;case E.first:case E.replace:u=s.scaleY,s.scaleY=u+(Math.abs(h)*d.signum(u)-u)*i;break;case E.add:s.scaleY+=(h-s.data.scaleY)*i}else switch(o){case E.setup:u=Math.abs(s.data.scaleY)*d.signum(h),s.scaleY=u+(h-u)*i;break;case E.first:case E.replace:u=Math.abs(s.scaleY)*d.signum(h),s.scaleY=u+(h-u)*i;break;case E.add:s.scaleY+=(h-s.data.scaleY)*i}}}},e}(Z),nt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,R+"|"+n,P+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active){var h=this.frames;if(r<h[0])switch(o){case E.setup:return s.shearX=s.data.shearX,void(s.shearY=s.data.shearY);case E.first:s.shearX+=(s.data.shearX-s.shearX)*i,s.shearY+=(s.data.shearY-s.shearY)*i}else{var u=0,c=0,l=z.search(h,r,3),f=this.curves[l/3];switch(f){case 0:var d=h[l];u=h[l+1],c=h[l+2];var p=(r-d)/(h[l+3]-d);u+=(h[l+3+1]-u)*p,c+=(h[l+3+2]-c)*p;break;case 1:u=h[l+1],c=h[l+2];break;default:u=this.getBezierValue(r,l,1,f-2),c=this.getBezierValue(r,l,2,f+18-2)}switch(o){case E.setup:s.shearX=s.data.shearX+u*i,s.shearY=s.data.shearY+c*i;break;case E.first:case E.replace:s.shearX+=(s.data.shearX+u-s.shearX)*i,s.shearY+=(s.data.shearY+c-s.shearY)*i;break;case E.add:s.shearX+=u*i,s.shearY+=c*i}}}},e}(H),it=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,R+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.shearX=s.data.shearX);case E.first:s.shearX+=(s.data.shearX-s.shearX)*i}else{var h=this.getCurveValue(r);switch(o){case E.setup:s.shearX=s.data.shearX+h*i;break;case E.first:case E.replace:s.shearX+=(s.data.shearX+h-s.shearX)*i;break;case E.add:s.shearX+=h*i}}},e}(Z),ot=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,P+"|"+n)||this).boneIndex=0,i.boneIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.shearY=s.data.shearY);case E.first:s.shearY+=(s.data.shearY-s.shearY)*i}else{var h=this.getCurveValue(r);switch(o){case E.setup:s.shearY=s.data.shearY+h*i;break;case E.first:case E.replace:s.shearY+=(s.data.shearY+h-s.shearY)*i;break;case E.add:s.shearY+=h*i}}},e}(Z),at=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,[F+"|"+n,L+"|"+n])||this).slotIndex=0,i.slotIndex=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 5},r.setFrame=function(t,e,r,n,i,o){t*=5,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o},r.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var h=this.frames,u=s.color;if(r<h[0]){var c=s.data.color;switch(o){case E.setup:return void u.setFromColor(c);case E.first:u.add((c.r-u.r)*i,(c.g-u.g)*i,(c.b-u.b)*i,(c.a-u.a)*i)}}else{var l=0,f=0,d=0,p=0,v=z.search(h,r,5),m=this.curves[v/5];switch(m){case 0:var g=h[v];l=h[v+1],f=h[v+2],d=h[v+3],p=h[v+4];var y=(r-g)/(h[v+5]-g);l+=(h[v+5+1]-l)*y,f+=(h[v+5+2]-f)*y,d+=(h[v+5+3]-d)*y,p+=(h[v+5+4]-p)*y;break;case 1:l=h[v+1],f=h[v+2],d=h[v+3],p=h[v+4];break;default:l=this.getBezierValue(r,v,1,m-2),f=this.getBezierValue(r,v,2,m+18-2),d=this.getBezierValue(r,v,3,m+36-2),p=this.getBezierValue(r,v,4,m+54-2)}1==i?u.set(l,f,d,p):(o==E.setup&&u.setFromColor(s.data.color),u.add((l-u.r)*i,(f-u.g)*i,(d-u.b)*i,(p-u.a)*i))}}},e}(G),st=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,[F+"|"+n])||this).slotIndex=0,i.slotIndex=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 4},r.setFrame=function(t,e,r,n,i){t<<=2,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i},r.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var h=this.frames,u=s.color;if(r<h[0]){var c=s.data.color;switch(o){case E.setup:return u.r=c.r,u.g=c.g,void(u.b=c.b);case E.first:u.r+=(c.r-u.r)*i,u.g+=(c.g-u.g)*i,u.b+=(c.b-u.b)*i}}else{var l=0,f=0,d=0,p=z.search(h,r,4),v=this.curves[p>>2];switch(v){case 0:var m=h[p];l=h[p+1],f=h[p+2],d=h[p+3];var g=(r-m)/(h[p+4]-m);l+=(h[p+4+1]-l)*g,f+=(h[p+4+2]-f)*g,d+=(h[p+4+3]-d)*g;break;case 1:l=h[p+1],f=h[p+2],d=h[p+3];break;default:l=this.getBezierValue(r,p,1,v-2),f=this.getBezierValue(r,p,2,v+18-2),d=this.getBezierValue(r,p,3,v+36-2)}if(1==i)u.r=l,u.g=f,u.b=d;else{if(o==E.setup){var y=s.data.color;u.r=y.r,u.g=y.g,u.b=y.b}u.r+=(l-u.r)*i,u.g+=(f-u.g)*i,u.b+=(d-u.b)*i}}}},e}(G),ht=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,L+"|"+n)||this).slotIndex=0,i.slotIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var h=s.color;if(r<this.frames[0]){var u=s.data.color;switch(o){case E.setup:return void(h.a=u.a);case E.first:h.a+=(u.a-h.a)*i}}else{var c=this.getCurveValue(r);1==i?h.a=c:(o==E.setup&&(h.a=s.data.color.a),h.a+=(c-h.a)*i)}}},e}(Z),ut=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,[F+"|"+n,L+"|"+n,M+"|"+n])||this).slotIndex=0,i.slotIndex=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 8},r.setFrame=function(t,e,r,n,i,o,a,s,h){t<<=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o,this.frames[t+5]=a,this.frames[t+6]=s,this.frames[t+7]=h},r.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var h=this.frames,u=s.color,c=s.darkColor;if(r<h[0]){var l=s.data.color,f=s.data.darkColor;switch(o){case E.setup:return u.setFromColor(l),c.r=f.r,c.g=f.g,void(c.b=f.b);case E.first:u.add((l.r-u.r)*i,(l.g-u.g)*i,(l.b-u.b)*i,(l.a-u.a)*i),c.r+=(f.r-c.r)*i,c.g+=(f.g-c.g)*i,c.b+=(f.b-c.b)*i}}else{var d=0,p=0,v=0,m=0,g=0,y=0,b=0,w=z.search(h,r,8),x=this.curves[w>>3];switch(x){case 0:var S=h[w];d=h[w+1],p=h[w+2],v=h[w+3],m=h[w+4],g=h[w+5],y=h[w+6],b=h[w+7];var A=(r-S)/(h[w+8]-S);d+=(h[w+8+1]-d)*A,p+=(h[w+8+2]-p)*A,v+=(h[w+8+3]-v)*A,m+=(h[w+8+4]-m)*A,g+=(h[w+8+5]-g)*A,y+=(h[w+8+6]-y)*A,b+=(h[w+8+7]-b)*A;break;case 1:d=h[w+1],p=h[w+2],v=h[w+3],m=h[w+4],g=h[w+5],y=h[w+6],b=h[w+7];break;default:d=this.getBezierValue(r,w,1,x-2),p=this.getBezierValue(r,w,2,x+18-2),v=this.getBezierValue(r,w,3,x+36-2),m=this.getBezierValue(r,w,4,x+54-2),g=this.getBezierValue(r,w,5,x+72-2),y=this.getBezierValue(r,w,6,x+90-2),b=this.getBezierValue(r,w,7,x+108-2)}if(1==i)u.set(d,p,v,m),c.r=g,c.g=y,c.b=b;else{if(o==E.setup){u.setFromColor(s.data.color);var k=s.data.darkColor;c.r=k.r,c.g=k.g,c.b=k.b}u.add((d-u.r)*i,(p-u.g)*i,(v-u.b)*i,(m-u.a)*i),c.r+=(g-c.r)*i,c.g+=(y-c.g)*i,c.b+=(b-c.b)*i}}}},e}(G),ct=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,[F+"|"+n,M+"|"+n])||this).slotIndex=0,i.slotIndex=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 7},r.setFrame=function(t,e,r,n,i,o,a,s){t*=7,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o,this.frames[t+5]=a,this.frames[t+6]=s},r.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var h=this.frames,u=s.color,c=s.darkColor;if(r<h[0]){var l=s.data.color,f=s.data.darkColor;switch(o){case E.setup:return u.r=l.r,u.g=l.g,u.b=l.b,c.r=f.r,c.g=f.g,void(c.b=f.b);case E.first:u.r+=(l.r-u.r)*i,u.g+=(l.g-u.g)*i,u.b+=(l.b-u.b)*i,c.r+=(f.r-c.r)*i,c.g+=(f.g-c.g)*i,c.b+=(f.b-c.b)*i}}else{var d=0,p=0,v=0,m=0,g=0,y=0,b=z.search(h,r,7),w=this.curves[b/7];switch(w){case 0:var x=h[b];d=h[b+1],p=h[b+2],v=h[b+3],m=h[b+4],g=h[b+5],y=h[b+6];var S=(r-x)/(h[b+7]-x);d+=(h[b+7+1]-d)*S,p+=(h[b+7+2]-p)*S,v+=(h[b+7+3]-v)*S,m+=(h[b+7+4]-m)*S,g+=(h[b+7+5]-g)*S,y+=(h[b+7+6]-y)*S;break;case 1:d=h[b+1],p=h[b+2],v=h[b+3],m=h[b+4],g=h[b+5],y=h[b+6];break;default:d=this.getBezierValue(r,b,1,w-2),p=this.getBezierValue(r,b,2,w+18-2),v=this.getBezierValue(r,b,3,w+36-2),m=this.getBezierValue(r,b,4,w+54-2),g=this.getBezierValue(r,b,5,w+72-2),y=this.getBezierValue(r,b,6,w+90-2)}if(1==i)u.r=d,u.g=p,u.b=v,c.r=m,c.g=g,c.b=y;else{if(o==E.setup){var A=s.data.color,k=s.data.darkColor;u.r=A.r,u.g=A.g,u.b=A.b,c.r=k.r,c.g=k.g,c.b=k.b}u.r+=(d-u.r)*i,u.g+=(p-u.g)*i,u.b+=(v-u.b)*i,c.r+=(m-c.r)*i,c.g+=(g-c.g)*i,c.b+=(y-c.b)*i}}}},e}(G),lt=function(t){function e(e,r){var n;return(n=t.call(this,e,[Y+"|"+r])||this).slotIndex=0,n.attachmentNames=void 0,n.slotIndex=r,n.attachmentNames=new Array(e),n}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameCount=function(){return this.frames.length},r.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},r.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];s.bone.active&&(a!=S.mixOut?r<this.frames[0]?o!=E.setup&&o!=E.first||this.setAttachment(t,s,s.data.attachmentName):this.setAttachment(t,s,this.attachmentNames[z.search1(this.frames,r)]):o==E.setup&&this.setAttachment(t,s,s.data.attachmentName))},r.setAttachment=function(t,e,r){e.setAttachment(r?t.getAttachment(this.slotIndex,r):null)},e}(z),ft=function(t){function e(e,r,n,i){var o;return(o=t.call(this,e,r,[N+"|"+n+"|"+i.id])||this).slotIndex=0,o.attachment=void 0,o.vertices=void 0,o.slotIndex=n,o.attachment=i,o.vertices=new Array(e),o}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameCount=function(){return this.frames.length},r.setFrame=function(t,e,r){this.frames[t]=e,this.vertices[t]=r},r.setBezier=function(t,e,r,n,i,o,a,s,h,u,c){var l=this.curves,f=this.getFrameCount()+18*t;0==r&&(l[e]=2+f);for(var d=.03*(n-2*o+s),p=.03*h-.06*a,v=.006*(3*(o-s)-n+u),m=.018*(a-h+.33333333),g=2*d+v,y=2*p+m,b=.3*(o-n)+d+.16666667*v,w=.3*a+p+.16666667*m,x=n+b,E=w,S=f+18;f<S;f+=2)l[f]=x,l[f+1]=E,b+=g,w+=y,g+=v,y+=m,x+=b,E+=w},r.getCurvePercent=function(t,e){var r=this.curves,n=r[e];switch(n){case 0:var i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(r[n-=2]>t){var o=this.frames[e];return r[n+1]*(t-o)/(r[n]-o)}var a=n+18;for(n+=2;n<a;n+=2)if(r[n]>=t){var s=r[n-2],h=r[n-1];return h+(t-s)/(r[n]-s)*(r[n+1]-h)}var u=r[a-2],c=r[a-1];return c+(1-c)*(t-u)/(this.frames[e+this.getFrameEntries()]-u)},r.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var h=s.getAttachment();if(h&&h instanceof b&&h.timelineAttachment==this.attachment){var u=s.deform;0==u.length&&(o=E.setup);var c=this.vertices,l=c[0].length,f=this.frames;if(r<f[0])switch(o){case E.setup:return void(u.length=0);case E.first:if(1==i)return void(u.length=0);u.length=l;var d=h;if(d.bones){i=1-i;for(m=0;m<l;m++)u[m]*=i}else for(var v=d.vertices,m=0;m<l;m++)u[m]+=(v[m]-u[m])*i}else if(u.length=l,r>=f[f.length-1]){var g=c[f.length-1];if(1==i)if(o==E.add){var y=h;if(y.bones)for(var w=0;w<l;w++)u[w]+=g[w];else for(var x=y.vertices,S=0;S<l;S++)u[S]+=g[S]-x[S]}else p.arrayCopy(g,0,u,0,l);else switch(o){case E.setup:var A=h;if(A.bones)for(var k=0;k<l;k++)u[k]=g[k]*i;else for(var I=A.vertices,T=0;T<l;T++){var C=I[T];u[T]=C+(g[T]-C)*i}break;case E.first:case E.replace:for(var O=0;O<l;O++)u[O]+=(g[O]-u[O])*i;break;case E.add:var _=h;if(_.bones)for(var R=0;R<l;R++)u[R]+=g[R]*i;else for(var P=_.vertices,F=0;F<l;F++)u[F]+=(g[F]-P[F])*i}}else{var L=z.search1(f,r),M=this.getCurvePercent(r,L),Y=c[L],N=c[L+1];if(1==i)if(o==E.add){var B=h;if(B.bones)for(var j=0;j<l;j++){var X=Y[j];u[j]+=X+(N[j]-X)*M}else for(var D=B.vertices,U=0;U<l;U++){var V=Y[U];u[U]+=V+(N[U]-V)*M-D[U]}}else for(var q=0;q<l;q++){var W=Y[q];u[q]=W+(N[q]-W)*M}else switch(o){case E.setup:var G=h;if(G.bones)for(var Z=0;Z<l;Z++){var H=Y[Z];u[Z]=(H+(N[Z]-H)*M)*i}else for(var J=G.vertices,K=0;K<l;K++){var Q=Y[K],$=J[K];u[K]=$+(Q+(N[K]-Q)*M-$)*i}break;case E.first:case E.replace:for(var tt=0;tt<l;tt++){var et=Y[tt];u[tt]+=(et+(N[tt]-et)*M-u[tt])*i}break;case E.add:var rt=h;if(rt.bones)for(var nt=0;nt<l;nt++){var it=Y[nt];u[nt]+=(it+(N[nt]-it)*M)*i}else for(var ot=rt.vertices,at=0;at<l;at++){var st=Y[at];u[at]+=(st+(N[at]-st)*M-ot[at])*i}}}}}},e}(G),dt=function(t){function e(r){var n;return(n=t.call(this,r,e.propertyIds)||this).events=void 0,n.events=new Array(r),n}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameCount=function(){return this.frames.length},r.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},r.apply=function(t,e,r,n,i,o,a){if(n){var s=this.frames,h=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[h-1])return;if(!(r<s[0])){var u=0;if(e<s[0])u=0;else for(var c=s[u=z.search1(s,e)+1];u>0&&s[u-1]==c;)u--;for(;u<h&&r>=s[u];u++)n.push(this.events[u])}}},e}(z);dt.propertyIds=[""+B];var pt=function(t){function e(r){var n;return(n=t.call(this,r,e.propertyIds)||this).drawOrders=void 0,n.drawOrders=new Array(r),n}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameCount=function(){return this.frames.length},r.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},r.apply=function(t,e,r,n,i,o,a){if(a!=S.mixOut)if(r<this.frames[0])o!=E.setup&&o!=E.first||p.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var s=z.search1(this.frames,r),h=this.drawOrders[s];if(h)for(var u=t.drawOrder,c=t.slots,l=0,f=h.length;l<f;l++)u[l]=c[h[l]];else p.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}else o==E.setup&&p.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},e}(z);pt.propertyIds=[""+j];var vt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,[X+"|"+n])||this).ikConstraintIndex=0,i.ikConstraintIndex=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 6},r.setFrame=function(t,e,r,n,i,o,a){t*=6,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o?1:0,this.frames[t+5]=a?1:0},r.apply=function(t,e,r,n,i,o,a){var s=t.ikConstraints[this.ikConstraintIndex];if(s.active){var h=this.frames;if(r<h[0])switch(o){case E.setup:return s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,void(s.stretch=s.data.stretch);case E.first:s.mix+=(s.data.mix-s.mix)*i,s.softness+=(s.data.softness-s.softness)*i,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}else{var u=0,c=0,l=z.search(h,r,6),f=this.curves[l/6];switch(f){case 0:var d=h[l];u=h[l+1],c=h[l+2];var p=(r-d)/(h[l+6]-d);u+=(h[l+6+1]-u)*p,c+=(h[l+6+2]-c)*p;break;case 1:u=h[l+1],c=h[l+2];break;default:u=this.getBezierValue(r,l,1,f-2),c=this.getBezierValue(r,l,2,f+18-2)}o==E.setup?(s.mix=s.data.mix+(u-s.data.mix)*i,s.softness=s.data.softness+(c-s.data.softness)*i,a==S.mixOut?(s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch):(s.bendDirection=h[l+3],s.compress=0!=h[l+4],s.stretch=0!=h[l+5])):(s.mix+=(u-s.mix)*i,s.softness+=(c-s.softness)*i,a==S.mixIn&&(s.bendDirection=h[l+3],s.compress=0!=h[l+4],s.stretch=0!=h[l+5]))}}},e}(G),mt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,[D+"|"+n])||this).transformConstraintIndex=0,i.transformConstraintIndex=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 7},r.setFrame=function(t,e,r,n,i,o,a,s){var h=this.frames;h[t*=7]=e,h[t+1]=r,h[t+2]=n,h[t+3]=i,h[t+4]=o,h[t+5]=a,h[t+6]=s},r.apply=function(t,e,r,n,i,o,a){var s=t.transformConstraints[this.transformConstraintIndex];if(s.active){var h=this.frames;if(r<h[0]){var u=s.data;switch(o){case E.setup:return s.mixRotate=u.mixRotate,s.mixX=u.mixX,s.mixY=u.mixY,s.mixScaleX=u.mixScaleX,s.mixScaleY=u.mixScaleY,void(s.mixShearY=u.mixShearY);case E.first:s.mixRotate+=(u.mixRotate-s.mixRotate)*i,s.mixX+=(u.mixX-s.mixX)*i,s.mixY+=(u.mixY-s.mixY)*i,s.mixScaleX+=(u.mixScaleX-s.mixScaleX)*i,s.mixScaleY+=(u.mixScaleY-s.mixScaleY)*i,s.mixShearY+=(u.mixShearY-s.mixShearY)*i}}else{var c,l,f,d,p,v,m=z.search(h,r,7),g=this.curves[m/7];switch(g){case 0:var y=h[m];c=h[m+1],l=h[m+2],f=h[m+3],d=h[m+4],p=h[m+5],v=h[m+6];var b=(r-y)/(h[m+7]-y);c+=(h[m+7+1]-c)*b,l+=(h[m+7+2]-l)*b,f+=(h[m+7+3]-f)*b,d+=(h[m+7+4]-d)*b,p+=(h[m+7+5]-p)*b,v+=(h[m+7+6]-v)*b;break;case 1:c=h[m+1],l=h[m+2],f=h[m+3],d=h[m+4],p=h[m+5],v=h[m+6];break;default:c=this.getBezierValue(r,m,1,g-2),l=this.getBezierValue(r,m,2,g+18-2),f=this.getBezierValue(r,m,3,g+36-2),d=this.getBezierValue(r,m,4,g+54-2),p=this.getBezierValue(r,m,5,g+72-2),v=this.getBezierValue(r,m,6,g+90-2)}if(o==E.setup){var w=s.data;s.mixRotate=w.mixRotate+(c-w.mixRotate)*i,s.mixX=w.mixX+(l-w.mixX)*i,s.mixY=w.mixY+(f-w.mixY)*i,s.mixScaleX=w.mixScaleX+(d-w.mixScaleX)*i,s.mixScaleY=w.mixScaleY+(p-w.mixScaleY)*i,s.mixShearY=w.mixShearY+(v-w.mixShearY)*i}else s.mixRotate+=(c-s.mixRotate)*i,s.mixX+=(l-s.mixX)*i,s.mixY+=(f-s.mixY)*i,s.mixScaleX+=(d-s.mixScaleX)*i,s.mixScaleY+=(p-s.mixScaleY)*i,s.mixShearY+=(v-s.mixShearY)*i}}},e}(G),gt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,U+"|"+n)||this).pathConstraintIndex=0,i.pathConstraintIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.pathConstraints[this.pathConstraintIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.position=s.data.position);case E.first:s.position+=(s.data.position-s.position)*i}else{var h=this.getCurveValue(r);o==E.setup?s.position=s.data.position+(h-s.data.position)*i:s.position+=(h-s.position)*i}},e}(Z),yt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,V+"|"+n)||this).pathConstraintIndex=0,i.pathConstraintIndex=n,i}return(0,h.Z)(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.pathConstraints[this.pathConstraintIndex];if(s.active)if(r<this.frames[0])switch(o){case E.setup:return void(s.spacing=s.data.spacing);case E.first:s.spacing+=(s.data.spacing-s.spacing)*i}else{var h=this.getCurveValue(r);o==E.setup?s.spacing=s.data.spacing+(h-s.data.spacing)*i:s.spacing+=(h-s.spacing)*i}},e}(Z),bt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,r,[q+"|"+n])||this).pathConstraintIndex=0,i.pathConstraintIndex=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return 4},r.setFrame=function(t,e,r,n,i){var o=this.frames;o[t<<=2]=e,o[t+1]=r,o[t+2]=n,o[t+3]=i},r.apply=function(t,e,r,n,i,o,a){var s=t.pathConstraints[this.pathConstraintIndex];if(s.active){var h=this.frames;if(r<h[0])switch(o){case E.setup:return s.mixRotate=s.data.mixRotate,s.mixX=s.data.mixX,void(s.mixY=s.data.mixY);case E.first:s.mixRotate+=(s.data.mixRotate-s.mixRotate)*i,s.mixX+=(s.data.mixX-s.mixX)*i,s.mixY+=(s.data.mixY-s.mixY)*i}else{var u,c,l,f=z.search(h,r,4),d=this.curves[f>>2];switch(d){case 0:var p=h[f];u=h[f+1],c=h[f+2],l=h[f+3];var v=(r-p)/(h[f+4]-p);u+=(h[f+4+1]-u)*v,c+=(h[f+4+2]-c)*v,l+=(h[f+4+3]-l)*v;break;case 1:u=h[f+1],c=h[f+2],l=h[f+3];break;default:u=this.getBezierValue(r,f,1,d-2),c=this.getBezierValue(r,f,2,d+18-2),l=this.getBezierValue(r,f,3,d+36-2)}if(o==E.setup){var m=s.data;s.mixRotate=m.mixRotate+(u-m.mixRotate)*i,s.mixX=m.mixX+(c-m.mixX)*i,s.mixY=m.mixY+(l-m.mixY)*i}else s.mixRotate+=(u-s.mixRotate)*i,s.mixX+=(c-s.mixX)*i,s.mixY+=(l-s.mixY)*i}}},e}(G),wt=function(t){function e(e,r,n){var i;return(i=t.call(this,e,[W+"|"+r+"|"+n.sequence.id])||this).slotIndex=void 0,i.attachment=void 0,i.slotIndex=r,i.attachment=n,i}(0,h.Z)(e,t);var r=e.prototype;return r.getFrameEntries=function(){return e.ENTRIES},r.getSlotIndex=function(){return this.slotIndex},r.getAttachment=function(){return this.attachment},r.setFrame=function(t,r,n,i,o){var a=this.frames;a[t*=e.ENTRIES]=r,a[t+e.MODE]=n|i<<4,a[t+e.DELAY]=o},r.apply=function(t,r,n,i,o,a,s){var h=t.slots[this.slotIndex];if(h.bone.active){var u=h.attachment,c=this.attachment;if(u==c||u instanceof b&&u.timelineAttachment==c){var l=this.frames;if(n<l[0])a!=E.setup&&a!=E.first||(h.sequenceIndex=-1);else{var f=z.search(l,n,e.ENTRIES),d=l[f],p=l[f+e.MODE],v=l[f+e.DELAY];if(this.attachment.sequence){var m=p>>4,g=this.attachment.sequence.regions.length,y=A[15&p];if(y!=w.hold)switch(m+=(n-d)/v+1e-5|0,y){case w.once:m=Math.min(g-1,m);break;case w.loop:m%=g;break;case w.pingpong:var x=(g<<1)-2;(m=0==x?0:m%x)>=g&&(m=x-m);break;case w.onceReverse:m=Math.max(g-1-m,0);break;case w.loopReverse:m=g-1-m%g;break;case w.pingpongReverse:var S=(g<<1)-2;(m=0==S?0:(m+g-1)%S)>=g&&(m=S-m)}h.sequenceIndex=m}}}}},e}(z);wt.ENTRIES=3,wt.MODE=1,wt.DELAY=2;var xt=function(){function t(t){this.data=void 0,this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new At(this),this.propertyIDs=new l,this.animationsChanged=!1,this.trackEntryPool=new v((function(){return new St})),this.data=t}t.emptyAnimation=function(){return t._emptyAnimation};var e=t.prototype;return e.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){e[r]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,t)){var h=i.mixingFrom;for(i.mixingFrom=null,h&&(h.mixingTo=null);h;)this.queue.end(h),h=h.mixingFrom}i.trackTime+=o}}this.queue.drain()},e.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(!r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)},e.apply=function(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,n=!1,i=0,o=r.length;i<o;i++){var a=r[i];if(a&&!(a.delay>0)){n=!0;var s=0==i?E.first:a.mixBlend,h=a.alpha;a.mixingFrom?h*=this.applyMixingFrom(a,t,s):a.trackTime>=a.trackEnd&&!a.next&&(h=0);var u=a.animationLast,c=a.getAnimationTime(),l=c,f=e;a.reverse&&(l=a.animation.duration-l,f=null);var d=a.animation.timelines,v=d.length;if(0==i&&1==h||s==E.add)for(var m=0;m<v;m++){p.webkit602BugfixHelper(h,s);var g=d[m];g instanceof lt?this.applyAttachmentTimeline(g,t,l,s,!0):g.apply(t,u,l,f,h,s,S.mixIn)}else{var y=a.timelineMode,b=a.shortestRotation,w=!b&&a.timelinesRotation.length!=v<<1;w&&(a.timelinesRotation.length=v<<1);for(var x=0;x<v;x++){var A=d[x],k=y[x]==Tt?s:E.setup;!b&&A instanceof J?this.applyRotateTimeline(A,t,l,h,k,a.timelinesRotation,x<<1,w):A instanceof lt?this.applyAttachmentTimeline(A,t,l,s,!0):(p.webkit602BugfixHelper(h,s),A.apply(t,u,l,f,h,k,S.mixIn))}}this.queueEvents(a,c),e.length=0,a.nextAnimationLast=c,a.nextTrackLast=a.trackTime}}for(var I=this.unkeyedState+Pt,T=t.slots,C=0,O=t.slots.length;C<O;C++){var _=T[C];if(_.attachmentState==I){var R=_.data.attachmentName;_.setAttachment(R?t.getAttachment(_.data.index,R):null)}}return this.unkeyedState+=2,this.queue.drain(),n},e.applyMixingFrom=function(t,e,r){var n=t.mixingFrom;n.mixingFrom&&this.applyMixingFrom(n,e,r);var i=0;0==t.mixDuration?(i=1,r==E.first&&(r=E.setup)):((i=t.mixTime/t.mixDuration)>1&&(i=1),r!=E.first&&(r=n.mixBlend));var o=i<n.attachmentThreshold,a=i<n.drawOrderThreshold,s=n.animation.timelines,h=s.length,u=n.alpha*t.interruptAlpha,c=u*(1-i),l=n.animationLast,f=n.getAnimationTime(),d=f,v=null;if(n.reverse?d=n.animation.duration-d:i<n.eventThreshold&&(v=this.events),r==E.add)for(var m=0;m<h;m++)s[m].apply(e,l,d,v,c,r,S.mixOut);else{var g=n.timelineMode,y=n.timelineHoldMix,b=n.shortestRotation,w=!b&&n.timelinesRotation.length!=h<<1;w&&(n.timelinesRotation.length=h<<1),n.totalAlpha=0;for(var x=0;x<h;x++){var A=s[x],k=S.mixOut,I=void 0,T=0;switch(g[x]){case Tt:if(!a&&A instanceof pt)continue;I=r,T=c;break;case Ct:I=E.setup,T=c;break;case Ot:I=r,T=u;break;case _t:I=E.setup,T=u;break;default:I=E.setup;var C=y[x];T=u*Math.max(0,1-C.mixTime/C.mixDuration)}n.totalAlpha+=T,!b&&A instanceof J?this.applyRotateTimeline(A,e,d,T,I,n.timelinesRotation,x<<1,w):A instanceof lt?this.applyAttachmentTimeline(A,e,d,I,o):(p.webkit602BugfixHelper(T,r),a&&A instanceof pt&&I==E.setup&&(k=S.mixIn),A.apply(e,l,d,v,T,I,k))}}return t.mixDuration>0&&this.queueEvents(n,f),this.events.length=0,n.nextAnimationLast=f,n.nextTrackLast=n.trackTime,i},e.applyAttachmentTimeline=function(t,e,r,n,i){var o=e.slots[t.slotIndex];o.bone.active&&(r<t.frames[0]?n!=E.setup&&n!=E.first||this.setAttachment(e,o,o.data.attachmentName,i):this.setAttachment(e,o,t.attachmentNames[z.search1(t.frames,r)],i),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+Pt))},e.setAttachment=function(t,e,r,n){e.setAttachment(r?t.getAttachment(e.data.index,r):null),n&&(e.attachmentState=this.unkeyedState+Ft)},e.applyRotateTimeline=function(t,e,r,n,i,o,a,s){if(s&&(o[a]=0),1!=n){var h=e.bones[t.boneIndex];if(h.active){var u=0,c=0;if(r<t.frames[0])switch(i){case E.setup:h.rotation=h.data.rotation;default:return;case E.first:u=h.rotation,c=h.data.rotation}else u=i==E.setup?h.data.rotation:h.rotation,c=h.data.rotation+t.getCurveValue(r);var l=0,f=c-u;if(0==(f-=360*(16384-(16384.499999999996-f/360|0))))l=o[a];else{var p=0,v=0;s?(p=0,v=f):(p=o[a],v=o[a+1]);var m=f>0,g=p>=0;d.signum(v)!=d.signum(f)&&Math.abs(v)<=90&&(Math.abs(p)>180&&(p+=360*d.signum(p)),g=m),l=f+p-p%360,g!=m&&(l+=360*d.signum(p)),o[a]=l}o[a+1]=f,h.rotation=u+l*n}}else t.apply(e,0,r,null,1,i,S.mixIn)},e.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,h=a.length;s<h;s++){var u=a[s];if(u.time<o)break;u.time>n||this.queue.event(t,u)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<h;s++){var c=a[s];c.time<r||this.queue.event(t,c)}},e.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e){this.queue.end(e),this.clearNext(e);for(var r=e;;){var n=r.mixingFrom;if(!n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},e.setAnimation=function(t,e,r){void 0===r&&(r=!1);var n=this.data.skeletonData.findAnimation(e);if(!n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},e.setAnimationWith=function(t,e,r){if(void 0===r&&(r=!1),!e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,n=!1):this.clearNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o},e.addAnimation=function(t,e,r,n){void 0===r&&(r=!1),void 0===n&&(n=0);var i=this.data.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,r,n)},e.addAnimationWith=function(t,e,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=0),!e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(i)for(;i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);return i?(i.next=o,o.previous=i,n<=0&&(n+=i.getTrackComplete()-o.mixDuration)):(this.setCurrent(t,o,!0),this.queue.drain()),o.delay=n,o},e.setEmptyAnimation=function(e,r){void 0===r&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},e.addEmptyAnimation=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},e.setEmptyAnimations=function(t){void 0===t&&(t=0);var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(p.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},e.trackEntry=function(t,e,r,n){var i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=t,i.animation=e,i.loop=r,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=n?this.data.getMix(n.animation,e):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=E.replace,i},e.clearNext=function(t){for(var e=t.next;e;)this.queue.dispose(e),e=e.next;t.next=null},e._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=this.tracks,e=0,r=t.length;e<r;e++){var n=t[e];if(n){for(;n.mixingFrom;)n=n.mixingFrom;do{n.mixingTo&&n.mixBlend==E.add||this.computeHold(n),n=n.mixingTo}while(n)}}},e.computeHold=function(t){var e=t.mixingTo,r=t.animation.timelines,n=t.animation.timelines.length,i=t.timelineMode;i.length=n;var o=t.timelineHoldMix;o.length=0;var a=this.propertyIDs;if(e&&e.holdPrevious)for(var s=0;s<n;s++)i[s]=a.addAll(r[s].getPropertyIds())?_t:Ot;else t:for(var h=0;h<n;h++){var u=r[h],c=u.getPropertyIds();if(a.addAll(c))if(!e||u instanceof lt||u instanceof pt||u instanceof dt||!e.animation.hasTimeline(c))i[h]=Ct;else{for(var l=e.mixingTo;l;l=l.mixingTo)if(!l.animation.hasTimeline(c)){if(t.mixDuration>0){i[h]=Rt,o[h]=l;continue t}break}i[h]=_t}else i[h]=Tt}},e.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.addListener=function(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.clearListeners=function(){this.listeners.length=0},e.clearListenerNotifications=function(){this.queue.clear()},t}();xt._emptyAnimation=new k("<empty>",[],0);var Et,St=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=E.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}var e=t.prototype;return e.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},e.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},e.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},e.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},e.resetRotationDirections=function(){this.timelinesRotation.length=0},e.getTrackComplete=function(){var t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime},t}(),At=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=void 0,this.animState=t}var e=t.prototype;return e.start=function(t){this.objects.push(Et.start),this.objects.push(t),this.animState.animationsChanged=!0},e.interrupt=function(t){this.objects.push(Et.interrupt),this.objects.push(t)},e.end=function(t){this.objects.push(Et.end),this.objects.push(t),this.animState.animationsChanged=!0},e.dispose=function(t){this.objects.push(Et.dispose),this.objects.push(t)},e.complete=function(t){this.objects.push(Et.complete),this.objects.push(t)},e.event=function(t,e){this.objects.push(Et.event),this.objects.push(t),this.objects.push(e)},e.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];switch(n){case Et.start:i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++){var a=e[o];a.start&&a.start(i)}break;case Et.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(var s=0;s<e.length;s++){var h=e[s];h.interrupt&&h.interrupt(i)}break;case Et.end:i.listener&&i.listener.end&&i.listener.end(i);for(var u=0;u<e.length;u++){var c=e[u];c.end&&c.end(i)}case Et.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(var l=0;l<e.length;l++){var f=e[l];f.dispose&&f.dispose(i)}this.animState.trackEntryPool.free(i);break;case Et.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(var d=0;d<e.length;d++){var p=e[d];p.complete&&p.complete(i)}break;case Et.event:var v=t[2+r++];i.listener&&i.listener.event&&i.listener.event(i,v);for(var m=0;m<e.length;m++){var g=e[m];g.event&&g.event(i,v)}}}this.clear(),this.drainDisabled=!1}},e.clear=function(){this.objects.length=0},t}();!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(Et||(Et={}));!function(){function t(){}var e=t.prototype;e.start=function(t){},e.interrupt=function(t){},e.end=function(t){},e.dispose=function(t){},e.complete=function(t){},e.event=function(t,e){}}();var kt,It,Tt=0,Ct=1,Ot=2,_t=3,Rt=4,Pt=1,Ft=2,Lt=function(){function t(t){if(this.skeletonData=void 0,this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}var e=t.prototype;return e.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(!n)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);this.setMixWith(n,i,r)},e.setMixWith=function(t,e,r){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=r},e.getMix=function(t,e){var r=t.name+"."+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},t}(),Mt=function(t){function e(e){var r;return(r=t.call(this,e)||this).color=new f(1,1,1,1),r}return(0,h.Z)(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},e}(b),Yt=function(t){function e(e){var r;return(r=t.call(this,e)||this).endSlot=null,r.color=new f(.2275,.2275,.8078,1),r}return(0,h.Z)(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e}(b),Nt=function(){function t(t){this._image=void 0,this._image=t}return t.prototype.getImage=function(){return this._image},t}();!function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(kt||(kt={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(It||(It={}));!function(t){function e(){return t.apply(this,arguments)||this}(0,h.Z)(e,t);var r=e.prototype;r.setFilters=function(t,e){},r.setWraps=function(t,e){},r.dispose=function(){}}(Nt);function Bt(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return jt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xt=function(){function t(t){this.pages=new Array,this.regions=new Array;for(var e=new Dt(t),r=new Array(4),n={size:function(t){t.width=parseInt(r[1]),t.height=parseInt(r[2])},format:function(){},filter:function(t){t.minFilter=p.enumValue(kt,r[1]),t.magFilter=p.enumValue(kt,r[2])},repeat:function(t){-1!=r[1].indexOf("x")&&(t.uWrap=It.Repeat),-1!=r[1].indexOf("y")&&(t.vWrap=It.Repeat)},pma:function(t){t.pma="true"==r[1]}},i={xy:function(t){t.x=parseInt(r[1]),t.y=parseInt(r[2])},size:function(t){t.width=parseInt(r[1]),t.height=parseInt(r[2])},bounds:function(t){t.x=parseInt(r[1]),t.y=parseInt(r[2]),t.width=parseInt(r[3]),t.height=parseInt(r[4])},offset:function(t){t.offsetX=parseInt(r[1]),t.offsetY=parseInt(r[2])},orig:function(t){t.originalWidth=parseInt(r[1]),t.originalHeight=parseInt(r[2])},offsets:function(t){t.offsetX=parseInt(r[1]),t.offsetY=parseInt(r[2]),t.originalWidth=parseInt(r[3]),t.originalHeight=parseInt(r[4])},rotate:function(t){var e=r[1];"true"==e?t.degrees=90:"false"!=e&&(t.degrees=parseInt(e))},index:function(t){t.index=parseInt(r[1])}},o=e.readLine();o&&0==o.trim().length;)o=e.readLine();for(;o&&0!=o.trim().length&&0!=e.readEntry(r,o);)o=e.readLine();for(var a=null,s=null,h=null;null!==o;)if(0==o.trim().length)a=null,o=e.readLine();else if(a){for(var u=new Vt(a,o);;){var c=e.readEntry(r,o=e.readLine());if(0==c)break;var l=i[r[0]];if(l)l(u);else{s||(s=[]),h||(h=[]),s.push(r[0]);for(var f=[],d=0;d<c;d++)f.push(parseInt(r[d+1]));h.push(f)}}0==u.originalWidth&&0==u.originalHeight&&(u.originalWidth=u.width,u.originalHeight=u.height),s&&s.length>0&&h&&h.length>0&&(u.names=s,u.values=h,s=null,h=null),u.u=u.x/a.width,u.v=u.y/a.height,90==u.degrees?(u.u2=(u.x+u.height)/a.width,u.v2=(u.y+u.width)/a.height):(u.u2=(u.x+u.width)/a.width,u.v2=(u.y+u.height)/a.height),this.regions.push(u)}else{for(a=new Ut(o.trim());0!=e.readEntry(r,o=e.readLine());){var v=n[r[0]];v&&v(a)}this.pages.push(a)}}var e=t.prototype;return e.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.setTextures=function(t,e){void 0===e&&(e="");for(var r,n=Bt(this.pages);!(r=n()).done;){var i=r.value;i.setTexture(t.get(e+i.name))}},e.dispose=function(){for(var t=0;t<this.pages.length;t++){var e;null==(e=this.pages[t].texture)||e.dispose()}},t}(),Dt=function(){function t(t){this.lines=void 0,this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var e=t.prototype;return e.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.readEntry=function(t,e){if(!e)return 0;if(0==(e=e.trim()).length)return 0;var r=e.indexOf(":");if(-1==r)return 0;t[0]=e.substr(0,r).trim();for(var n=1,i=r+1;;n++){var o=e.indexOf(",",i);if(-1==o)return t[n]=e.substr(i).trim(),n;if(t[n]=e.substr(i,o-i).trim(),i=o+1,4==n)return 4}},t}(),Ut=function(){function t(t){this.name=void 0,this.minFilter=kt.Nearest,this.magFilter=kt.Nearest,this.uWrap=It.ClampToEdge,this.vWrap=It.ClampToEdge,this.texture=null,this.width=0,this.height=0,this.pma=!1,this.regions=new Array,this.name=t}return t.prototype.setTexture=function(t){this.texture=t,t.setFilters(this.minFilter,this.magFilter),t.setWraps(this.uWrap,this.vWrap);for(var e,r=Bt(this.regions);!(e=r()).done;){e.value.texture=t}},t}(),Vt=function(t){function e(e,r){var n;return(n=t.call(this)||this).page=void 0,n.name=void 0,n.x=0,n.y=0,n.offsetX=0,n.offsetY=0,n.originalWidth=0,n.originalHeight=0,n.index=0,n.degrees=0,n.names=null,n.values=null,n.page=e,n.name=r,e.regions.push((0,s.Z)(n)),n}return(0,h.Z)(e,t),e}((function(){this.texture=void 0,this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.degrees=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0})),qt=function(t){function e(e,r){var n;return(n=t.call(this,e)||this).region=null,n.path=void 0,n.regionUVs=[],n.uvs=[],n.triangles=[],n.color=new f(1,1,1,1),n.width=0,n.height=0,n.hullLength=0,n.edges=[],n.parentMesh=null,n.sequence=null,n.tempColor=new f(0,0,0,0),n.path=r,n}(0,h.Z)(e,t);var r=e.prototype;return r.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var t=this.regionUVs;this.uvs&&this.uvs.length==t.length||(this.uvs=p.newFloatArray(t.length));var e=this.uvs,r=this.uvs.length,n=this.region.u,i=this.region.v,o=0,a=0;if(this.region instanceof Vt){var s=this.region,h=s.page.texture.getImage(),u=h.width,c=h.height;switch(s.degrees){case 90:n-=(s.originalHeight-s.offsetY-s.height)/u,i-=(s.originalWidth-s.offsetX-s.width)/c,o=s.originalHeight/u,a=s.originalWidth/c;for(var l=0;l<r;l+=2)e[l]=n+t[l+1]*o,e[l+1]=i+(1-t[l])*a;return;case 180:n-=(s.originalWidth-s.offsetX-s.width)/u,i-=s.offsetY/c,o=s.originalWidth/u,a=s.originalHeight/c;for(var f=0;f<r;f+=2)e[f]=n+(1-t[f])*o,e[f+1]=i+(1-t[f+1])*a;return;case 270:n-=s.offsetY/u,i-=s.offsetX/c,o=s.originalHeight/u,a=s.originalWidth/c;for(var d=0;d<r;d+=2)e[d]=n+(1-t[d+1])*o,e[d+1]=i+t[d]*a;return}n-=s.offsetX/u,i-=(s.originalHeight-s.offsetY-s.height)/c,o=s.originalWidth/u,a=s.originalHeight/c}else this.region?(o=this.region.u2-n,a=this.region.v2-i):(n=i=0,o=a=1);for(var v=0;v<r;v+=2)e[v]=n+t[v]*o,e[v+1]=i+t[v+1]*a},r.getParentMesh=function(){return this.parentMesh},r.setParentMesh=function(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},r.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var t=new e(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),p.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),p.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),p.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),p.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},r.computeWorldVertices=function(e,r,n,i,o,a){null!=this.sequence&&this.sequence.apply(e,this),t.prototype.computeWorldVertices.call(this,e,r,n,i,o,a)},r.newLinkedMesh=function(){var t=new e(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),null!=t.region&&t.updateRegion(),t},e}(b),Wt=function(t){function e(e){var r;return(r=t.call(this,e)||this).lengths=[],r.closed=!1,r.constantSpeed=!1,r.color=new f(1,1,1,1),r}return(0,h.Z)(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),p.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e}(b),zt=function(t){function e(e){var r;return(r=t.call(this,e)||this).x=0,r.y=0,r.rotation=0,r.color=new f(.38,.94,0,1),r}(0,h.Z)(e,t);var r=e.prototype;return r.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},r.computeWorldRotation=function(t){var e=d.cosDeg(this.rotation),r=d.sinDeg(this.rotation),n=e*t.a+r*t.b,i=e*t.c+r*t.d;return Math.atan2(i,n)*d.radDeg},r.copy=function(){var t=new e(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e}(b),Gt=function(t){function e(e,r){var n;return(n=t.call(this,e)||this).x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new f(1,1,1,1),n.path=void 0,n.region=null,n.sequence=null,n.offset=p.newFloatArray(8),n.uvs=p.newFloatArray(8),n.tempColor=new f(1,1,1,1),n.path=r,n}(0,h.Z)(e,t);var r=e.prototype;return r.updateRegion=function(){if(!this.region)throw new Error("Region not set.");var t=this.region,e=this.uvs;if(null==t)return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=1,e[5]=1,e[6]=1,void(e[7]=0);var r=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*r,o=-this.height/2*this.scaleY+this.region.offsetY*n,a=i+this.region.width*r,s=o+this.region.height*n,h=this.rotation*Math.PI/180,u=Math.cos(h),c=Math.sin(h),l=this.x,f=this.y,d=i*u+l,p=i*c,v=o*u+f,m=o*c,g=a*u+l,y=a*c,b=s*u+f,w=s*c,x=this.offset;x[0]=d-m,x[1]=v+p,x[2]=d-w,x[3]=b+p,x[4]=g-w,x[5]=b+y,x[6]=g-m,x[7]=v+y,90==t.degrees?(e[0]=t.u2,e[1]=t.v2,e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},r.computeWorldVertices=function(t,e,r,n){null!=this.sequence&&this.sequence.apply(t,this);var i=t.bone,o=this.offset,a=i.worldX,s=i.worldY,h=i.a,u=i.b,c=i.c,l=i.d,f=0,d=0;f=o[0],d=o[1],e[r]=f*h+d*u+a,e[r+1]=f*c+d*l+s,r+=n,f=o[2],d=o[3],e[r]=f*h+d*u+a,e[r+1]=f*c+d*l+s,r+=n,f=o[4],d=o[5],e[r]=f*h+d*u+a,e[r+1]=f*c+d*l+s,r+=n,f=o[6],d=o[7],e[r]=f*h+d*u+a,e[r+1]=f*c+d*l+s},r.copy=function(){var t=new e(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,p.arrayCopy(this.uvs,0,t.uvs,0,8),p.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t},e}(y);Gt.X1=0,Gt.Y1=1,Gt.C1R=2,Gt.C1G=3,Gt.C1B=4,Gt.C1A=5,Gt.U1=6,Gt.V1=7,Gt.X2=8,Gt.Y2=9,Gt.C2R=10,Gt.C2G=11,Gt.C2B=12,Gt.C2A=13,Gt.U2=14,Gt.V2=15,Gt.X3=16,Gt.Y3=17,Gt.C3R=18,Gt.C3G=19,Gt.C3B=20,Gt.C3A=21,Gt.U3=22,Gt.V3=23,Gt.X4=24,Gt.Y4=25,Gt.C4R=26,Gt.C4G=27,Gt.C4B=28,Gt.C4A=29,Gt.U4=30,Gt.V4=31;var Zt,Ht=function(){function t(t){this.atlas=void 0,this.atlas=t}var e=t.prototype;return e.loadSequence=function(t,e,r){for(var n=r.regions,i=0,o=n.length;i<o;i++){var a=r.getPath(e,i),s=this.atlas.findRegion(a);if(null==s)throw new Error("Region not found in atlas: "+a+" (sequence: "+t+")");n[i]=s}},e.newRegionAttachment=function(t,e,r,n){var i=new Gt(e,r);if(null!=n)this.loadSequence(e,r,n);else{var o=this.atlas.findRegion(r);if(!o)throw new Error("Region not found in atlas: "+r+" (region attachment: "+e+")");i.region=o}return i},e.newMeshAttachment=function(t,e,r,n){var i=new qt(e,r);if(null!=n)this.loadSequence(e,r,n);else{var o=this.atlas.findRegion(r);if(!o)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+e+")");i.region=o}return i},e.newBoundingBoxAttachment=function(t,e){return new Mt(e)},e.newPathAttachment=function(t,e){return new Wt(e)},e.newPointAttachment=function(t,e){return new zt(e)},e.newClippingAttachment=function(t,e){return new Yt(e)},t}(),Jt=function(t,e,r){if(this.index=0,this.name=void 0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Zt.Normal,this.skinRequired=!1,this.color=new f,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=r};!function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(Zt||(Zt={}));var Kt=function(){function t(t,e,r){if(this.data=void 0,this.skeleton=void 0,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=r,this.setToSetupPose()}var e=t.prototype;return e.isActive=function(){return this.active},e.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},e.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.updateWorldTransformWith=function(t,e,r,n,i,o,a){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=o,this.ashearY=a;var s=this.parent;if(!s){var h=this.skeleton,u=r+90+a,c=h.scaleX,l=h.scaleY;return this.a=d.cosDeg(r+o)*n*c,this.b=d.cosDeg(u)*i*c,this.c=d.sinDeg(r+o)*n*l,this.d=d.sinDeg(u)*i*l,this.worldX=t*c+h.x,void(this.worldY=e*l+h.y)}var f=s.a,p=s.b,v=s.c,m=s.d;switch(this.worldX=f*t+p*e+s.worldX,this.worldY=v*t+m*e+s.worldY,this.data.transformMode){case Zt.Normal:var g=r+90+a,y=d.cosDeg(r+o)*n,b=d.cosDeg(g)*i,w=d.sinDeg(r+o)*n,x=d.sinDeg(g)*i;return this.a=f*y+p*w,this.b=f*b+p*x,this.c=v*y+m*w,void(this.d=v*b+m*x);case Zt.OnlyTranslation:var E=r+90+a;this.a=d.cosDeg(r+o)*n,this.b=d.cosDeg(E)*i,this.c=d.sinDeg(r+o)*n,this.d=d.sinDeg(E)*i;break;case Zt.NoRotationOrReflection:var S=f*f+v*v,A=0;S>1e-4?(S=Math.abs(f*m-p*v)/S,f/=this.skeleton.scaleX,p=(v/=this.skeleton.scaleY)*S,m=f*S,A=Math.atan2(v,f)*d.radDeg):(f=0,v=0,A=90-Math.atan2(m,p)*d.radDeg);var k=r+o-A,I=r+a-A+90,T=d.cosDeg(k)*n,C=d.cosDeg(I)*i,O=d.sinDeg(k)*n,_=d.sinDeg(I)*i;this.a=f*T-p*O,this.b=f*C-p*_,this.c=v*T+m*O,this.d=v*C+m*_;break;case Zt.NoScale:case Zt.NoScaleOrReflection:var R=d.cosDeg(r),P=d.sinDeg(r),F=(f*R+p*P)/this.skeleton.scaleX,L=(v*R+m*P)/this.skeleton.scaleY,M=Math.sqrt(F*F+L*L);M>1e-5&&(M=1/M),F*=M,L*=M,M=Math.sqrt(F*F+L*L),this.data.transformMode==Zt.NoScale&&f*m-p*v<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(M=-M);var Y=Math.PI/2+Math.atan2(L,F),N=Math.cos(Y)*M,B=Math.sin(Y)*M,j=d.cosDeg(o)*n,X=d.cosDeg(90+a)*i,D=d.sinDeg(o)*n,U=d.sinDeg(90+a)*i;this.a=F*j+N*D,this.b=F*X+N*U,this.c=L*j+B*D,this.d=L*X+B*U}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},e.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*d.radDeg},e.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*d.radDeg},e.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},e.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},e.updateAppliedTransform=function(){var t=this.parent;if(!t)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*d.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*d.radDeg);var e=t.a,r=t.b,n=t.c,i=t.d,o=1/(e*i-r*n),a=this.worldX-t.worldX,s=this.worldY-t.worldY;this.ax=a*i*o-s*r*o,this.ay=s*e*o-a*n*o;var h=o*i,u=o*e,c=o*r,l=o*n,f=h*this.a-c*this.c,p=h*this.b-c*this.d,v=u*this.c-l*this.a,m=u*this.d-l*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+v*v),this.ascaleX>1e-4){var g=f*m-p*v;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(f*p+v*m,g)*d.radDeg,this.arotation=Math.atan2(v,f)*d.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(p*p+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,p)*d.radDeg},e.worldToLocal=function(t){var e=1/(this.a*this.d-this.b*this.c),r=t.x-this.worldX,n=t.y-this.worldY;return t.x=r*this.d*e-n*this.b*e,t.y=n*this.a*e-r*this.c*e,t},e.localToWorld=function(t){var e=t.x,r=t.y;return t.x=e*this.a+r*this.b+this.worldX,t.y=e*this.c+r*this.d+this.worldY,t},e.worldToLocalRotation=function(t){var e=d.sinDeg(t),r=d.cosDeg(t);return Math.atan2(this.a*e-this.c*r,this.d*r-this.b*e)*d.radDeg+this.rotation-this.shearX},e.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=d.sinDeg(t),r=d.cosDeg(t);return Math.atan2(r*this.c+e*this.d,r*this.a+e*this.b)*d.radDeg},e.rotateWorld=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=d.cosDeg(t),a=d.sinDeg(t);this.a=o*e-a*n,this.b=o*r-a*i,this.c=a*e+o*n,this.d=a*r+o*i},t}();function Qt(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return $t(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $t(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var te,ee,re,ne=function(){function t(t,e,r){void 0===e&&(e=""),void 0===r&&(r=new ie),this.pathPrefix="",this.textureLoader=void 0,this.downloader=void 0,this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=e,this.downloader=r}var e=t.prototype;return e.start=function(t){return this.toLoad++,this.pathPrefix+t},e.success=function(t,e,r){this.toLoad--,this.loaded++,this.assets[e]=r,t&&t(e,r)},e.error=function(t,e,r){this.toLoad--,this.loaded++,this.errors[e]=r,t&&t(e,r)},e.loadAll=function(){var t=this;return new Promise((function(e,r){requestAnimationFrame((function n(){t.isLoadingComplete()?t.hasErrors()?r(t.errors):e(t):requestAnimationFrame(n)}))}))},e.setRawDataURI=function(t,e){this.downloader.rawDataUris[this.pathPrefix+t]=e},e.loadBinary=function(t,e,r){var n=this;void 0===e&&(e=function(){}),void 0===r&&(r=function(){}),t=this.start(t),this.downloader.downloadBinary(t,(function(r){n.success(e,t,r)}),(function(e,i){n.error(r,t,"Couldn't load binary "+t+": status "+e+", "+i)}))},e.loadText=function(t,e,r){var n=this;void 0===e&&(e=function(){}),void 0===r&&(r=function(){}),t=this.start(t),this.downloader.downloadText(t,(function(r){n.success(e,t,r)}),(function(e,i){n.error(r,t,"Couldn't load text "+t+": status "+e+", "+i)}))},e.loadJson=function(t,e,r){var n=this;void 0===e&&(e=function(){}),void 0===r&&(r=function(){}),t=this.start(t),this.downloader.downloadJson(t,(function(r){n.success(e,t,r)}),(function(e,i){n.error(r,t,"Couldn't load JSON "+t+": status "+e+", "+i)}))},e.loadTexture=function(t,e,r){var n=this;if(void 0===e&&(e=function(){}),void 0===r&&(r=function(){}),t=this.start(t),!!("undefined"===typeof window||"undefined"===typeof navigator||!window.document))fetch(t,{mode:"cors"}).then((function(e){return e.ok?e.blob():(n.error(r,t,"Couldn't load image: "+t),null)})).then((function(t){return t?createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null})).then((function(r){r&&n.success(e,t,n.textureLoader(r))}));else{var i=new Image;i.crossOrigin="anonymous",i.onload=function(){n.success(e,t,n.textureLoader(i))},i.onerror=function(){n.error(r,t,"Couldn't load image: "+t)},this.downloader.rawDataUris[t]&&(t=this.downloader.rawDataUris[t]),i.src=t}},e.loadTextureAtlas=function(t,e,r,n){var i=this;void 0===e&&(e=function(){}),void 0===r&&(r=function(){});var o=t.lastIndexOf("/"),a=o>=0?t.substring(0,o+1):"";t=this.start(t),this.downloader.downloadText(t,(function(o){try{for(var s,h=new Xt(o),u=h.pages.length,c=!1,l=function(){var o=s.value;i.loadTexture(n?n[o.name]:a+o.name,(function(r,n){c||(o.setTexture(n),0==--u&&i.success(e,t,h))}),(function(e,n){c||i.error(r,t,"Couldn't load texture atlas "+t+" page image: "+e),c=!0}))},f=Qt(h.pages);!(s=f()).done;)l()}catch(d){i.error(r,t,"Couldn't parse texture atlas "+t+": "+d.message)}}),(function(e,n){i.error(r,t,"Couldn't load texture atlas "+t+": status "+e+", "+n)}))},e.get=function(t){return this.assets[this.pathPrefix+t]},e.require=function(t){t=this.pathPrefix+t;var e=this.assets[t];if(e)return e;var r=this.errors[t];throw Error("Asset not found: "+t+(r?"\n"+r:""))},e.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];return e.dispose&&e.dispose(),delete this.assets[t],e},e.removeAll=function(){for(var t in this.assets){var e=this.assets[t];e.dispose&&e.dispose()}this.assets={}},e.isLoadingComplete=function(){return 0==this.toLoad},e.getToLoad=function(){return this.toLoad},e.getLoaded=function(){return this.loaded},e.dispose=function(){this.removeAll()},e.hasErrors=function(){return Object.keys(this.errors).length>0},e.getErrors=function(){return this.errors},t}(),ie=function(){function t(){this.callbacks={},this.rawDataUris={}}var e=t.prototype;return e.dataUriToString=function(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");var e=t.indexOf("base64,");return-1!=e?(e+=7,atob(t.substr(e))):t.substr(t.indexOf(",")+1)},e.base64ToUint8Array=function(t){for(var e=window.atob(t),r=e.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=e.charCodeAt(i);return n},e.dataUriToUint8Array=function(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");var e=t.indexOf("base64,");if(-1==e)throw new Error("Not a binary data URI.");return e+=7,this.base64ToUint8Array(t.substr(e))},e.downloadText=function(t,e,r){var n=this;if(!this.start(t,e,r))if(this.rawDataUris[t])try{var i=this.rawDataUris[t];this.finish(t,200,this.dataUriToString(i))}catch(s){this.finish(t,400,JSON.stringify(s))}else{var o=new XMLHttpRequest;o.overrideMimeType("text/html"),o.open("GET",t,!0);var a=function(){n.finish(t,o.status,o.responseText)};o.onload=a,o.onerror=a,o.send()}},e.downloadJson=function(t,e,r){this.downloadText(t,(function(t){e(JSON.parse(t))}),r)},e.downloadBinary=function(t,e,r){var n=this;if(!this.start(t,e,r))if(this.rawDataUris[t])try{var i=this.rawDataUris[t];this.finish(t,200,this.dataUriToUint8Array(i))}catch(s){this.finish(t,400,JSON.stringify(s))}else{var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer";var a=function(){n.finish(t,o.status,o.response)};o.onload=function(){200==o.status||0==o.status?n.finish(t,200,new Uint8Array(o.response)):a()},o.onerror=a,o.send()}},e.start=function(t,e,r){var n=this.callbacks[t];try{if(n)return!0;this.callbacks[t]=n=[]}finally{n.push(e,r)}},e.finish=function(t,e,r){var n=this.callbacks[t];delete this.callbacks[t];for(var i=200==e||0==e?[r]:[e,r],o=i.length-1,a=n.length;o<a;o+=2)n[o].apply(null,i)},t}(),oe=function(){function t(t,e){if(this.data=void 0,this.bones=void 0,this.target=void 0,this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++){var n=e.findBone(t.bones[r].name);if(!n)throw new Error("Couldn't find bone "+t.bones[r].name);this.bones.push(n)}var i=e.findBone(t.target.name);if(!i)throw new Error("Couldn't find bone "+t.target.name);this.target=i}var e=t.prototype;return e.isActive=function(){return this.active},e.update=function(){if(0!=this.mix){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}},e.apply1=function(t,e,r,n,i,o,a){var s=t.parent;if(!s)throw new Error("IK bone must have parent.");var h=s.a,u=s.b,c=s.c,l=s.d,f=-t.ashearX-t.arotation,p=0,v=0;switch(t.data.transformMode){case Zt.OnlyTranslation:p=(e-t.worldX)*d.signum(t.skeleton.scaleX),v=(r-t.worldY)*d.signum(t.skeleton.scaleY);break;case Zt.NoRotationOrReflection:var m=Math.abs(h*l-u*c)/Math.max(1e-4,h*h+c*c),g=h/t.skeleton.scaleX,y=c/t.skeleton.scaleY;u=-y*m*t.skeleton.scaleX,l=g*m*t.skeleton.scaleY,f+=Math.atan2(y,g)*d.radDeg;default:var b=e-s.worldX,w=r-s.worldY,x=h*l-u*c;Math.abs(x)<=1e-4?(p=0,v=0):(p=(b*l-w*u)/x-t.ax,v=(w*h-b*c)/x-t.ay)}f+=Math.atan2(v,p)*d.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var E=t.ascaleX,S=t.ascaleY;if(n||i){switch(t.data.transformMode){case Zt.NoScale:case Zt.NoScaleOrReflection:p=e-t.worldX,v=r-t.worldY}var A=t.data.length*E,k=Math.sqrt(p*p+v*v);if(n&&k<A||i&&k>A&&A>1e-4){var I=(k/A-1)*a+1;E*=I,o&&(S*=I)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*a,E,S,t.ashearX,t.ashearY)},e.apply2=function(t,e,r,n,i,o,a,s,h){var u=t.ax,c=t.ay,l=t.ascaleX,f=t.ascaleY,p=l,v=f,m=e.ascaleX,g=0,y=0,b=0;l<0?(l=-l,g=180,b=-1):(g=0,b=1),f<0&&(f=-f,b=-b),m<0?(m=-m,y=180):y=0;var w=e.ax,x=0,E=0,S=0,A=t.a,k=t.b,I=t.c,T=t.d,C=Math.abs(l-f)<=1e-4;!C||o?(x=0,E=A*w+t.worldX,S=I*w+t.worldY):(E=A*w+k*(x=e.ay)+t.worldX,S=I*w+T*x+t.worldY);var O=t.parent;if(!O)throw new Error("IK parent must itself have a parent.");A=O.a,k=O.b,I=O.c;var _,R,P=A*(T=O.d)-k*I,F=E-O.worldX,L=S-O.worldY,M=(F*T-L*k)*(P=Math.abs(P)<=1e-4?0:1/P)-u,Y=(L*A-F*I)*P-c,N=Math.sqrt(M*M+Y*Y),B=e.data.length*m;if(N<1e-4)return this.apply1(t,r,n,!1,o,!1,h),void e.updateWorldTransformWith(w,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var j=((F=r-O.worldX)*T-(L=n-O.worldY)*k)*P-u,X=(L*A-F*I)*P-c,D=j*j+X*X;if(0!=s){s*=l*(m+1)*.5;var U=Math.sqrt(D),V=U-N-B*l+s;if(V>0){var q=Math.min(1,V/(2*s))-1;D=(j-=(q=(V-s*(1-q*q))/U)*j)*j+(X-=q*X)*X}}t:if(C){var W=(D-N*N-(B*=l)*B)/(2*N*B);W<-1?(W=-1,R=Math.PI*i):W>1?(W=1,R=0,o&&(p*=A=(Math.sqrt(D)/(N+B)-1)*h+1,a&&(v*=A))):R=Math.acos(W)*i,A=N+B*W,k=B*Math.sin(R),_=Math.atan2(X*A-j*k,j*A+X*k)}else{var z=(A=l*B)*A,G=(k=f*B)*k,Z=Math.atan2(X,j),H=-2*G*N,J=G-z;if((T=H*H-4*J*(I=G*N*N+z*D-z*G))>=0){var K=Math.sqrt(T);H<0&&(K=-K);var Q=(K=.5*-(H+K))/J,$=I/K,tt=Math.abs(Q)<Math.abs($)?Q:$;if(tt*tt<=D){L=Math.sqrt(D-tt*tt)*i,_=Z-Math.atan2(L,tt),R=Math.atan2(L/f,(tt-N)/l);break t}}var et=d.PI,rt=N-A,nt=rt*rt,it=0,ot=0,at=N+A,st=at*at,ht=0;(I=-A*N/(z-G))>=-1&&I<=1&&(I=Math.acos(I),(T=(F=A*Math.cos(I)+N)*F+(L=k*Math.sin(I))*L)<nt&&(et=I,nt=T,rt=F,it=L),T>st&&(ot=I,st=T,at=F,ht=L)),D<=.5*(nt+st)?(_=Z-Math.atan2(it*i,rt),R=et*i):(_=Z-Math.atan2(ht*i,at),R=ot*i)}var ut=Math.atan2(x,w)*b,ct=t.arotation;(_=(_-ut)*d.radDeg+g-ct)>180?_-=360:_<-180&&(_+=360),t.updateWorldTransformWith(u,c,ct+_*h,p,v,0,0),ct=e.arotation,(R=((R+ut)*d.radDeg-e.ashearX)*b+y-ct)>180?R-=360:R<-180&&(R+=360),e.updateWorldTransformWith(w,x,ct+R*h,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},t}(),ae=function(t,e,r){this.name=void 0,this.order=void 0,this.skinRequired=void 0,this.name=t,this.order=e,this.skinRequired=r},se=function(t){function e(e){var r;return(r=t.call(this,e,0,!1)||this).bones=new Array,r._target=null,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return(0,h.Z)(e,t),(0,a.Z)(e,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(t){this._target=t}}]),e}(ae),he=function(t){function e(e){var r;return(r=t.call(this,e,0,!1)||this).bones=new Array,r._target=null,r.positionMode=te.Fixed,r.spacingMode=ee.Fixed,r.rotateMode=re.Chain,r.offsetRotation=0,r.position=0,r.spacing=0,r.mixRotate=0,r.mixX=0,r.mixY=0,r}return(0,h.Z)(e,t),(0,a.Z)(e,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("SlotData not set.")},set:function(t){this._target=t}}]),e}(ae);!function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(te||(te={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"}(ee||(ee={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(re||(re={}));var ue=function(){function t(t,e){if(this.data=void 0,this.bones=void 0,this.target=void 0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++){var i=e.findBone(t.bones[r].name);if(!i)throw new Error("Couldn't find bone "+t.bones[r].name+".");this.bones.push(i)}var o=e.findSlot(t.target.name);if(!o)throw new Error("Couldn't find target bone "+t.target.name);this.target=o,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}var e=t.prototype;return e.isActive=function(){return this.active},e.update=function(){var e=this.target.getAttachment();if(e instanceof Wt){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(0!=r||0!=n||0!=i){var o=this.data,a=o.rotateMode==re.Tangent,s=o.rotateMode==re.ChainScale,h=this.bones,u=h.length,c=a?u:u+1,l=p.setArraySize(this.spaces,c),f=s?this.lengths=p.setArraySize(this.lengths,u):[],v=this.spacing;switch(o.spacingMode){case ee.Percent:if(s)for(var m=0,g=c-1;m<g;m++){var y=h[m],b=y.data.length;if(b<t.epsilon)f[m]=0;else{var w=b*y.a,x=b*y.c;f[m]=Math.sqrt(w*w+x*x)}}p.arrayFill(l,1,c,v);break;case ee.Proportional:for(var E=0,S=0,A=c-1;S<A;){var k=h[S],I=k.data.length;if(I<t.epsilon)s&&(f[S]=0),l[++S]=v;else{var T=I*k.a,C=I*k.c,O=Math.sqrt(T*T+C*C);s&&(f[S]=O),l[++S]=O,E+=O}}if(E>0){E=c/E*v;for(var _=1;_<c;_++)l[_]*=E}break;default:for(var R=o.spacingMode==ee.Length,P=0,F=c-1;P<F;){var L=h[P],M=L.data.length;if(M<t.epsilon)s&&(f[P]=0),l[++P]=v;else{var Y=M*L.a,N=M*L.c,B=Math.sqrt(Y*Y+N*N);s&&(f[P]=B),l[++P]=(R?M+v:v)*B/M}}}var j=this.computeWorldPositions(e,c,a),X=j[0],D=j[1],U=o.offsetRotation,V=!1;if(0==U)V=o.rotateMode==re.Chain;else{V=!1;var q=this.target.bone;U*=q.a*q.d-q.b*q.c>0?d.degRad:-d.degRad}for(var W=0,z=3;W<u;W++,z+=3){var G=h[W];G.worldX+=(X-G.worldX)*n,G.worldY+=(D-G.worldY)*i;var Z=j[z],H=j[z+1],J=Z-X,K=H-D;if(s){var Q=f[W];if(0!=Q){var $=(Math.sqrt(J*J+K*K)/Q-1)*r+1;G.a*=$,G.c*=$}}if(X=Z,D=H,r>0){var tt=G.a,et=G.b,rt=G.c,nt=G.d,it=0,ot=0,at=0;if(it=a?j[z-1]:0==l[W+1]?j[z+2]:Math.atan2(K,J),it-=Math.atan2(rt,tt),V){ot=Math.cos(it),at=Math.sin(it);var st=G.data.length;X+=(st*(ot*tt-at*rt)-J)*r,D+=(st*(at*tt+ot*rt)-K)*r}else it+=U;it>d.PI?it-=d.PI2:it<-d.PI&&(it+=d.PI2),it*=r,ot=Math.cos(it),at=Math.sin(it),G.a=ot*tt-at*rt,G.b=ot*et-at*nt,G.c=at*tt+ot*rt,G.d=at*et+ot*nt}G.updateAppliedTransform()}}}},e.computeWorldPositions=function(e,r,n){var i=this.target,o=this.position,a=this.spaces,s=p.setArraySize(this.positions,3*r+2),h=this.world,u=e.closed,c=e.worldVerticesLength,l=c/6,f=t.NONE;if(!e.constantSpeed){var d,v=e.lengths,m=v[l-=u?1:2];switch(this.data.positionMode==te.Percent&&(o*=m),this.data.spacingMode){case ee.Percent:d=m;break;case ee.Proportional:d=m/r;break;default:d=1}h=p.setArraySize(this.world,8);for(var g=0,y=0,b=0;g<r;g++,y+=3){var w=a[g]*d,x=o+=w;if(u)(x%=m)<0&&(x+=m),b=0;else{if(x<0){f!=t.BEFORE&&(f=t.BEFORE,e.computeWorldVertices(i,2,4,h,0,2)),this.addBeforePosition(x,h,0,s,y);continue}if(x>m){f!=t.AFTER&&(f=t.AFTER,e.computeWorldVertices(i,c-6,4,h,0,2)),this.addAfterPosition(x-m,h,0,s,y);continue}}for(;;b++){var E=v[b];if(!(x>E)){if(0==b)x/=E;else{var S=v[b-1];x=(x-S)/(E-S)}break}}b!=f&&(f=b,u&&b==l?(e.computeWorldVertices(i,c-4,4,h,0,2),e.computeWorldVertices(i,0,4,h,4,2)):e.computeWorldVertices(i,6*b+2,8,h,0,2)),this.addCurvePosition(x,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],s,y,n||g>0&&0==w)}return s}u?(c+=2,h=p.setArraySize(this.world,c),e.computeWorldVertices(i,2,c-4,h,0,2),e.computeWorldVertices(i,0,2,h,c-4,2),h[c-2]=h[0],h[c-1]=h[1]):(l--,c-=4,h=p.setArraySize(this.world,c),e.computeWorldVertices(i,2,c,h,0,2));for(var A,k=p.setArraySize(this.curves,l),I=0,T=h[0],C=h[1],O=0,_=0,R=0,P=0,F=0,L=0,M=0,Y=0,N=0,B=0,j=0,X=0,D=0,U=0,V=0,q=2;V<l;V++,q+=6)O=h[q],_=h[q+1],R=h[q+2],P=h[q+3],j=2*(M=.1875*(T-2*O+R))+(N=.09375*(3*(O-R)-T+(F=h[q+4]))),X=2*(Y=.1875*(C-2*_+P))+(B=.09375*(3*(_-P)-C+(L=h[q+5]))),D=.75*(O-T)+M+.16666667*N,U=.75*(_-C)+Y+.16666667*B,I+=Math.sqrt(D*D+U*U),D+=j,U+=X,j+=N,X+=B,I+=Math.sqrt(D*D+U*U),D+=j,U+=X,I+=Math.sqrt(D*D+U*U),D+=j+N,U+=X+B,I+=Math.sqrt(D*D+U*U),k[V]=I,T=F,C=L;switch(this.data.positionMode==te.Percent&&(o*=I),this.data.spacingMode){case ee.Percent:A=I;break;case ee.Proportional:A=I/r;break;default:A=1}for(var W=this.segments,z=0,G=0,Z=0,H=0,J=0;G<r;G++,Z+=3){var K=a[G]*A,Q=o+=K;if(u)(Q%=I)<0&&(Q+=I),H=0;else{if(Q<0){this.addBeforePosition(Q,h,0,s,Z);continue}if(Q>I){this.addAfterPosition(Q-I,h,c-4,s,Z);continue}}for(;;H++){var $=k[H];if(!(Q>$)){if(0==H)Q/=$;else{var tt=k[H-1];Q=(Q-tt)/($-tt)}break}}if(H!=f){f=H;var et=6*H;for(T=h[et],C=h[et+1],O=h[et+2],_=h[et+3],R=h[et+4],P=h[et+5],j=2*(M=.03*(T-2*O+R))+(N=.006*(3*(O-R)-T+(F=h[et+6]))),X=2*(Y=.03*(C-2*_+P))+(B=.006*(3*(_-P)-C+(L=h[et+7]))),D=.3*(O-T)+M+.16666667*N,U=.3*(_-C)+Y+.16666667*B,z=Math.sqrt(D*D+U*U),W[0]=z,et=1;et<8;et++)D+=j,U+=X,j+=N,X+=B,z+=Math.sqrt(D*D+U*U),W[et]=z;D+=j,U+=X,z+=Math.sqrt(D*D+U*U),W[8]=z,D+=j+N,U+=X+B,z+=Math.sqrt(D*D+U*U),W[9]=z,J=0}for(Q*=z;;J++){var rt=W[J];if(!(Q>rt)){if(0==J)Q/=rt;else{var nt=W[J-1];Q=J+(Q-nt)/(rt-nt)}break}}this.addCurvePosition(.1*Q,T,C,O,_,R,P,F,L,s,Z,n||G>0&&0==K)}return s},e.addBeforePosition=function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,h=e[r+3]-a,u=Math.atan2(h,s);n[i]=o+t*Math.cos(u),n[i+1]=a+t*Math.sin(u),n[i+2]=u},e.addAfterPosition=function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],h=a-e[r+1],u=Math.atan2(h,s);n[i]=o+t*Math.cos(u),n[i+1]=a+t*Math.sin(u),n[i+2]=u},e.addCurvePosition=function(t,e,r,n,i,o,a,s,h,u,c,l){if(0==t||isNaN(t))return u[c]=e,u[c+1]=r,void(u[c+2]=Math.atan2(i-r,n-e));var f=t*t,d=f*t,p=1-t,v=p*p,m=v*p,g=p*t,y=3*g,b=p*y,w=y*t,x=e*m+n*b+o*w+s*d,E=r*m+i*b+a*w+h*d;u[c]=x,u[c+1]=E,l&&(u[c+2]=t<.001?Math.atan2(i-r,n-e):Math.atan2(E-(r*v+i*g*2+a*f),x-(e*v+n*g*2+o*f)))},t}();ue.NONE=-1,ue.BEFORE=-2,ue.AFTER=-3,ue.epsilon=1e-5;var ce=function(){function t(t,e){if(this.data=void 0,this.bone=void 0,this.color=void 0,this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!t)throw new Error("data cannot be null.");if(!e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new f,this.darkColor=t.darkColor?new f:null,this.setToSetupPose()}var e=t.prototype;return e.getSkeleton=function(){return this.bone.skeleton},e.getAttachment=function(){return this.attachment},e.setAttachment=function(t){this.attachment!=t&&(t instanceof b&&this.attachment instanceof b&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)},e.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},t}(),le=function(){function t(t,e){if(this.data=void 0,this.bones=void 0,this.target=void 0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new m,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var r=0;r<t.bones.length;r++){var n=e.findBone(t.bones[r].name);if(!n)throw new Error("Couldn't find bone "+t.bones[r].name+".");this.bones.push(n)}var i=e.findBone(t.target.name);if(!i)throw new Error("Couldn't find target bone "+t.target.name+".");this.target=i}var e=t.prototype;return e.isActive=function(){return this.active},e.update=function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleY&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},e.applyAbsoluteWorld=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=e||0!=r,s=this.target,h=s.a,u=s.b,c=s.c,l=s.d,f=h*l-u*c>0?d.degRad:-d.degRad,p=this.data.offsetRotation*f,v=this.data.offsetShearY*f,m=this.bones,g=0,y=m.length;g<y;g++){var b=m[g];if(0!=t){var w=b.a,x=b.b,E=b.c,S=b.d,A=Math.atan2(c,h)-Math.atan2(E,w)+p;A>d.PI?A-=d.PI2:A<-d.PI&&(A+=d.PI2),A*=t;var k=Math.cos(A),I=Math.sin(A);b.a=k*w-I*E,b.b=k*x-I*S,b.c=I*w+k*E,b.d=I*x+k*S}if(a){var T=this.temp;s.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),b.worldX+=(T.x-b.worldX)*e,b.worldY+=(T.y-b.worldY)*r}if(0!=n){var C=Math.sqrt(b.a*b.a+b.c*b.c);0!=C&&(C=(C+(Math.sqrt(h*h+c*c)-C+this.data.offsetScaleX)*n)/C),b.a*=C,b.c*=C}if(0!=i){var O=Math.sqrt(b.b*b.b+b.d*b.d);0!=O&&(O=(O+(Math.sqrt(u*u+l*l)-O+this.data.offsetScaleY)*i)/O),b.b*=O,b.d*=O}if(o>0){var _=b.b,R=b.d,P=Math.atan2(R,_),F=Math.atan2(l,u)-Math.atan2(c,h)-(P-Math.atan2(b.c,b.a));F>d.PI?F-=d.PI2:F<-d.PI&&(F+=d.PI2),F=P+(F+v)*o;var L=Math.sqrt(_*_+R*R);b.b=Math.cos(F)*L,b.d=Math.sin(F)*L}b.updateAppliedTransform()}},e.applyRelativeWorld=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=e||0!=r,s=this.target,h=s.a,u=s.b,c=s.c,l=s.d,f=h*l-u*c>0?d.degRad:-d.degRad,p=this.data.offsetRotation*f,v=this.data.offsetShearY*f,m=this.bones,g=0,y=m.length;g<y;g++){var b=m[g];if(0!=t){var w=b.a,x=b.b,E=b.c,S=b.d,A=Math.atan2(c,h)+p;A>d.PI?A-=d.PI2:A<-d.PI&&(A+=d.PI2),A*=t;var k=Math.cos(A),I=Math.sin(A);b.a=k*w-I*E,b.b=k*x-I*S,b.c=I*w+k*E,b.d=I*x+k*S}if(a){var T=this.temp;s.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),b.worldX+=T.x*e,b.worldY+=T.y*r}if(0!=n){var C=(Math.sqrt(h*h+c*c)-1+this.data.offsetScaleX)*n+1;b.a*=C,b.c*=C}if(0!=i){var O=(Math.sqrt(u*u+l*l)-1+this.data.offsetScaleY)*i+1;b.b*=O,b.d*=O}if(o>0){var _=Math.atan2(l,u)-Math.atan2(c,h);_>d.PI?_-=d.PI2:_<-d.PI&&(_+=d.PI2);var R=b.b,P=b.d;_=Math.atan2(P,R)+(_-d.PI/2+v)*o;var F=Math.sqrt(R*R+P*P);b.b=Math.cos(_)*F,b.d=Math.sin(_)*F}b.updateAppliedTransform()}},e.applyAbsoluteLocal=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,h=0,u=s.length;h<u;h++){var c=s[h],l=c.arotation;if(0!=t){var f=a.arotation-l+this.data.offsetRotation;l+=(f-=360*(16384-(16384.499999999996-f/360|0)))*t}var d=c.ax,p=c.ay;d+=(a.ax-d+this.data.offsetX)*e,p+=(a.ay-p+this.data.offsetY)*r;var v=c.ascaleX,m=c.ascaleY;0!=n&&0!=v&&(v=(v+(a.ascaleX-v+this.data.offsetScaleX)*n)/v),0!=i&&0!=m&&(m=(m+(a.ascaleY-m+this.data.offsetScaleY)*i)/m);var g=c.ashearY;if(0!=o){var y=a.ashearY-g+this.data.offsetShearY;g+=(y-=360*(16384-(16384.499999999996-y/360|0)))*o}c.updateWorldTransformWith(d,p,l,v,m,c.ashearX,g)}},e.applyRelativeLocal=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,h=0,u=s.length;h<u;h++){var c=s[h],l=c.arotation+(a.arotation+this.data.offsetRotation)*t,f=c.ax+(a.ax+this.data.offsetX)*e,d=c.ay+(a.ay+this.data.offsetY)*r,p=c.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*n+1),v=c.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*i+1),m=c.ashearY+(a.ashearY+this.data.offsetShearY)*o;c.updateWorldTransformWith(f,d,l,p,v,c.ashearX,m)}},t}(),fe=function(){function t(t){if(this.data=void 0,this.bones=void 0,this.slots=void 0,this.drawOrder=void 0,this.ikConstraints=void 0,this.transformConstraints=void 0,this.pathConstraints=void 0,this._updateCache=new Array,this.skin=null,this.color=void 0,this.scaleX=1,this._scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=void 0;if(r.parent){var i=this.bones[r.parent.index];n=new Kt(r,this,i),i.children.push(n)}else n=new Kt(r,this,null);this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<t.slots.length;o++){var a=t.slots[o],s=this.bones[a.boneData.index],h=new ce(a,s);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var u=0;u<t.ikConstraints.length;u++){var c=t.ikConstraints[u];this.ikConstraints.push(new oe(c,this))}this.transformConstraints=new Array;for(var l=0;l<t.transformConstraints.length;l++){var d=t.transformConstraints[l];this.transformConstraints.push(new le(d,this))}this.pathConstraints=new Array;for(var p=0;p<t.pathConstraints.length;p++){var v=t.pathConstraints[p];this.pathConstraints.push(new ue(v,this))}this.color=new f(1,1,1,1),this.updateCache()}var e=t.prototype;return e.updateCache=function(){var t=this._updateCache;t.length=0;for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin)for(var o=this.skin.bones,a=0,s=this.skin.bones.length;a<s;a++){var h=this.bones[o[a].index];do{h.sorted=!1,h.active=!0,h=h.parent}while(h)}var u=this.ikConstraints,c=this.transformConstraints,l=this.pathConstraints,f=u.length,d=c.length,p=l.length,v=f+d+p;t:for(var m=0;m<v;m++){for(var g=0;g<f;g++){var y=u[g];if(y.data.order==m){this.sortIkConstraint(y);continue t}}for(var b=0;b<d;b++){var w=c[b];if(w.data.order==m){this.sortTransformConstraint(w);continue t}}for(var x=0;x<p;x++){var E=l[x];if(E.data.order==m){this.sortPathConstraint(E);continue t}}}for(var S=0,A=e.length;S<A;S++)this.sortBone(e[S])},e.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&p.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var r=t.bones,n=r[0];if(this.sortBone(n),1==r.length)this._updateCache.push(t),this.sortReset(n.children);else{var i=r[r.length-1];this.sortBone(i),this._updateCache.push(t),this.sortReset(n.children),i.sorted=!0}}},e.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&p.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,r=e.data.index,n=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var a=e.getAttachment();a instanceof Wt&&this.sortPathConstraintAttachmentWith(a,n);for(var s=t.bones,h=s.length,u=0;u<h;u++)this.sortBone(s[u]);this._updateCache.push(t);for(var c=0;c<h;c++)this.sortReset(s[c].children);for(var l=0;l<h;l++)s[l].sorted=!0}},e.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&p.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var i=e[n];this.sortBone(i.parent),this.sortBone(i)}else for(var o=0;o<r;o++)this.sortBone(e[o]);this._updateCache.push(t);for(var a=0;a<r;a++)this.sortReset(e[a].children);for(var s=0;s<r;s++)e[s].sorted=!0}},e.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},e.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof Wt){var r=t.bones;if(r)for(var n=this.bones,i=0,o=r.length;i<o;){var a=r[i++];for(a+=i;i<a;)this.sortBone(n[r[i++]])}else this.sortBone(e)}},e.sortBone=function(t){if(t&&!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},e.updateWorldTransform=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY}for(var i=this._updateCache,o=0,a=i.length;o<a;o++)i[o].update()},e.updateWorldTransformWith=function(t){var e=this.getRootBone();if(!e)throw new Error("Root bone must not be null.");var r=t.a,n=t.b,i=t.c,o=t.d;e.worldX=r*this.x+n*this.y+t.worldX,e.worldY=i*this.x+o*this.y+t.worldY;var a=e.rotation+90+e.shearY,s=d.cosDeg(e.rotation+e.shearX)*e.scaleX,h=d.cosDeg(a)*e.scaleY,u=d.sinDeg(e.rotation+e.shearX)*e.scaleX,c=d.sinDeg(a)*e.scaleY;e.a=(r*s+n*u)*this.scaleX,e.b=(r*h+n*c)*this.scaleX,e.c=(i*s+o*u)*this.scaleY,e.d=(i*h+o*c)*this.scaleY;for(var l=this._updateCache,f=0,p=l.length;f<p;f++){var v=l[f];v!=e&&v.update()}},e.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,i=0,o=n.length;i<o;i++){var a=n[i];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var s=this.transformConstraints,h=0,u=s.length;h<u;h++){var c=s[h],l=c.data;c.mixRotate=l.mixRotate,c.mixX=l.mixX,c.mixY=l.mixY,c.mixScaleX=l.mixScaleX,c.mixScaleY=l.mixScaleY,c.mixShearY=l.mixShearY}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],m=v.data;v.position=m.position,v.spacing=m.spacing,v.mixRotate=m.mixRotate,v.mixX=m.mixX,v.mixY=m.mixY}},e.setSlotsToSetupPose=function(){var t=this.slots;p.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()},e.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.setSkinByName=function(t){var e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.setSkin=function(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(o){var a=t.getAttachment(r,o);a&&i.setAttachment(a)}}this.skin=t,this.updateCache()}},e.getAttachmentByName=function(t,e){var r=this.data.findSlot(t);if(!r)throw new Error("Can't find slot with name "+t);return this.getAttachment(r.index,e)},e.getAttachment=function(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){var r=this.skin.getAttachment(t,e);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.setAttachment=function(t,e){if(!t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(e&&!(a=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(a)}}throw new Error("Slot not found: "+t)},e.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},e.getBoundsRect=function(){var t=new m,e=new m;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}},e.getBounds=function(t,e,r){if(void 0===r&&(r=new Array(2)),!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=0,u=n.length;h<u;h++){var c=n[h];if(c.bone.active){var l=0,f=null,d=c.getAttachment();if(d instanceof Gt)l=8,f=p.setArraySize(r,l,0),d.computeWorldVertices(c,f,0,2);else if(d instanceof qt){var v=d;l=v.worldVerticesLength,f=p.setArraySize(r,l,0),v.computeWorldVertices(c,0,l,f,0,2)}if(f)for(var m=0,g=f.length;m<g;m+=2){var y=f[m],b=f[m+1];i=Math.min(i,y),o=Math.min(o,b),a=Math.max(a,y),s=Math.max(s,b)}}}t.set(i,o),e.set(a-i,s-o)},(0,a.Z)(t,[{key:"scaleY",get:function(){return t.yDown?-this._scaleY:this._scaleY},set:function(t){this._scaleY=t}}]),t}();fe.yDown=!1;var de,pe=function(t,e){if(this.data=void 0,this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!e)throw new Error("data cannot be null.");this.time=t,this.data=e},ve=function(t){this.name=void 0,this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t},me=function(){function t(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}var e=t.prototype;return e.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.findSkin=function(t){if(!t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.findEvent=function(t){if(!t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.findAnimation=function(t){if(!t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t}(),ge=function(t,e,r){void 0===t&&(t=0),this.slotIndex=void 0,this.name=void 0,this.attachment=void 0,this.slotIndex=t,this.name=e,this.attachment=r},ye=function(){function t(t){if(this.name=void 0,this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}var e=t.prototype;return e.setAttachment=function(t,e,r){if(!r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},e.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(var o=0;o<t.constraints.length;o++){for(var a=t.constraints[o],s=!1,h=0;h<this.constraints.length;h++)if(this.constraints[h]==a){s=!0;break}s||this.constraints.push(a)}for(var u=t.getAttachments(),c=0;c<u.length;c++){var l=u[c];this.setAttachment(l.slotIndex,l.name,l.attachment)}},e.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(var o=0;o<t.constraints.length;o++){for(var a=t.constraints[o],s=!1,h=0;h<this.constraints.length;h++)if(this.constraints[h]==a){s=!0;break}s||this.constraints.push(a)}for(var u=t.getAttachments(),c=0;c<u.length;c++){var l=u[c];l.attachment&&(l.attachment instanceof qt?(l.attachment=l.attachment.newLinkedMesh(),this.setAttachment(l.slotIndex,l.name,l.attachment)):(l.attachment=l.attachment.copy(),this.setAttachment(l.slotIndex,l.name,l.attachment)))}},e.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},e.removeAttachment=function(t,e){var r=this.attachments[t];r&&delete r[e]},e.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var r=this.attachments[e];if(r)for(var n in r){var i=r[n];i&&t.push(new ge(e,n,i))}}return t},e.getAttachmentsForSlot=function(t,e){var r=this.attachments[t];if(r)for(var n in r){var i=r[n];i&&e.push(new ge(t,n,i))}},e.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var h=this.getAttachment(r,s);h&&i.setAttachment(h);break}}}r++}},t}(),be=function(t,e,r){if(this.index=0,this.name=void 0,this.boneData=void 0,this.color=new f(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=de.Normal,t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!r)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=r};!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(de||(de={}));var we,xe=function(t){function e(e){var r;return(r=t.call(this,e,0,!1)||this).bones=new Array,r._target=null,r.mixRotate=0,r.mixX=0,r.mixY=0,r.mixScaleX=0,r.mixScaleY=0,r.mixShearY=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return(0,h.Z)(e,t),(0,a.Z)(e,[{key:"target",get:function(){if(this._target)return this._target;throw new Error("BoneData not set.")},set:function(t){this._target=t}}]),e}(ae),Ee=function(){function t(t){this.scale=1,this.attachmentLoader=void 0,this.linkedMeshes=new Array,this.attachmentLoader=t}var e=t.prototype;return e.readSkeletonData=function(t){var e=this.scale,r=new me;r.name="";var n=new Se(t),i=n.readInt32(),o=n.readInt32();r.hash=0==o&&0==i?null:o.toString(16)+i.toString(16),r.version=n.readString(),r.x=n.readFloat(),r.y=n.readFloat(),r.width=n.readFloat(),r.height=n.readFloat();var a=n.readBoolean();a&&(r.fps=n.readFloat(),r.imagesPath=n.readString(),r.audioPath=n.readString());var s=0;s=n.readInt(!0);for(var h=0;h<s;h++){var u=n.readString();if(!u)throw new Error("String in string table must not be null.");n.strings.push(u)}s=n.readInt(!0);for(var c=0;c<s;c++){var l=n.readString();if(!l)throw new Error("Bone name must not be null.");var d=0==c?null:r.bones[n.readInt(!0)],v=new Jt(c,l,d);v.rotation=n.readFloat(),v.x=n.readFloat()*e,v.y=n.readFloat()*e,v.scaleX=n.readFloat(),v.scaleY=n.readFloat(),v.shearX=n.readFloat(),v.shearY=n.readFloat(),v.length=n.readFloat()*e,v.transformMode=n.readInt(!0),v.skinRequired=n.readBoolean(),a&&f.rgba8888ToColor(v.color,n.readInt32()),r.bones.push(v)}s=n.readInt(!0);for(var m=0;m<s;m++){var g=n.readString();if(!g)throw new Error("Slot name must not be null.");var y=r.bones[n.readInt(!0)],b=new be(m,g,y);f.rgba8888ToColor(b.color,n.readInt32());var w=n.readInt32();-1!=w&&f.rgb888ToColor(b.darkColor=new f,w),b.attachmentName=n.readStringRef(),b.blendMode=n.readInt(!0),r.slots.push(b)}s=n.readInt(!0);for(var x,E=0;E<s;E++){var S=n.readString();if(!S)throw new Error("IK constraint data name must not be null.");var A=new se(S);A.order=n.readInt(!0),A.skinRequired=n.readBoolean(),x=n.readInt(!0);for(var k=0;k<x;k++)A.bones.push(r.bones[n.readInt(!0)]);A.target=r.bones[n.readInt(!0)],A.mix=n.readFloat(),A.softness=n.readFloat()*e,A.bendDirection=n.readByte(),A.compress=n.readBoolean(),A.stretch=n.readBoolean(),A.uniform=n.readBoolean(),r.ikConstraints.push(A)}s=n.readInt(!0);for(var I,T=0;T<s;T++){var C=n.readString();if(!C)throw new Error("Transform constraint data name must not be null.");var O=new xe(C);O.order=n.readInt(!0),O.skinRequired=n.readBoolean(),I=n.readInt(!0);for(var _=0;_<I;_++)O.bones.push(r.bones[n.readInt(!0)]);O.target=r.bones[n.readInt(!0)],O.local=n.readBoolean(),O.relative=n.readBoolean(),O.offsetRotation=n.readFloat(),O.offsetX=n.readFloat()*e,O.offsetY=n.readFloat()*e,O.offsetScaleX=n.readFloat(),O.offsetScaleY=n.readFloat(),O.offsetShearY=n.readFloat(),O.mixRotate=n.readFloat(),O.mixX=n.readFloat(),O.mixY=n.readFloat(),O.mixScaleX=n.readFloat(),O.mixScaleY=n.readFloat(),O.mixShearY=n.readFloat(),r.transformConstraints.push(O)}s=n.readInt(!0);for(var R,P=0;P<s;P++){var F=n.readString();if(!F)throw new Error("Path constraint data name must not be null.");var L=new he(F);L.order=n.readInt(!0),L.skinRequired=n.readBoolean(),R=n.readInt(!0);for(var M=0;M<R;M++)L.bones.push(r.bones[n.readInt(!0)]);L.target=r.slots[n.readInt(!0)],L.positionMode=n.readInt(!0),L.spacingMode=n.readInt(!0),L.rotateMode=n.readInt(!0),L.offsetRotation=n.readFloat(),L.position=n.readFloat(),L.positionMode==te.Fixed&&(L.position*=e),L.spacing=n.readFloat(),L.spacingMode!=ee.Length&&L.spacingMode!=ee.Fixed||(L.spacing*=e),L.mixRotate=n.readFloat(),L.mixX=n.readFloat(),L.mixY=n.readFloat(),r.pathConstraints.push(L)}var Y=this.readSkin(n,r,!0,a);Y&&(r.defaultSkin=Y,r.skins.push(Y));var N=r.skins.length;for(p.setArraySize(r.skins,s=N+n.readInt(!0));N<s;N++){var B=this.readSkin(n,r,!1,a);if(!B)throw new Error("readSkin() should not have returned null.");r.skins[N]=B}s=this.linkedMeshes.length;for(var j=0;j<s;j++){var X=this.linkedMeshes[j],D=X.skin?r.findSkin(X.skin):r.defaultSkin;if(!D)throw new Error("Not skin found for linked mesh.");if(!X.parent)throw new Error("Linked mesh parent must not be null");var U=D.getAttachment(X.slotIndex,X.parent);if(!U)throw new Error("Parent mesh not found: "+X.parent);X.mesh.timelineAttachment=X.inheritTimeline?U:X.mesh,X.mesh.setParentMesh(U),null!=X.mesh.region&&X.mesh.updateRegion()}this.linkedMeshes.length=0,s=n.readInt(!0);for(var V=0;V<s;V++){var q=n.readStringRef();if(!q)throw new Error;var W=new ve(q);W.intValue=n.readInt(!1),W.floatValue=n.readFloat(),W.stringValue=n.readString(),W.audioPath=n.readString(),W.audioPath&&(W.volume=n.readFloat(),W.balance=n.readFloat()),r.events.push(W)}s=n.readInt(!0);for(var z=0;z<s;z++){var G=n.readString();if(!G)throw new Error("Animatio name must not be null.");r.animations.push(this.readAnimation(n,G,r))}return r},e.readSkin=function(t,e,r,n){var i=null,o=0;if(r){if(0==(o=t.readInt(!0)))return null;i=new ye("default")}else{var a=t.readStringRef();if(!a)throw new Error("Skin name must not be null.");(i=new ye(a)).bones.length=t.readInt(!0);for(var s=0,h=i.bones.length;s<h;s++)i.bones[s]=e.bones[t.readInt(!0)];for(var u=0,c=t.readInt(!0);u<c;u++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var l=0,f=t.readInt(!0);l<f;l++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var d=0,p=t.readInt(!0);d<p;d++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);o=t.readInt(!0)}for(var v=0;v<o;v++)for(var m=t.readInt(!0),g=0,y=t.readInt(!0);g<y;g++){var b=t.readStringRef();if(!b)throw new Error("Attachment name must not be null");var w=this.readAttachment(t,e,i,m,b,n);w&&i.setAttachment(m,b,w)}return i},e.readAttachment=function(t,e,r,n,i,o){var a=this.scale,s=t.readStringRef();switch(s||(s=i),t.readByte()){case we.Region:var h=t.readStringRef(),u=t.readFloat(),c=t.readFloat(),l=t.readFloat(),d=t.readFloat(),v=t.readFloat(),m=t.readFloat(),g=t.readFloat(),y=t.readInt32(),b=this.readSequence(t);h||(h=s);var w=this.attachmentLoader.newRegionAttachment(r,s,h,b);return w?(w.path=h,w.x=c*a,w.y=l*a,w.scaleX=d,w.scaleY=v,w.rotation=u,w.width=m*a,w.height=g*a,f.rgba8888ToColor(w.color,y),w.sequence=b,null==b&&w.updateRegion(),w):null;case we.BoundingBox:var x=t.readInt(!0),E=this.readVertices(t,x),S=o?t.readInt32():0,A=this.attachmentLoader.newBoundingBoxAttachment(r,s);return A?(A.worldVerticesLength=x<<1,A.vertices=E.vertices,A.bones=E.bones,o&&f.rgba8888ToColor(A.color,S),A):null;case we.Mesh:var k=t.readStringRef(),I=t.readInt32(),T=t.readInt(!0),C=this.readFloatArray(t,T<<1,1),O=this.readShortArray(t),_=this.readVertices(t,T),R=t.readInt(!0),P=this.readSequence(t),F=[],L=0,M=0;o&&(F=this.readShortArray(t),L=t.readFloat(),M=t.readFloat()),k||(k=s);var Y=this.attachmentLoader.newMeshAttachment(r,s,k,P);return Y?(Y.path=k,f.rgba8888ToColor(Y.color,I),Y.bones=_.bones,Y.vertices=_.vertices,Y.worldVerticesLength=T<<1,Y.triangles=O,Y.regionUVs=C,null==P&&Y.updateRegion(),Y.hullLength=R<<1,Y.sequence=P,o&&(Y.edges=F,Y.width=L*a,Y.height=M*a),Y):null;case we.LinkedMesh:var N=t.readStringRef(),B=t.readInt32(),j=t.readStringRef(),X=t.readStringRef(),D=t.readBoolean(),U=this.readSequence(t),V=0,q=0;o&&(V=t.readFloat(),q=t.readFloat()),N||(N=s);var W=this.attachmentLoader.newMeshAttachment(r,s,N,U);return W?(W.path=N,f.rgba8888ToColor(W.color,B),W.sequence=U,o&&(W.width=V*a,W.height=q*a),this.linkedMeshes.push(new Ae(W,j,n,X,D)),W):null;case we.Path:for(var z=t.readBoolean(),G=t.readBoolean(),Z=t.readInt(!0),H=this.readVertices(t,Z),J=p.newArray(Z/3,0),K=0,Q=J.length;K<Q;K++)J[K]=t.readFloat()*a;var $=o?t.readInt32():0,tt=this.attachmentLoader.newPathAttachment(r,s);return tt?(tt.closed=z,tt.constantSpeed=G,tt.worldVerticesLength=Z<<1,tt.vertices=H.vertices,tt.bones=H.bones,tt.lengths=J,o&&f.rgba8888ToColor(tt.color,$),tt):null;case we.Point:var et=t.readFloat(),rt=t.readFloat(),nt=t.readFloat(),it=o?t.readInt32():0,ot=this.attachmentLoader.newPointAttachment(r,s);return ot?(ot.x=rt*a,ot.y=nt*a,ot.rotation=et,o&&f.rgba8888ToColor(ot.color,it),ot):null;case we.Clipping:var at=t.readInt(!0),st=t.readInt(!0),ht=this.readVertices(t,st),ut=o?t.readInt32():0,ct=this.attachmentLoader.newClippingAttachment(r,s);return ct?(ct.endSlot=e.slots[at],ct.worldVerticesLength=st<<1,ct.vertices=ht.vertices,ct.bones=ht.bones,o&&f.rgba8888ToColor(ct.color,ut),ct):null}return null},e.readSequence=function(t){if(!t.readBoolean())return null;var e=new x(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e},e.readVertices=function(t,e){var r=this.scale,n=e<<1,i=new ke;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,n,r),i;for(var o=new Array,a=new Array,s=0;s<e;s++){var h=t.readInt(!0);a.push(h);for(var u=0;u<h;u++)a.push(t.readInt(!0)),o.push(t.readFloat()*r),o.push(t.readFloat()*r),o.push(t.readFloat())}return i.vertices=p.toFloatArray(o),i.bones=a,i},e.readFloatArray=function(t,e,r){var n=new Array(e);if(1==r)for(var i=0;i<e;i++)n[i]=t.readFloat();else for(var o=0;o<e;o++)n[o]=t.readFloat()*r;return n},e.readShortArray=function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r},e.readAnimation=function(t,e,r){t.readInt(!0);for(var n=new Array,i=this.scale,o=(new f,new f,0),a=t.readInt(!0);o<a;o++)for(var s=t.readInt(!0),h=0,u=t.readInt(!0);h<u;h++){var c=t.readByte(),l=t.readInt(!0),d=l-1;switch(c){case je:for(var v=new lt(l,s),m=0;m<l;m++)v.setFrame(m,t.readFloat(),t.readStringRef());n.push(v);break;case Xe:for(var g=t.readInt(!0),y=new at(l,g,s),b=t.readFloat(),w=t.readUnsignedByte()/255,x=t.readUnsignedByte()/255,E=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,I=0,T=0;y.setFrame(I,b,w,x,E,S),I!=d;I++){var C=t.readFloat(),O=t.readUnsignedByte()/255,_=t.readUnsignedByte()/255,R=t.readUnsignedByte()/255,P=t.readUnsignedByte()/255;switch(t.readByte()){case Je:y.setStepped(I);break;case Ke:Ce(t,y,T++,I,0,b,C,w,O,1),Ce(t,y,T++,I,1,b,C,x,_,1),Ce(t,y,T++,I,2,b,C,E,R,1),Ce(t,y,T++,I,3,b,C,S,P,1)}b=C,w=O,x=_,E=R,S=P}n.push(y);break;case De:for(var F=t.readInt(!0),L=new st(l,F,s),M=t.readFloat(),Y=t.readUnsignedByte()/255,N=t.readUnsignedByte()/255,B=t.readUnsignedByte()/255,j=0,X=0;L.setFrame(j,M,Y,N,B),j!=d;j++){var D=t.readFloat(),U=t.readUnsignedByte()/255,V=t.readUnsignedByte()/255,q=t.readUnsignedByte()/255;switch(t.readByte()){case Je:L.setStepped(j);break;case Ke:Ce(t,L,X++,j,0,M,D,Y,U,1),Ce(t,L,X++,j,1,M,D,N,V,1),Ce(t,L,X++,j,2,M,D,B,q,1)}M=D,Y=U,N=V,B=q}n.push(L);break;case Ue:for(var W=t.readInt(!0),z=new ut(l,W,s),G=t.readFloat(),Z=t.readUnsignedByte()/255,H=t.readUnsignedByte()/255,xt=t.readUnsignedByte()/255,Et=t.readUnsignedByte()/255,St=t.readUnsignedByte()/255,At=t.readUnsignedByte()/255,kt=t.readUnsignedByte()/255,It=0,Tt=0;z.setFrame(It,G,Z,H,xt,Et,St,At,kt),It!=d;It++){var Ct=t.readFloat(),Ot=t.readUnsignedByte()/255,_t=t.readUnsignedByte()/255,Rt=t.readUnsignedByte()/255,Pt=t.readUnsignedByte()/255,Ft=t.readUnsignedByte()/255,Lt=t.readUnsignedByte()/255,Mt=t.readUnsignedByte()/255;switch(t.readByte()){case Je:z.setStepped(It);break;case Ke:Ce(t,z,Tt++,It,0,G,Ct,Z,Ot,1),Ce(t,z,Tt++,It,1,G,Ct,H,_t,1),Ce(t,z,Tt++,It,2,G,Ct,xt,Rt,1),Ce(t,z,Tt++,It,3,G,Ct,Et,Pt,1),Ce(t,z,Tt++,It,4,G,Ct,St,Ft,1),Ce(t,z,Tt++,It,5,G,Ct,At,Lt,1),Ce(t,z,Tt++,It,6,G,Ct,kt,Mt,1)}G=Ct,Z=Ot,H=_t,xt=Rt,Et=Pt,St=Ft,At=Lt,kt=Mt}n.push(z);break;case Ve:for(var Yt=t.readInt(!0),Nt=new ct(l,Yt,s),Bt=t.readFloat(),jt=t.readUnsignedByte()/255,Xt=t.readUnsignedByte()/255,Dt=t.readUnsignedByte()/255,Ut=t.readUnsignedByte()/255,Vt=t.readUnsignedByte()/255,qt=t.readUnsignedByte()/255,Wt=0,zt=0;Nt.setFrame(Wt,Bt,jt,Xt,Dt,Ut,Vt,qt),Wt!=d;Wt++){var Gt=t.readFloat(),Zt=t.readUnsignedByte()/255,Ht=t.readUnsignedByte()/255,Jt=t.readUnsignedByte()/255,Kt=t.readUnsignedByte()/255,Qt=t.readUnsignedByte()/255,$t=t.readUnsignedByte()/255;switch(t.readByte()){case Je:Nt.setStepped(Wt);break;case Ke:Ce(t,Nt,zt++,Wt,0,Bt,Gt,jt,Zt,1),Ce(t,Nt,zt++,Wt,1,Bt,Gt,Xt,Ht,1),Ce(t,Nt,zt++,Wt,2,Bt,Gt,Dt,Jt,1),Ce(t,Nt,zt++,Wt,3,Bt,Gt,Ut,Kt,1),Ce(t,Nt,zt++,Wt,4,Bt,Gt,Vt,Qt,1),Ce(t,Nt,zt++,Wt,5,Bt,Gt,qt,$t,1)}Bt=Gt,jt=Zt,Xt=Ht,Dt=Jt,Ut=Kt,Vt=Qt,qt=$t}n.push(Nt);break;case qe:for(var re=new ht(l,t.readInt(!0),s),ne=t.readFloat(),ie=t.readUnsignedByte()/255,oe=0,ae=0;re.setFrame(oe,ne,ie),oe!=d;oe++){var se=t.readFloat(),he=t.readUnsignedByte()/255;switch(t.readByte()){case Je:re.setStepped(oe);break;case Ke:Ce(t,re,ae++,oe,0,ne,se,ie,he,1)}ne=se,ie=he}n.push(re)}}for(var ue=0,ce=t.readInt(!0);ue<ce;ue++)for(var le=t.readInt(!0),fe=0,de=t.readInt(!0);fe<de;fe++){var ve=t.readByte(),me=t.readInt(!0),ge=t.readInt(!0);switch(ve){case Oe:n.push(Ie(t,new J(me,ge,le),1));break;case _e:n.push(Te(t,new K(me,ge,le),i));break;case Re:n.push(Ie(t,new Q(me,ge,le),i));break;case Pe:n.push(Ie(t,new $(me,ge,le),i));break;case Fe:n.push(Te(t,new tt(me,ge,le),1));break;case Le:n.push(Ie(t,new et(me,ge,le),1));break;case Me:n.push(Ie(t,new rt(me,ge,le),1));break;case Ye:n.push(Te(t,new nt(me,ge,le),1));break;case Ne:n.push(Ie(t,new it(me,ge,le),1));break;case Be:n.push(Ie(t,new ot(me,ge,le),1))}}for(var ye=0,be=t.readInt(!0);ye<be;ye++){for(var we=t.readInt(!0),xe=t.readInt(!0),Ee=xe-1,Se=new vt(xe,t.readInt(!0),we),Ae=t.readFloat(),ke=t.readFloat(),Qe=t.readFloat()*i,$e=0,tr=0;Se.setFrame($e,Ae,ke,Qe,t.readByte(),t.readBoolean(),t.readBoolean()),$e!=Ee;$e++){var er=t.readFloat(),rr=t.readFloat(),nr=t.readFloat()*i;switch(t.readByte()){case Je:Se.setStepped($e);break;case Ke:Ce(t,Se,tr++,$e,0,Ae,er,ke,rr,1),Ce(t,Se,tr++,$e,1,Ae,er,Qe,nr,i)}Ae=er,ke=rr,Qe=nr}n.push(Se)}for(var ir=0,or=t.readInt(!0);ir<or;ir++){for(var ar=t.readInt(!0),sr=t.readInt(!0),hr=sr-1,ur=new mt(sr,t.readInt(!0),ar),cr=t.readFloat(),lr=t.readFloat(),fr=t.readFloat(),dr=t.readFloat(),pr=t.readFloat(),vr=t.readFloat(),mr=t.readFloat(),gr=0,yr=0;ur.setFrame(gr,cr,lr,fr,dr,pr,vr,mr),gr!=hr;gr++){var br=t.readFloat(),wr=t.readFloat(),xr=t.readFloat(),Er=t.readFloat(),Sr=t.readFloat(),Ar=t.readFloat(),kr=t.readFloat();switch(t.readByte()){case Je:ur.setStepped(gr);break;case Ke:Ce(t,ur,yr++,gr,0,cr,br,lr,wr,1),Ce(t,ur,yr++,gr,1,cr,br,fr,xr,1),Ce(t,ur,yr++,gr,2,cr,br,dr,Er,1),Ce(t,ur,yr++,gr,3,cr,br,pr,Sr,1),Ce(t,ur,yr++,gr,4,cr,br,vr,Ar,1),Ce(t,ur,yr++,gr,5,cr,br,mr,kr,1)}cr=br,lr=wr,fr=xr,dr=Er,pr=Sr,vr=Ar,mr=kr}n.push(ur)}for(var Ir=0,Tr=t.readInt(!0);Ir<Tr;Ir++)for(var Cr=t.readInt(!0),Or=r.pathConstraints[Cr],_r=0,Rr=t.readInt(!0);_r<Rr;_r++)switch(t.readByte()){case Ge:n.push(Ie(t,new gt(t.readInt(!0),t.readInt(!0),Cr),Or.positionMode==te.Fixed?i:1));break;case Ze:n.push(Ie(t,new yt(t.readInt(!0),t.readInt(!0),Cr),Or.spacingMode==ee.Length||Or.spacingMode==ee.Fixed?i:1));break;case He:for(var Pr=new bt(t.readInt(!0),t.readInt(!0),Cr),Fr=t.readFloat(),Lr=t.readFloat(),Mr=t.readFloat(),Yr=t.readFloat(),Nr=0,Br=0,jr=Pr.getFrameCount()-1;Pr.setFrame(Nr,Fr,Lr,Mr,Yr),Nr!=jr;Nr++){var Xr=t.readFloat(),Dr=t.readFloat(),Ur=t.readFloat(),Vr=t.readFloat();switch(t.readByte()){case Je:Pr.setStepped(Nr);break;case Ke:Ce(t,Pr,Br++,Nr,0,Fr,Xr,Lr,Dr,1),Ce(t,Pr,Br++,Nr,1,Fr,Xr,Mr,Ur,1),Ce(t,Pr,Br++,Nr,2,Fr,Xr,Yr,Vr,1)}Fr=Xr,Lr=Dr,Mr=Ur,Yr=Vr}n.push(Pr)}for(var qr=0,Wr=t.readInt(!0);qr<Wr;qr++)for(var zr=r.skins[t.readInt(!0)],Gr=0,Zr=t.readInt(!0);Gr<Zr;Gr++)for(var Hr=t.readInt(!0),Jr=0,Kr=t.readInt(!0);Jr<Kr;Jr++){var Qr=t.readStringRef();if(!Qr)throw new Error("attachmentName must not be null.");var $r=zr.getAttachment(Hr,Qr),tn=t.readByte(),en=t.readInt(!0),rn=en-1;switch(tn){case We:for(var nn=$r,on=nn.bones,an=nn.vertices,sn=on?an.length/3*2:an.length,hn=t.readInt(!0),un=new ft(en,hn,Hr,nn),cn=t.readFloat(),ln=0,fn=0;;ln++){var dn=void 0,pn=t.readInt(!0);if(0==pn)dn=on?p.newFloatArray(sn):an;else{dn=p.newFloatArray(sn);var vn=t.readInt(!0);if(pn+=vn,1==i)for(var mn=vn;mn<pn;mn++)dn[mn]=t.readFloat();else for(var gn=vn;gn<pn;gn++)dn[gn]=t.readFloat()*i;if(!on)for(var yn=0,bn=dn.length;yn<bn;yn++)dn[yn]+=an[yn]}if(un.setFrame(ln,cn,dn),ln==rn)break;var wn=t.readFloat();switch(t.readByte()){case Je:un.setStepped(ln);break;case Ke:Ce(t,un,fn++,ln,0,cn,wn,0,1,1)}cn=wn}n.push(un);break;case ze:for(var xn=new wt(en,Hr,$r),En=0;En<en;En++){var Sn=t.readFloat(),An=t.readInt32();xn.setFrame(En,Sn,A[15&An],An>>4,t.readFloat())}n.push(xn)}}var kn=t.readInt(!0);if(kn>0){for(var In=new pt(kn),Tn=r.slots.length,Cn=0;Cn<kn;Cn++){for(var On=t.readFloat(),_n=t.readInt(!0),Rn=p.newArray(Tn,0),Pn=Tn-1;Pn>=0;Pn--)Rn[Pn]=-1;for(var Fn=p.newArray(Tn-_n,0),Ln=0,Mn=0,Yn=0;Yn<_n;Yn++){for(var Nn=t.readInt(!0);Ln!=Nn;)Fn[Mn++]=Ln++;Rn[Ln+t.readInt(!0)]=Ln++}for(;Ln<Tn;)Fn[Mn++]=Ln++;for(var Bn=Tn-1;Bn>=0;Bn--)-1==Rn[Bn]&&(Rn[Bn]=Fn[--Mn]);In.setFrame(Cn,On,Rn)}n.push(In)}var jn=t.readInt(!0);if(jn>0){for(var Xn=new dt(jn),Dn=0;Dn<jn;Dn++){var Un=t.readFloat(),Vn=r.events[t.readInt(!0)],qn=new pe(Un,Vn);qn.intValue=t.readInt(!1),qn.floatValue=t.readFloat(),qn.stringValue=t.readBoolean()?t.readString():Vn.stringValue,qn.data.audioPath&&(qn.volume=t.readFloat(),qn.balance=t.readFloat()),Xn.setFrame(Dn,qn)}n.push(Xn)}for(var Wn=0,zn=0,Gn=n.length;zn<Gn;zn++)Wn=Math.max(Wn,n[zn].getDuration());return new k(e,n,Wn)},t}(),Se=function(){function t(t,e,r,n){void 0===e&&(e=new Array),void 0===r&&(r=0),void 0===n&&(n=new DataView(t.buffer)),this.strings=void 0,this.index=void 0,this.buffer=void 0,this.strings=e,this.index=r,this.buffer=n}var e=t.prototype;return e.readByte=function(){return this.buffer.getInt8(this.index++)},e.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},e.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.readInt=function(t){var e=this.readByte(),r=127&e;return 0!=(128&e)&&(r|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<28)))),t?r:r>>>1^-(1&r)},e.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",r=0;r<t;){var n=this.readUnsignedByte();switch(n>>4){case 12:case 13:e+=String.fromCharCode((31&n)<<6|63&this.readByte()),r+=2;break;case 14:e+=String.fromCharCode((15&n)<<12|(63&this.readByte())<<6|63&this.readByte()),r+=3;break;default:e+=String.fromCharCode(n),r++}}return e},e.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.readBoolean=function(){return 0!=this.readByte()},t}(),Ae=function(t,e,r,n,i){this.parent=void 0,this.skin=void 0,this.slotIndex=void 0,this.mesh=void 0,this.inheritTimeline=void 0,this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritTimeline=i},ke=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=void 0,this.vertices=void 0,this.bones=t,this.vertices=e};function Ie(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,o=0,a=0,s=e.getFrameCount()-1;e.setFrame(o,n,i),o!=s;o++){var h=t.readFloat(),u=t.readFloat()*r;switch(t.readByte()){case Je:e.setStepped(o);break;case Ke:Ce(t,e,a++,o,0,n,h,i,u,r)}n=h,i=u}return e}function Te(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,o=t.readFloat()*r,a=0,s=0,h=e.getFrameCount()-1;e.setFrame(a,n,i,o),a!=h;a++){var u=t.readFloat(),c=t.readFloat()*r,l=t.readFloat()*r;switch(t.readByte()){case Je:e.setStepped(a);break;case Ke:Ce(t,e,s++,a,0,n,u,i,c,r),Ce(t,e,s++,a,1,n,u,o,l,r)}n=u,i=c,o=l}return e}function Ce(t,e,r,n,i,o,a,s,h,u){e.setBezier(r,n,i,o,s,t.readFloat(),t.readFloat()*u,t.readFloat(),t.readFloat()*u,a,h)}!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(we||(we={}));var Oe=0,_e=1,Re=2,Pe=3,Fe=4,Le=5,Me=6,Ye=7,Ne=8,Be=9,je=0,Xe=1,De=2,Ue=3,Ve=4,qe=5,We=0,ze=1,Ge=0,Ze=1,He=2,Je=1,Ke=2,Qe=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new v((function(){return p.newFloatArray(16)}))}var e=t.prototype;return e.update=function(t,e){if(!t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,i=this.polygonPool,o=t.slots,a=o.length;r.length=0,i.freeAll(n),n.length=0;for(var s=0;s<a;s++){var h=o[s];if(h.bone.active){var u=h.getAttachment();if(u instanceof Mt){var c=u;r.push(c);var l=i.obtain();l.length!=c.worldVerticesLength&&(l=p.newFloatArray(c.worldVerticesLength)),n.push(l),c.computeWorldVertices(h,0,c.worldVerticesLength,l,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],h=s,u=0,c=s.length;u<c;u+=2){var l=h[u],f=h[u+1];t=Math.min(t,l),e=Math.min(e,f),r=Math.max(r,l),n=Math.max(n,f)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},e.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.aabbIntersectsSegment=function(t,e,r,n){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&r<=i||e<=o&&n<=o||t>=a&&r>=a||e>=s&&n>=s)return!1;var h=(n-e)/(r-t),u=h*(i-t)+e;if(u>o&&u<s)return!0;if((u=h*(a-t)+e)>o&&u<s)return!0;var c=(o-e)/h+t;return c>i&&c<a||(c=(s-e)/h+t)>i&&c<a},e.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.containsPoint=function(t,e){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},e.containsPointPolygon=function(t,e,r){for(var n=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var h=n[s+1],u=n[o+1];if(h<r&&u>=r||u<r&&h>=r){var c=n[s];c+(r-h)/(u-h)*(n[o]-c)<e&&(a=!a)}o=s}return a},e.intersectsSegment=function(t,e,r,n){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,r,n))return this.boundingBoxes[o];return null},e.intersectsSegmentPolygon=function(t,e,r,n,i){for(var o=t,a=t.length,s=e-n,h=r-i,u=e*i-r*n,c=o[a-2],l=o[a-1],f=0;f<a;f+=2){var d=o[f],p=o[f+1],v=c*p-l*d,m=c-d,g=l-p,y=s*g-h*m,b=(u*m-s*v)/y;if((b>=c&&b<=d||b>=d&&b<=c)&&(b>=e&&b<=n||b>=n&&b<=e)){var w=(u*g-h*v)/y;if((w>=l&&w<=p||w>=p&&w<=l)&&(w>=r&&w<=i||w>=i&&w<=r))return!0}c=d,l=p}return!1},e.getPolygon=function(t){if(!t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.getWidth=function(){return this.maxX-this.minX},e.getHeight=function(){return this.maxY-this.minY},t}(),$e=function(){function t(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new v((function(){return new Array})),this.polygonIndicesPool=new v((function(){return new Array}))}var e=t.prototype;return e.triangulate=function(e){var r=e,n=e.length>>1,i=this.indicesArray;i.length=0;for(var o=0;o<n;o++)i[o]=o;var a=this.isConcaveArray;a.length=0;for(var s=0,h=n;s<h;++s)a[s]=t.isConcave(s,n,r,i);var u=this.triangles;for(u.length=0;n>3;){for(var c=n-1,l=0,f=1;;){t:if(!a[l]){for(var d=i[c]<<1,p=i[l]<<1,v=i[f]<<1,m=r[d],g=r[d+1],y=r[p],b=r[p+1],w=r[v],x=r[v+1],E=(f+1)%n;E!=c;E=(E+1)%n)if(a[E]){var S=i[E]<<1,A=r[S],k=r[S+1];if(t.positiveArea(w,x,m,g,A,k)&&t.positiveArea(m,g,y,b,A,k)&&t.positiveArea(y,b,w,x,A,k))break t}break}if(0==f){do{if(!a[l])break;l--}while(l>0);break}c=l,l=f,f=(f+1)%n}u.push(i[(n+l-1)%n]),u.push(i[l]),u.push(i[(l+1)%n]),i.splice(l,1),a.splice(l,1);var I=(--n+l-1)%n,T=l==n?0:l;a[I]=t.isConcave(I,n,r,i),a[T]=t.isConcave(T,n,r,i)}return 3==n&&(u.push(i[2]),u.push(i[0]),u.push(i[1])),u},e.decompose=function(e,r){var n=e,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var o=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(o),o.length=0;var a=this.polygonIndicesPool.obtain();a.length=0;var s=this.polygonPool.obtain();s.length=0;for(var h=-1,u=0,c=0,l=r.length;c<l;c+=3){var f=r[c]<<1,d=r[c+1]<<1,p=r[c+2]<<1,v=n[f],m=n[f+1],g=n[d],y=n[d+1],b=n[p],w=n[p+1],x=!1;if(h==f){var E=s.length-4,S=t.winding(s[E],s[E+1],s[E+2],s[E+3],b,w),A=t.winding(b,w,s[0],s[1],s[2],s[3]);S==u&&A==u&&(s.push(b),s.push(w),a.push(p),x=!0)}x||(s.length>0?(i.push(s),o.push(a)):(this.polygonPool.free(s),this.polygonIndicesPool.free(a)),(s=this.polygonPool.obtain()).length=0,s.push(v),s.push(m),s.push(g),s.push(y),s.push(b),s.push(w),(a=this.polygonIndicesPool.obtain()).length=0,a.push(f),a.push(d),a.push(p),u=t.winding(v,m,g,y,b,w),h=f)}s.length>0&&(i.push(s),o.push(a));for(var k=0,I=i.length;k<I;k++)if(0!=(a=o[k]).length)for(var T=a[0],C=a[a.length-1],O=(s=i[k]).length-4,_=s[O],R=s[O+1],P=s[O+2],F=s[O+3],L=s[0],M=s[1],Y=s[2],N=s[3],B=t.winding(_,R,P,F,L,M),j=0;j<I;j++)if(j!=k){var X=o[j];if(3==X.length){var D=X[0],U=X[1],V=X[2],q=i[j],W=q[q.length-2],z=q[q.length-1];if(D==T&&U==C){var G=t.winding(_,R,P,F,W,z),Z=t.winding(W,z,L,M,Y,N);G==B&&Z==B&&(q.length=0,X.length=0,s.push(W),s.push(z),a.push(V),_=P,R=F,P=W,F=z,j=0)}}}for(var H=i.length-1;H>=0;H--)0==(s=i[H]).length&&(i.splice(H,1),this.polygonPool.free(s),a=o[H],o.splice(H,1),this.polygonIndicesPool.free(a));return i},t.isConcave=function(t,e,r,n){var i=n[(e+t-1)%e]<<1,o=n[t]<<1,a=n[(t+1)%e]<<1;return!this.positiveArea(r[i],r[i+1],r[o],r[o+1],r[a],r[a+1])},t.positiveArea=function(t,e,r,n,i,o){return t*(o-n)+r*(e-o)+i*(n-e)>=0},t.winding=function(t,e,r,n,i,o){var a=r-t,s=n-e;return i*s-o*a+a*e-t*s>=0?1:-1},t}(),tr=function(){function t(){this.triangulator=new $e,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array,this.clipAttachment=null,this.clippingPolygons=null}var e=t.prototype;return e.clipStart=function(e,r){if(this.clipAttachment)return 0;this.clipAttachment=r;var n=r.worldVerticesLength,i=p.setArraySize(this.clippingPolygon,n);r.computeWorldVertices(e,0,n,i,0,2);var o=this.clippingPolygon;t.makeClockwise(o);for(var a=this.clippingPolygons=this.triangulator.decompose(o,this.triangulator.triangulate(o)),s=0,h=a.length;s<h;s++){var u=a[s];t.makeClockwise(u),u.push(u[0]),u.push(u[1])}return a.length},e.clipEndWithSlot=function(t){this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},e.clipEnd=function(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},e.isClipping=function(){return null!=this.clipAttachment},e.clipTriangles=function(t,e,r,n,i,o,a,s){var h=this.clipOutput,u=this.clippedVertices,c=this.clippedTriangles,l=this.clippingPolygons,f=l.length,d=s?12:8,v=0;u.length=0,c.length=0;t:for(var m=0;m<n;m+=3)for(var g=r[m]<<1,y=t[g],b=t[g+1],w=i[g],x=i[g+1],E=t[g=r[m+1]<<1],S=t[g+1],A=i[g],k=i[g+1],I=t[g=r[m+2]<<1],T=t[g+1],C=i[g],O=i[g+1],_=0;_<f;_++){var R=u.length;if(!this.clip(y,b,E,S,I,T,l[_],h)){var P=p.setArraySize(u,R+3*d);P[R]=y,P[R+1]=b,P[R+2]=o.r,P[R+3]=o.g,P[R+4]=o.b,P[R+5]=o.a,s?(P[R+6]=w,P[R+7]=x,P[R+8]=a.r,P[R+9]=a.g,P[R+10]=a.b,P[R+11]=a.a,P[R+12]=E,P[R+13]=S,P[R+14]=o.r,P[R+15]=o.g,P[R+16]=o.b,P[R+17]=o.a,P[R+18]=A,P[R+19]=k,P[R+20]=a.r,P[R+21]=a.g,P[R+22]=a.b,P[R+23]=a.a,P[R+24]=I,P[R+25]=T,P[R+26]=o.r,P[R+27]=o.g,P[R+28]=o.b,P[R+29]=o.a,P[R+30]=C,P[R+31]=O,P[R+32]=a.r,P[R+33]=a.g,P[R+34]=a.b,P[R+35]=a.a):(P[R+6]=w,P[R+7]=x,P[R+8]=E,P[R+9]=S,P[R+10]=o.r,P[R+11]=o.g,P[R+12]=o.b,P[R+13]=o.a,P[R+14]=A,P[R+15]=k,P[R+16]=I,P[R+17]=T,P[R+18]=o.r,P[R+19]=o.g,P[R+20]=o.b,P[R+21]=o.a,P[R+22]=C,P[R+23]=O),R=c.length;var F=p.setArraySize(c,R+3);F[R]=v,F[R+1]=v+1,F[R+2]=v+2,v+=3;continue t}var L=h.length;if(0!=L){for(var M=S-T,Y=I-E,N=y-I,B=T-b,j=1/(M*N+Y*(b-T)),X=L>>1,D=this.clipOutput,U=p.setArraySize(u,R+X*d),V=0;V<L;V+=2){var q=D[V],W=D[V+1];U[R]=q,U[R+1]=W,U[R+2]=o.r,U[R+3]=o.g,U[R+4]=o.b,U[R+5]=o.a;var z=q-I,G=W-T,Z=(M*z+Y*G)*j,H=(B*z+N*G)*j,J=1-Z-H;U[R+6]=w*Z+A*H+C*J,U[R+7]=x*Z+k*H+O*J,s&&(U[R+8]=a.r,U[R+9]=a.g,U[R+10]=a.b,U[R+11]=a.a),R+=d}R=c.length;var K=p.setArraySize(c,R+3*(X-2));X--;for(var Q=1;Q<X;Q++)K[R]=v,K[R+1]=v+Q,K[R+2]=v+Q+1,R+=3;v+=X+1}}},e.clip=function(t,e,r,n,i,o,a,s){var h,u=s,c=!1;a.length%4>=2?(h=s,s=this.scratch):h=this.scratch,h.length=0,h.push(t),h.push(e),h.push(r),h.push(n),h.push(i),h.push(o),h.push(t),h.push(e),s.length=0;for(var l=a,f=a.length-4,d=0;;d+=2){for(var p=l[d],v=l[d+1],m=l[d+2],g=l[d+3],y=p-m,b=v-g,w=h,x=h.length-2,E=s.length,S=0;S<x;S+=2){var A=w[S],k=w[S+1],I=w[S+2],T=w[S+3],C=y*(T-g)-b*(I-m)>0;if(y*(k-g)-b*(A-m)>0){if(C){s.push(I),s.push(T);continue}var O=T-k,_=I-A,R=O*(m-p)-_*(g-v);if(Math.abs(R)>1e-6){var P=(_*(v-k)-O*(p-A))/R;s.push(p+(m-p)*P),s.push(v+(g-v)*P)}else s.push(p),s.push(v)}else if(C){var F=T-k,L=I-A,M=F*(m-p)-L*(g-v);if(Math.abs(M)>1e-6){var Y=(L*(v-k)-F*(p-A))/M;s.push(p+(m-p)*Y),s.push(v+(g-v)*Y)}else s.push(p),s.push(v);s.push(I),s.push(T)}c=!0}if(E==s.length)return u.length=0,!0;if(s.push(s[0]),s.push(s[1]),d==f)break;var N=s;(s=h).length=0,h=N}if(u!=s){u.length=0;for(var B=0,j=s.length-2;B<j;B++)u[B]=s[B]}else u.length=u.length-2;return c},t.makeClockwise=function(t){for(var e=t,r=t.length,n=e[r-2]*e[1]-e[0]*e[r-1],i=0,o=0,a=0,s=0,h=r-3;s<h;s+=2)i=e[s],o=e[s+1],a=e[s+2],n+=i*e[s+3]-a*o;if(!(n<0))for(var u=0,c=r-2,l=r>>1;u<l;u+=2){var f=e[u],d=e[u+1],p=c-u;e[u]=e[p],e[u+1]=e[p+1],e[p]=f,e[p+1]=d}},t}(),er=function(){function t(t){this.attachmentLoader=void 0,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}var e=t.prototype;return e.readSkeletonData=function(t){var e=this.scale,r=new me,n="string"===typeof t?JSON.parse(t):t,i=n.skeleton;if(i&&(r.hash=i.hash,r.version=i.spine,r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height,r.fps=i.fps,r.imagesPath=i.images),n.bones)for(var o=0;o<n.bones.length;o++){var a=n.bones[o],s=null,h=ar(a,"parent",null);h&&(s=r.findBone(h));var u=new Jt(r.bones.length,a.name,s);u.length=ar(a,"length",0)*e,u.x=ar(a,"x",0)*e,u.y=ar(a,"y",0)*e,u.rotation=ar(a,"rotation",0),u.scaleX=ar(a,"scaleX",1),u.scaleY=ar(a,"scaleY",1),u.shearX=ar(a,"shearX",0),u.shearY=ar(a,"shearY",0),u.transformMode=p.enumValue(Zt,ar(a,"transform","Normal")),u.skinRequired=ar(a,"skin",!1);var c=ar(a,"color",null);c&&u.color.setFromString(c),r.bones.push(u)}if(n.slots)for(var l=0;l<n.slots.length;l++){var d=n.slots[l],v=r.findBone(d.bone);if(!v)throw new Error("Couldn't find bone "+d.bone+" for slot "+d.name);var m=new be(r.slots.length,d.name,v),g=ar(d,"color",null);g&&m.color.setFromString(g);var y=ar(d,"dark",null);y&&(m.darkColor=f.fromString(y)),m.attachmentName=ar(d,"attachment",null),m.blendMode=p.enumValue(de,ar(d,"blend","normal")),r.slots.push(m)}if(n.ik)for(var b=0;b<n.ik.length;b++){var w=n.ik[b],x=new se(w.name);x.order=ar(w,"order",0),x.skinRequired=ar(w,"skin",!1);for(var E=0;E<w.bones.length;E++){var S=r.findBone(w.bones[E]);if(!S)throw new Error("Couldn't find bone "+w.bones[E]+" for IK constraint "+w.name+".");x.bones.push(S)}var A=r.findBone(w.target);if(!A)throw new Error("Couldn't find target bone "+w.target+" for IK constraint "+w.name+".");x.target=A,x.mix=ar(w,"mix",1),x.softness=ar(w,"softness",0)*e,x.bendDirection=ar(w,"bendPositive",!0)?1:-1,x.compress=ar(w,"compress",!1),x.stretch=ar(w,"stretch",!1),x.uniform=ar(w,"uniform",!1),r.ikConstraints.push(x)}if(n.transform)for(var k=0;k<n.transform.length;k++){var I=n.transform[k],T=new xe(I.name);T.order=ar(I,"order",0),T.skinRequired=ar(I,"skin",!1);for(var C=0;C<I.bones.length;C++){var O=I.bones[C],_=r.findBone(O);if(!_)throw new Error("Couldn't find bone "+O+" for transform constraint "+I.name+".");T.bones.push(_)}var R=I.target,P=r.findBone(R);if(!P)throw new Error("Couldn't find target bone "+R+" for transform constraint "+I.name+".");T.target=P,T.local=ar(I,"local",!1),T.relative=ar(I,"relative",!1),T.offsetRotation=ar(I,"rotation",0),T.offsetX=ar(I,"x",0)*e,T.offsetY=ar(I,"y",0)*e,T.offsetScaleX=ar(I,"scaleX",0),T.offsetScaleY=ar(I,"scaleY",0),T.offsetShearY=ar(I,"shearY",0),T.mixRotate=ar(I,"mixRotate",1),T.mixX=ar(I,"mixX",1),T.mixY=ar(I,"mixY",T.mixX),T.mixScaleX=ar(I,"mixScaleX",1),T.mixScaleY=ar(I,"mixScaleY",T.mixScaleX),T.mixShearY=ar(I,"mixShearY",1),r.transformConstraints.push(T)}if(n.path)for(var F=0;F<n.path.length;F++){var L=n.path[F],M=new he(L.name);M.order=ar(L,"order",0),M.skinRequired=ar(L,"skin",!1);for(var Y=0;Y<L.bones.length;Y++){var N=L.bones[Y],B=r.findBone(N);if(!B)throw new Error("Couldn't find bone "+N+" for path constraint "+L.name+".");M.bones.push(B)}var j=L.target,X=r.findSlot(j);if(!X)throw new Error("Couldn't find target slot "+j+" for path constraint "+L.name+".");M.target=X,M.positionMode=p.enumValue(te,ar(L,"positionMode","Percent")),M.spacingMode=p.enumValue(ee,ar(L,"spacingMode","Length")),M.rotateMode=p.enumValue(re,ar(L,"rotateMode","Tangent")),M.offsetRotation=ar(L,"rotation",0),M.position=ar(L,"position",0),M.positionMode==te.Fixed&&(M.position*=e),M.spacing=ar(L,"spacing",0),M.spacingMode!=ee.Length&&M.spacingMode!=ee.Fixed||(M.spacing*=e),M.mixRotate=ar(L,"mixRotate",1),M.mixX=ar(L,"mixX",1),M.mixY=ar(L,"mixY",M.mixX),r.pathConstraints.push(M)}if(n.skins)for(var D=0;D<n.skins.length;D++){var U=n.skins[D],V=new ye(U.name);if(U.bones)for(var q=0;q<U.bones.length;q++){var W=U.bones[q],z=r.findBone(W);if(!z)throw new Error("Couldn't find bone "+W+" for skin "+U.name+".");V.bones.push(z)}if(U.ik)for(var G=0;G<U.ik.length;G++){var Z=U.ik[G],H=r.findIkConstraint(Z);if(!H)throw new Error("Couldn't find IK constraint "+Z+" for skin "+U.name+".");V.constraints.push(H)}if(U.transform)for(var J=0;J<U.transform.length;J++){var K=U.transform[J],Q=r.findTransformConstraint(K);if(!Q)throw new Error("Couldn't find transform constraint "+K+" for skin "+U.name+".");V.constraints.push(Q)}if(U.path)for(var $=0;$<U.path.length;$++){var tt=U.path[$],et=r.findPathConstraint(tt);if(!et)throw new Error("Couldn't find path constraint "+tt+" for skin "+U.name+".");V.constraints.push(et)}for(var rt in U.attachments){var nt=r.findSlot(rt);if(!nt)throw new Error("Couldn't find slot "+rt+" for skin "+U.name+".");var it=U.attachments[rt];for(var ot in it){var at=this.readAttachment(it[ot],V,nt.index,ot,r);at&&V.setAttachment(nt.index,ot,at)}}r.skins.push(V),"default"==V.name&&(r.defaultSkin=V)}for(var st=0,ht=this.linkedMeshes.length;st<ht;st++){var ut=this.linkedMeshes[st],ct=ut.skin?r.findSkin(ut.skin):r.defaultSkin;if(!ct)throw new Error("Skin not found: "+ut.skin);var lt=ct.getAttachment(ut.slotIndex,ut.parent);if(!lt)throw new Error("Parent mesh not found: "+ut.parent);ut.mesh.timelineAttachment=ut.inheritTimeline?lt:ut.mesh,ut.mesh.setParentMesh(lt),null!=ut.mesh.region&&ut.mesh.updateRegion()}if(this.linkedMeshes.length=0,n.events)for(var ft in n.events){var dt=n.events[ft],pt=new ve(ft);pt.intValue=ar(dt,"int",0),pt.floatValue=ar(dt,"float",0),pt.stringValue=ar(dt,"string",""),pt.audioPath=ar(dt,"audio",null),pt.audioPath&&(pt.volume=ar(dt,"volume",1),pt.balance=ar(dt,"balance",0)),r.events.push(pt)}if(n.animations)for(var vt in n.animations){var mt=n.animations[vt];this.readAnimation(mt,vt,r)}return r},e.readAttachment=function(t,e,r,n,i){var o=this.scale;switch(n=ar(t,"name",n),ar(t,"type","region")){case"region":var a=ar(t,"path",n),s=this.readSequence(ar(t,"sequence",null)),h=this.attachmentLoader.newRegionAttachment(e,n,a,s);if(!h)return null;h.path=a,h.x=ar(t,"x",0)*o,h.y=ar(t,"y",0)*o,h.scaleX=ar(t,"scaleX",1),h.scaleY=ar(t,"scaleY",1),h.rotation=ar(t,"rotation",0),h.width=t.width*o,h.height=t.height*o,h.sequence=s;var u=ar(t,"color",null);return u&&h.color.setFromString(u),null!=h.region&&h.updateRegion(),h;case"boundingbox":var c=this.attachmentLoader.newBoundingBoxAttachment(e,n);if(!c)return null;this.readVertices(t,c,t.vertexCount<<1);var l=ar(t,"color",null);return l&&c.color.setFromString(l),c;case"mesh":case"linkedmesh":var f=ar(t,"path",n),d=this.readSequence(ar(t,"sequence",null)),v=this.attachmentLoader.newMeshAttachment(e,n,f,d);if(!v)return null;v.path=f;var m=ar(t,"color",null);m&&v.color.setFromString(m),v.width=ar(t,"width",0)*o,v.height=ar(t,"height",0)*o,v.sequence=d;var g=ar(t,"parent",null);if(g)return this.linkedMeshes.push(new rr(v,ar(t,"skin",null),r,g,ar(t,"timelines",!0))),v;var y=t.uvs;return this.readVertices(t,v,y.length),v.triangles=t.triangles,v.regionUVs=y,null!=v.region&&v.updateRegion(),v.edges=ar(t,"edges",null),v.hullLength=2*ar(t,"hull",0),v;case"path":var b=this.attachmentLoader.newPathAttachment(e,n);if(!b)return null;b.closed=ar(t,"closed",!1),b.constantSpeed=ar(t,"constantSpeed",!0);var w=t.vertexCount;this.readVertices(t,b,w<<1);for(var x=p.newArray(w/3,0),E=0;E<t.lengths.length;E++)x[E]=t.lengths[E]*o;b.lengths=x;var S=ar(t,"color",null);return S&&b.color.setFromString(S),b;case"point":var A=this.attachmentLoader.newPointAttachment(e,n);if(!A)return null;A.x=ar(t,"x",0)*o,A.y=ar(t,"y",0)*o,A.rotation=ar(t,"rotation",0);var k=ar(t,"color",null);return k&&A.color.setFromString(k),A;case"clipping":var I=this.attachmentLoader.newClippingAttachment(e,n);if(!I)return null;var T=ar(t,"end",null);T&&(I.endSlot=i.findSlot(T));var C=t.vertexCount;this.readVertices(t,I,C<<1);var O=ar(t,"color",null);return O&&I.color.setFromString(O),I}return null},e.readSequence=function(t){if(null==t)return null;var e=new x(ar(t,"count",0));return e.start=ar(t,"start",1),e.digits=ar(t,"digits",0),e.setupIndex=ar(t,"setup",0),e},e.readVertices=function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){for(var o=new Array,a=new Array,s=0,h=i.length;s<h;){var u=i[s++];a.push(u);for(var c=s+4*u;s<c;s+=4)a.push(i[s]),o.push(i[s+1]*n),o.push(i[s+2]*n),o.push(i[s+3])}e.bones=a,e.vertices=p.toFloatArray(o)}else{var l=p.toFloatArray(i);if(1!=n)for(var f=0,d=i.length;f<d;f++)l[f]*=n;e.vertices=l}},e.readAnimation=function(t,e,r){var n=this.scale,i=new Array;if(t.slots)for(var o in t.slots){var a=t.slots[o],s=r.findSlot(o);if(!s)throw new Error("Slot not found: "+o);var h=s.index;for(var u in a){var c=a[u];if(c){var l=c.length;if("attachment"==u){for(var d=new lt(l,h),v=0;v<l;v++){var m=c[v];d.setFrame(v,ar(m,"time",0),ar(m,"name",null))}i.push(d)}else if("rgba"==u){for(var g=new at(l,l<<2,h),y=c[0],b=ar(y,"time",0),x=f.fromString(y.color),E=0,S=0;;E++){g.setFrame(E,b,x.r,x.g,x.b,x.a);var A=c[E+1];if(!A){g.shrink(S);break}var I=ar(A,"time",0),T=f.fromString(A.color),C=y.curve;C&&(S=or(C,g,S,E,0,b,I,x.r,T.r,1),S=or(C,g,S,E,1,b,I,x.g,T.g,1),S=or(C,g,S,E,2,b,I,x.b,T.b,1),S=or(C,g,S,E,3,b,I,x.a,T.a,1)),b=I,x=T,y=A}i.push(g)}else if("rgb"==u){for(var O=new st(l,3*l,h),_=c[0],R=ar(_,"time",0),P=f.fromString(_.color),F=0,L=0;;F++){O.setFrame(F,R,P.r,P.g,P.b);var M=c[F+1];if(!M){O.shrink(L);break}var Y=ar(M,"time",0),N=f.fromString(M.color),B=_.curve;B&&(L=or(B,O,L,F,0,R,Y,P.r,N.r,1),L=or(B,O,L,F,1,R,Y,P.g,N.g,1),L=or(B,O,L,F,2,R,Y,P.b,N.b,1)),R=Y,P=N,_=M}i.push(O)}else if("alpha"==u)i.push(nr(c,new ht(l,l,h),0,1));else if("rgba2"==u){for(var j=new ut(l,7*l,h),X=c[0],D=ar(X,"time",0),U=f.fromString(X.light),V=f.fromString(X.dark),q=0,W=0;;q++){j.setFrame(q,D,U.r,U.g,U.b,U.a,V.r,V.g,V.b);var z=c[q+1];if(!z){j.shrink(W);break}var G=ar(z,"time",0),Z=f.fromString(z.light),H=f.fromString(z.dark),xt=X.curve;xt&&(W=or(xt,j,W,q,0,D,G,U.r,Z.r,1),W=or(xt,j,W,q,1,D,G,U.g,Z.g,1),W=or(xt,j,W,q,2,D,G,U.b,Z.b,1),W=or(xt,j,W,q,3,D,G,U.a,Z.a,1),W=or(xt,j,W,q,4,D,G,V.r,H.r,1),W=or(xt,j,W,q,5,D,G,V.g,H.g,1),W=or(xt,j,W,q,6,D,G,V.b,H.b,1)),D=G,U=Z,V=H,X=z}i.push(j)}else if("rgb2"==u){for(var Et=new ct(l,6*l,h),St=c[0],At=ar(St,"time",0),kt=f.fromString(St.light),It=f.fromString(St.dark),Tt=0,Ct=0;;Tt++){Et.setFrame(Tt,At,kt.r,kt.g,kt.b,It.r,It.g,It.b);var Ot=c[Tt+1];if(!Ot){Et.shrink(Ct);break}var _t=ar(Ot,"time",0),Rt=f.fromString(Ot.light),Pt=f.fromString(Ot.dark),Ft=St.curve;Ft&&(Ct=or(Ft,Et,Ct,Tt,0,At,_t,kt.r,Rt.r,1),Ct=or(Ft,Et,Ct,Tt,1,At,_t,kt.g,Rt.g,1),Ct=or(Ft,Et,Ct,Tt,2,At,_t,kt.b,Rt.b,1),Ct=or(Ft,Et,Ct,Tt,3,At,_t,It.r,Pt.r,1),Ct=or(Ft,Et,Ct,Tt,4,At,_t,It.g,Pt.g,1),Ct=or(Ft,Et,Ct,Tt,5,At,_t,It.b,Pt.b,1)),At=_t,kt=Rt,It=Pt,St=Ot}i.push(Et)}}}}if(t.bones)for(var Lt in t.bones){var Mt=t.bones[Lt],Yt=r.findBone(Lt);if(!Yt)throw new Error("Bone not found: "+Lt);var Nt=Yt.index;for(var Bt in Mt){var jt=Mt[Bt],Xt=jt.length;if(0!=Xt)if("rotate"===Bt)i.push(nr(jt,new J(Xt,Xt,Nt),0,1));else if("translate"===Bt){var Dt=new K(Xt,Xt<<1,Nt);i.push(ir(jt,Dt,"x","y",0,n))}else if("translatex"===Bt){var Ut=new Q(Xt,Xt,Nt);i.push(nr(jt,Ut,0,n))}else if("translatey"===Bt){var Vt=new $(Xt,Xt,Nt);i.push(nr(jt,Vt,0,n))}else if("scale"===Bt){var qt=new tt(Xt,Xt<<1,Nt);i.push(ir(jt,qt,"x","y",1,1))}else if("scalex"===Bt){var Wt=new et(Xt,Xt,Nt);i.push(nr(jt,Wt,1,1))}else if("scaley"===Bt){var zt=new rt(Xt,Xt,Nt);i.push(nr(jt,zt,1,1))}else if("shear"===Bt){var Gt=new nt(Xt,Xt<<1,Nt);i.push(ir(jt,Gt,"x","y",0,1))}else if("shearx"===Bt){var Zt=new it(Xt,Xt,Nt);i.push(nr(jt,Zt,0,1))}else if("sheary"===Bt){var Ht=new ot(Xt,Xt,Nt);i.push(nr(jt,Ht,0,1))}}}if(t.ik)for(var Jt in t.ik){var Kt=t.ik[Jt],Qt=Kt[0];if(Qt){var $t=r.findIkConstraint(Jt);if(!$t)throw new Error("IK Constraint not found: "+Jt);for(var re=r.ikConstraints.indexOf($t),ne=new vt(Kt.length,Kt.length<<1,re),ie=ar(Qt,"time",0),oe=ar(Qt,"mix",1),ae=ar(Qt,"softness",0)*n,se=0,he=0;;se++){ne.setFrame(se,ie,oe,ae,ar(Qt,"bendPositive",!0)?1:-1,ar(Qt,"compress",!1),ar(Qt,"stretch",!1));var ue=Kt[se+1];if(!ue){ne.shrink(he);break}var ce=ar(ue,"time",0),le=ar(ue,"mix",1),fe=ar(ue,"softness",0)*n,de=Qt.curve;de&&(he=or(de,ne,he,se,0,ie,ce,oe,le,1),he=or(de,ne,he,se,1,ie,ce,ae,fe,n)),ie=ce,oe=le,ae=fe,Qt=ue}i.push(ne)}}if(t.transform)for(var ve in t.transform){var me=t.transform[ve],ge=me[0];if(ge){var ye=r.findTransformConstraint(ve);if(!ye)throw new Error("Transform constraint not found: "+ve);for(var be=r.transformConstraints.indexOf(ye),we=new mt(me.length,6*me.length,be),xe=ar(ge,"time",0),Ee=ar(ge,"mixRotate",1),Se=ar(ge,"mixX",1),Ae=ar(ge,"mixY",Se),ke=ar(ge,"mixScaleX",1),Ie=ar(ge,"mixScaleY",ke),Te=ar(ge,"mixShearY",1),Ce=0,Oe=0;;Ce++){we.setFrame(Ce,xe,Ee,Se,Ae,ke,Ie,Te);var _e=me[Ce+1];if(!_e){we.shrink(Oe);break}var Re=ar(_e,"time",0),Pe=ar(_e,"mixRotate",1),Fe=ar(_e,"mixX",1),Le=ar(_e,"mixY",Fe),Me=ar(_e,"mixScaleX",1),Ye=ar(_e,"mixScaleY",Me),Ne=ar(_e,"mixShearY",1),Be=ge.curve;Be&&(Oe=or(Be,we,Oe,Ce,0,xe,Re,Ee,Pe,1),Oe=or(Be,we,Oe,Ce,1,xe,Re,Se,Fe,1),Oe=or(Be,we,Oe,Ce,2,xe,Re,Ae,Le,1),Oe=or(Be,we,Oe,Ce,3,xe,Re,ke,Me,1),Oe=or(Be,we,Oe,Ce,4,xe,Re,Ie,Ye,1),Oe=or(Be,we,Oe,Ce,5,xe,Re,Te,Ne,1)),xe=Re,Ee=Pe,Se=Fe,Ae=Le,ke=Me,Ie=Ye,ke=Me,ge=_e}i.push(we)}}if(t.path)for(var je in t.path){var Xe=t.path[je],De=r.findPathConstraint(je);if(!De)throw new Error("Path constraint not found: "+je);var Ue=r.pathConstraints.indexOf(De);for(var Ve in Xe){var qe=Xe[Ve],We=qe[0];if(We){var ze=qe.length;if("position"===Ve){var Ge=new gt(ze,ze,Ue);i.push(nr(qe,Ge,0,De.positionMode==te.Fixed?n:1))}else if("spacing"===Ve){var Ze=new yt(ze,ze,Ue);i.push(nr(qe,Ze,0,De.spacingMode==ee.Length||De.spacingMode==ee.Fixed?n:1))}else if("mix"===Ve){for(var He=new bt(ze,3*ze,Ue),Je=ar(We,"time",0),Ke=ar(We,"mixRotate",1),Qe=ar(We,"mixX",1),$e=ar(We,"mixY",Qe),tr=0,er=0;;tr++){He.setFrame(tr,Je,Ke,Qe,$e);var rr=qe[tr+1];if(!rr){He.shrink(er);break}var sr=ar(rr,"time",0),hr=ar(rr,"mixRotate",1),ur=ar(rr,"mixX",1),cr=ar(rr,"mixY",ur),lr=We.curve;lr&&(er=or(lr,He,er,tr,0,Je,sr,Ke,hr,1),er=or(lr,He,er,tr,1,Je,sr,Qe,ur,1),er=or(lr,He,er,tr,2,Je,sr,$e,cr,1)),Je=sr,Ke=hr,Qe=ur,$e=cr,We=rr}i.push(He)}}}}if(t.attachments)for(var fr in t.attachments){var dr=t.attachments[fr],pr=r.findSkin(fr);if(!pr)throw new Error("Skin not found: "+fr);for(var vr in dr){var mr=dr[vr],gr=r.findSlot(vr);if(!gr)throw new Error("Slot not found: "+vr);var yr=gr.index;for(var br in mr){var wr=mr[br],xr=pr.getAttachment(yr,br);for(var Er in wr){var Sr=wr[Er],Ar=Sr[0];if(Ar)if("deform"==Er){for(var kr=xr.bones,Ir=xr.vertices,Tr=kr?Ir.length/3*2:Ir.length,Cr=new ft(Sr.length,Sr.length,yr,xr),Or=ar(Ar,"time",0),_r=0,Rr=0;;_r++){var Pr=void 0,Fr=ar(Ar,"vertices",null);if(Fr){Pr=p.newFloatArray(Tr);var Lr=ar(Ar,"offset",0);if(p.arrayCopy(Fr,0,Pr,Lr,Fr.length),1!=n)for(var Mr=Lr,Yr=Mr+Fr.length;Mr<Yr;Mr++)Pr[Mr]*=n;if(!kr)for(var Nr=0;Nr<Tr;Nr++)Pr[Nr]+=Ir[Nr]}else Pr=kr?p.newFloatArray(Tr):Ir;Cr.setFrame(_r,Or,Pr);var Br=Sr[_r+1];if(!Br){Cr.shrink(Rr);break}var jr=ar(Br,"time",0),Xr=Ar.curve;Xr&&(Rr=or(Xr,Cr,Rr,_r,0,Or,jr,0,1,1)),Or=jr,Ar=Br}i.push(Cr)}else if("sequence"==Er){for(var Dr=new wt(Sr.length,yr,xr),Ur=0,Vr=0;Vr<Sr.length;Vr++){var qr=ar(Ar,"delay",Ur),Wr=ar(Ar,"time",0),zr=w[ar(Ar,"mode","hold")],Gr=ar(Ar,"index",0);Dr.setFrame(Vr,Wr,zr,Gr,qr),Ur=qr,Ar=Sr[Vr+1]}i.push(Dr)}}}}}if(t.drawOrder){for(var Zr=new pt(t.drawOrder.length),Hr=r.slots.length,Jr=0,Kr=0;Kr<t.drawOrder.length;Kr++,Jr++){var Qr=t.drawOrder[Kr],$r=null,tn=ar(Qr,"offsets",null);if(tn){$r=p.newArray(Hr,-1);for(var en=p.newArray(Hr-tn.length,0),rn=0,nn=0,on=0;on<tn.length;on++){var an=tn[on],sn=r.findSlot(an.slot);if(!sn)throw new Error("Slot not found: "+sn);for(var hn=sn.index;rn!=hn;)en[nn++]=rn++;$r[rn+an.offset]=rn++}for(;rn<Hr;)en[nn++]=rn++;for(var un=Hr-1;un>=0;un--)-1==$r[un]&&($r[un]=en[--nn])}Zr.setFrame(Jr,ar(Qr,"time",0),$r)}i.push(Zr)}if(t.events){for(var cn=new dt(t.events.length),ln=0,fn=0;fn<t.events.length;fn++,ln++){var dn=t.events[fn],pn=r.findEvent(dn.name);if(!pn)throw new Error("Event not found: "+dn.name);var vn=new pe(p.toSinglePrecision(ar(dn,"time",0)),pn);vn.intValue=ar(dn,"int",pn.intValue),vn.floatValue=ar(dn,"float",pn.floatValue),vn.stringValue=ar(dn,"string",pn.stringValue),vn.data.audioPath&&(vn.volume=ar(dn,"volume",1),vn.balance=ar(dn,"balance",0)),cn.setFrame(ln,vn)}i.push(cn)}for(var mn=0,gn=0,yn=i.length;gn<yn;gn++)mn=Math.max(mn,i[gn].getDuration());r.animations.push(new k(e,i,mn))},t}(),rr=function(t,e,r,n,i){this.parent=void 0,this.skin=void 0,this.slotIndex=void 0,this.mesh=void 0,this.inheritTimeline=void 0,this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritTimeline=i};function nr(t,e,r,n){for(var i=t[0],o=ar(i,"time",0),a=ar(i,"value",r)*n,s=0,h=0;;h++){e.setFrame(h,o,a);var u=t[h+1];if(!u)return e.shrink(s),e;var c=ar(u,"time",0),l=ar(u,"value",r)*n;i.curve&&(s=or(i.curve,e,s,h,0,o,c,a,l,n)),o=c,a=l,i=u}}function ir(t,e,r,n,i,o){for(var a=t[0],s=ar(a,"time",0),h=ar(a,r,i)*o,u=ar(a,n,i)*o,c=0,l=0;;l++){e.setFrame(l,s,h,u);var f=t[l+1];if(!f)return e.shrink(c),e;var d=ar(f,"time",0),p=ar(f,r,i)*o,v=ar(f,n,i)*o,m=a.curve;m&&(c=or(m,e,c,l,0,s,d,h,p,o),c=or(m,e,c,l,1,s,d,u,v,o)),s=d,h=p,u=v,a=f}}function or(t,e,r,n,i,o,a,s,h,u){if("stepped"==t)return e.setStepped(n),r;var c=i<<2,l=t[c],f=t[c+1]*u,d=t[c+2],p=t[c+3]*u;return e.setBezier(r,n,i,o,s,l,f,d,p,a,h),r+1}function ar(t,e,r){return void 0!==t[e]?t[e]:r}!function(){var t;"undefined"===typeof Math.fround&&(Math.fround=(t=new Float32Array(1),function(e){return t[0]=e,t[0]}))}();var sr=function(){function t(t,e){var r=this;if(void 0===e&&(e={alpha:"true"}),this.canvas=void 0,this.gl=void 0,this.restorables=new Array,t instanceof WebGLRenderingContext||"undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext)this.gl=t,this.canvas=this.gl.canvas;else{var n=t;this.gl=n.getContext("webgl2",e)||n.getContext("webgl",e),this.canvas=n,n.addEventListener("webglcontextlost",(function(t){t&&t.preventDefault()})),n.addEventListener("webglcontextrestored",(function(t){for(var e=0,n=r.restorables.length;e<n;e++)r.restorables[e].restore()}))}}var e=t.prototype;return e.addRestorable=function(t){this.restorables.push(t)},e.removeRestorable=function(t){var e=this.restorables.indexOf(t);e>-1&&this.restorables.splice(e,1)},t}(),hr=function(t){function e(e,r,n){var i;return void 0===n&&(n=!1),(i=t.call(this,r)||this).context=void 0,i.texture=null,i.boundUnit=0,i.useMipMaps=!1,i.context=e instanceof sr?e:new sr(e),i.useMipMaps=n,i.restore(),i.context.addRestorable((0,s.Z)(i)),i}(0,h.Z)(e,t);var r=e.prototype;return r.setFilters=function(t,r){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e.validateMagFilter(r)),this.useMipMaps=e.usesMipMaps(t),this.useMipMaps&&n.generateMipmap(n.TEXTURE_2D)},e.validateMagFilter=function(t){switch(t){case kt.MipMap:case kt.MipMapLinearLinear:case kt.MipMapLinearNearest:case kt.MipMapNearestLinear:case kt.MipMapNearestNearest:return kt.Linear;default:return t}},e.usesMipMaps=function(t){switch(t){case kt.MipMap:case kt.MipMapLinearLinear:case kt.MipMapLinearNearest:case kt.MipMapNearestLinear:case kt.MipMapNearestNearest:return!0;default:return!1}},r.setWraps=function(t,e){var r=this.context.gl;this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e)},r.update=function(t){var r=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),e.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this._image),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t&&r.generateMipmap(r.TEXTURE_2D)},r.restore=function(){this.texture=null,this.update(this.useMipMaps)},r.bind=function(t){void 0===t&&(t=0);var e=this.context.gl;this.boundUnit=t,e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.unbind=function(){var t=this.context.gl;t.activeTexture(t.TEXTURE0+this.boundUnit),t.bindTexture(t.TEXTURE_2D,null)},r.dispose=function(){this.context.removeRestorable(this),this.context.gl.deleteTexture(this.texture)},e}(Nt);hr.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1;var ur,cr=function(t){function e(e,r,n){return void 0===r&&(r=""),void 0===n&&(n=new ie),t.call(this,(function(t){return new hr(e,t)}),r,n)||this}return(0,h.Z)(e,t),e}(ne),lr=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=r}var e=t.prototype;return e.setFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},e.set=function(t,e,r){return this.x=t,this.y=e,this.z=r,this},e.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},e.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},e.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},e.normalize=function(){var t=this.length();return 0==t||(t=1/t,this.x*=t,this.y*=t,this.z*=t),this},e.cross=function(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.multiply=function(t){var e=t.values;return this.set(this.x*e[fr]+this.y*e[dr]+this.z*e[pr]+e[vr],this.x*e[mr]+this.y*e[gr]+this.z*e[yr]+e[br],this.x*e[wr]+this.y*e[xr]+this.z*e[Er]+e[Sr])},e.project=function(t){var e=t.values,r=1/(this.x*e[Ar]+this.y*e[kr]+this.z*e[Ir]+e[Tr]);return this.set((this.x*e[fr]+this.y*e[dr]+this.z*e[pr]+e[vr])*r,(this.x*e[mr]+this.y*e[gr]+this.z*e[yr]+e[br])*r,(this.x*e[wr]+this.y*e[xr]+this.z*e[Er]+e[Sr])*r)},e.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},e.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.distance=function(t){var e=t.x-this.x,r=t.y-this.y,n=t.z-this.z;return Math.sqrt(e*e+r*r+n*n)},t}(),fr=0,dr=4,pr=8,vr=12,mr=1,gr=5,yr=9,br=13,wr=2,xr=6,Er=10,Sr=14,Ar=3,kr=7,Ir=11,Tr=15,Cr=function(){function t(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[fr]=1,t[gr]=1,t[Er]=1,t[Tr]=1}var e=t.prototype;return e.set=function(t){return this.values.set(t),this},e.transpose=function(){var t=this.temp,e=this.values;return t[fr]=e[fr],t[dr]=e[mr],t[pr]=e[wr],t[vr]=e[Ar],t[mr]=e[dr],t[gr]=e[gr],t[yr]=e[xr],t[br]=e[kr],t[wr]=e[pr],t[xr]=e[yr],t[Er]=e[Er],t[Sr]=e[Ir],t[Ar]=e[vr],t[kr]=e[br],t[Ir]=e[Sr],t[Tr]=e[Tr],this.set(t)},e.identity=function(){var t=this.values;return t[fr]=1,t[dr]=0,t[pr]=0,t[vr]=0,t[mr]=0,t[gr]=1,t[yr]=0,t[br]=0,t[wr]=0,t[xr]=0,t[Er]=1,t[Sr]=0,t[Ar]=0,t[kr]=0,t[Ir]=0,t[Tr]=1,this},e.invert=function(){var t=this.values,e=this.temp,r=t[Ar]*t[xr]*t[yr]*t[vr]-t[wr]*t[kr]*t[yr]*t[vr]-t[Ar]*t[gr]*t[Er]*t[vr]+t[mr]*t[kr]*t[Er]*t[vr]+t[wr]*t[gr]*t[Ir]*t[vr]-t[mr]*t[xr]*t[Ir]*t[vr]-t[Ar]*t[xr]*t[pr]*t[br]+t[wr]*t[kr]*t[pr]*t[br]+t[Ar]*t[dr]*t[Er]*t[br]-t[fr]*t[kr]*t[Er]*t[br]-t[wr]*t[dr]*t[Ir]*t[br]+t[fr]*t[xr]*t[Ir]*t[br]+t[Ar]*t[gr]*t[pr]*t[Sr]-t[mr]*t[kr]*t[pr]*t[Sr]-t[Ar]*t[dr]*t[yr]*t[Sr]+t[fr]*t[kr]*t[yr]*t[Sr]+t[mr]*t[dr]*t[Ir]*t[Sr]-t[fr]*t[gr]*t[Ir]*t[Sr]-t[wr]*t[gr]*t[pr]*t[Tr]+t[mr]*t[xr]*t[pr]*t[Tr]+t[wr]*t[dr]*t[yr]*t[Tr]-t[fr]*t[xr]*t[yr]*t[Tr]-t[mr]*t[dr]*t[Er]*t[Tr]+t[fr]*t[gr]*t[Er]*t[Tr];if(0==r)throw new Error("non-invertible matrix");var n=1/r;return e[fr]=t[yr]*t[Sr]*t[kr]-t[br]*t[Er]*t[kr]+t[br]*t[xr]*t[Ir]-t[gr]*t[Sr]*t[Ir]-t[yr]*t[xr]*t[Tr]+t[gr]*t[Er]*t[Tr],e[dr]=t[vr]*t[Er]*t[kr]-t[pr]*t[Sr]*t[kr]-t[vr]*t[xr]*t[Ir]+t[dr]*t[Sr]*t[Ir]+t[pr]*t[xr]*t[Tr]-t[dr]*t[Er]*t[Tr],e[pr]=t[pr]*t[br]*t[kr]-t[vr]*t[yr]*t[kr]+t[vr]*t[gr]*t[Ir]-t[dr]*t[br]*t[Ir]-t[pr]*t[gr]*t[Tr]+t[dr]*t[yr]*t[Tr],e[vr]=t[vr]*t[yr]*t[xr]-t[pr]*t[br]*t[xr]-t[vr]*t[gr]*t[Er]+t[dr]*t[br]*t[Er]+t[pr]*t[gr]*t[Sr]-t[dr]*t[yr]*t[Sr],e[mr]=t[br]*t[Er]*t[Ar]-t[yr]*t[Sr]*t[Ar]-t[br]*t[wr]*t[Ir]+t[mr]*t[Sr]*t[Ir]+t[yr]*t[wr]*t[Tr]-t[mr]*t[Er]*t[Tr],e[gr]=t[pr]*t[Sr]*t[Ar]-t[vr]*t[Er]*t[Ar]+t[vr]*t[wr]*t[Ir]-t[fr]*t[Sr]*t[Ir]-t[pr]*t[wr]*t[Tr]+t[fr]*t[Er]*t[Tr],e[yr]=t[vr]*t[yr]*t[Ar]-t[pr]*t[br]*t[Ar]-t[vr]*t[mr]*t[Ir]+t[fr]*t[br]*t[Ir]+t[pr]*t[mr]*t[Tr]-t[fr]*t[yr]*t[Tr],e[br]=t[pr]*t[br]*t[wr]-t[vr]*t[yr]*t[wr]+t[vr]*t[mr]*t[Er]-t[fr]*t[br]*t[Er]-t[pr]*t[mr]*t[Sr]+t[fr]*t[yr]*t[Sr],e[wr]=t[gr]*t[Sr]*t[Ar]-t[br]*t[xr]*t[Ar]+t[br]*t[wr]*t[kr]-t[mr]*t[Sr]*t[kr]-t[gr]*t[wr]*t[Tr]+t[mr]*t[xr]*t[Tr],e[xr]=t[vr]*t[xr]*t[Ar]-t[dr]*t[Sr]*t[Ar]-t[vr]*t[wr]*t[kr]+t[fr]*t[Sr]*t[kr]+t[dr]*t[wr]*t[Tr]-t[fr]*t[xr]*t[Tr],e[Er]=t[dr]*t[br]*t[Ar]-t[vr]*t[gr]*t[Ar]+t[vr]*t[mr]*t[kr]-t[fr]*t[br]*t[kr]-t[dr]*t[mr]*t[Tr]+t[fr]*t[gr]*t[Tr],e[Sr]=t[vr]*t[gr]*t[wr]-t[dr]*t[br]*t[wr]-t[vr]*t[mr]*t[xr]+t[fr]*t[br]*t[xr]+t[dr]*t[mr]*t[Sr]-t[fr]*t[gr]*t[Sr],e[Ar]=t[yr]*t[xr]*t[Ar]-t[gr]*t[Er]*t[Ar]-t[yr]*t[wr]*t[kr]+t[mr]*t[Er]*t[kr]+t[gr]*t[wr]*t[Ir]-t[mr]*t[xr]*t[Ir],e[kr]=t[dr]*t[Er]*t[Ar]-t[pr]*t[xr]*t[Ar]+t[pr]*t[wr]*t[kr]-t[fr]*t[Er]*t[kr]-t[dr]*t[wr]*t[Ir]+t[fr]*t[xr]*t[Ir],e[Ir]=t[pr]*t[gr]*t[Ar]-t[dr]*t[yr]*t[Ar]-t[pr]*t[mr]*t[kr]+t[fr]*t[yr]*t[kr]+t[dr]*t[mr]*t[Ir]-t[fr]*t[gr]*t[Ir],e[Tr]=t[dr]*t[yr]*t[wr]-t[pr]*t[gr]*t[wr]+t[pr]*t[mr]*t[xr]-t[fr]*t[yr]*t[xr]-t[dr]*t[mr]*t[Er]+t[fr]*t[gr]*t[Er],t[fr]=e[fr]*n,t[dr]=e[dr]*n,t[pr]=e[pr]*n,t[vr]=e[vr]*n,t[mr]=e[mr]*n,t[gr]=e[gr]*n,t[yr]=e[yr]*n,t[br]=e[br]*n,t[wr]=e[wr]*n,t[xr]=e[xr]*n,t[Er]=e[Er]*n,t[Sr]=e[Sr]*n,t[Ar]=e[Ar]*n,t[kr]=e[kr]*n,t[Ir]=e[Ir]*n,t[Tr]=e[Tr]*n,this},e.determinant=function(){var t=this.values;return t[Ar]*t[xr]*t[yr]*t[vr]-t[wr]*t[kr]*t[yr]*t[vr]-t[Ar]*t[gr]*t[Er]*t[vr]+t[mr]*t[kr]*t[Er]*t[vr]+t[wr]*t[gr]*t[Ir]*t[vr]-t[mr]*t[xr]*t[Ir]*t[vr]-t[Ar]*t[xr]*t[pr]*t[br]+t[wr]*t[kr]*t[pr]*t[br]+t[Ar]*t[dr]*t[Er]*t[br]-t[fr]*t[kr]*t[Er]*t[br]-t[wr]*t[dr]*t[Ir]*t[br]+t[fr]*t[xr]*t[Ir]*t[br]+t[Ar]*t[gr]*t[pr]*t[Sr]-t[mr]*t[kr]*t[pr]*t[Sr]-t[Ar]*t[dr]*t[yr]*t[Sr]+t[fr]*t[kr]*t[yr]*t[Sr]+t[mr]*t[dr]*t[Ir]*t[Sr]-t[fr]*t[gr]*t[Ir]*t[Sr]-t[wr]*t[gr]*t[pr]*t[Tr]+t[mr]*t[xr]*t[pr]*t[Tr]+t[wr]*t[dr]*t[yr]*t[Tr]-t[fr]*t[xr]*t[yr]*t[Tr]-t[mr]*t[dr]*t[Er]*t[Tr]+t[fr]*t[gr]*t[Er]*t[Tr]},e.translate=function(t,e,r){var n=this.values;return n[vr]+=t,n[br]+=e,n[Sr]+=r,this},e.copy=function(){return(new t).set(this.values)},e.projection=function(t,e,r,n){this.identity();var i=1/Math.tan(r*(Math.PI/180)/2),o=(e+t)/(t-e),a=2*e*t/(t-e),s=this.values;return s[fr]=i/n,s[mr]=0,s[wr]=0,s[Ar]=0,s[dr]=0,s[gr]=i,s[xr]=0,s[kr]=0,s[pr]=0,s[yr]=0,s[Er]=o,s[Ir]=-1,s[vr]=0,s[br]=0,s[Sr]=a,s[Tr]=0,this},e.ortho2d=function(t,e,r,n){return this.ortho(t,t+r,e,e+n,0,1)},e.ortho=function(t,e,r,n,i,o){this.identity();var a=2/(e-t),s=2/(n-r),h=-2/(o-i),u=-(e+t)/(e-t),c=-(n+r)/(n-r),l=-(o+i)/(o-i),f=this.values;return f[fr]=a,f[mr]=0,f[wr]=0,f[Ar]=0,f[dr]=0,f[gr]=s,f[xr]=0,f[kr]=0,f[pr]=0,f[yr]=0,f[Er]=h,f[Ir]=0,f[vr]=u,f[br]=c,f[Sr]=l,f[Tr]=1,this},e.multiply=function(t){var e=this.temp,r=this.values,n=t.values;return e[fr]=r[fr]*n[fr]+r[dr]*n[mr]+r[pr]*n[wr]+r[vr]*n[Ar],e[dr]=r[fr]*n[dr]+r[dr]*n[gr]+r[pr]*n[xr]+r[vr]*n[kr],e[pr]=r[fr]*n[pr]+r[dr]*n[yr]+r[pr]*n[Er]+r[vr]*n[Ir],e[vr]=r[fr]*n[vr]+r[dr]*n[br]+r[pr]*n[Sr]+r[vr]*n[Tr],e[mr]=r[mr]*n[fr]+r[gr]*n[mr]+r[yr]*n[wr]+r[br]*n[Ar],e[gr]=r[mr]*n[dr]+r[gr]*n[gr]+r[yr]*n[xr]+r[br]*n[kr],e[yr]=r[mr]*n[pr]+r[gr]*n[yr]+r[yr]*n[Er]+r[br]*n[Ir],e[br]=r[mr]*n[vr]+r[gr]*n[br]+r[yr]*n[Sr]+r[br]*n[Tr],e[wr]=r[wr]*n[fr]+r[xr]*n[mr]+r[Er]*n[wr]+r[Sr]*n[Ar],e[xr]=r[wr]*n[dr]+r[xr]*n[gr]+r[Er]*n[xr]+r[Sr]*n[kr],e[Er]=r[wr]*n[pr]+r[xr]*n[yr]+r[Er]*n[Er]+r[Sr]*n[Ir],e[Sr]=r[wr]*n[vr]+r[xr]*n[br]+r[Er]*n[Sr]+r[Sr]*n[Tr],e[Ar]=r[Ar]*n[fr]+r[kr]*n[mr]+r[Ir]*n[wr]+r[Tr]*n[Ar],e[kr]=r[Ar]*n[dr]+r[kr]*n[gr]+r[Ir]*n[xr]+r[Tr]*n[kr],e[Ir]=r[Ar]*n[pr]+r[kr]*n[yr]+r[Ir]*n[Er]+r[Tr]*n[Ir],e[Tr]=r[Ar]*n[vr]+r[kr]*n[br]+r[Ir]*n[Sr]+r[Tr]*n[Tr],this.set(this.temp)},e.multiplyLeft=function(t){var e=this.temp,r=this.values,n=t.values;return e[fr]=n[fr]*r[fr]+n[dr]*r[mr]+n[pr]*r[wr]+n[vr]*r[Ar],e[dr]=n[fr]*r[dr]+n[dr]*r[gr]+n[pr]*r[xr]+n[vr]*r[kr],e[pr]=n[fr]*r[pr]+n[dr]*r[yr]+n[pr]*r[Er]+n[vr]*r[Ir],e[vr]=n[fr]*r[vr]+n[dr]*r[br]+n[pr]*r[Sr]+n[vr]*r[Tr],e[mr]=n[mr]*r[fr]+n[gr]*r[mr]+n[yr]*r[wr]+n[br]*r[Ar],e[gr]=n[mr]*r[dr]+n[gr]*r[gr]+n[yr]*r[xr]+n[br]*r[kr],e[yr]=n[mr]*r[pr]+n[gr]*r[yr]+n[yr]*r[Er]+n[br]*r[Ir],e[br]=n[mr]*r[vr]+n[gr]*r[br]+n[yr]*r[Sr]+n[br]*r[Tr],e[wr]=n[wr]*r[fr]+n[xr]*r[mr]+n[Er]*r[wr]+n[Sr]*r[Ar],e[xr]=n[wr]*r[dr]+n[xr]*r[gr]+n[Er]*r[xr]+n[Sr]*r[kr],e[Er]=n[wr]*r[pr]+n[xr]*r[yr]+n[Er]*r[Er]+n[Sr]*r[Ir],e[Sr]=n[wr]*r[vr]+n[xr]*r[br]+n[Er]*r[Sr]+n[Sr]*r[Tr],e[Ar]=n[Ar]*r[fr]+n[kr]*r[mr]+n[Ir]*r[wr]+n[Tr]*r[Ar],e[kr]=n[Ar]*r[dr]+n[kr]*r[gr]+n[Ir]*r[xr]+n[Tr]*r[kr],e[Ir]=n[Ar]*r[pr]+n[kr]*r[yr]+n[Ir]*r[Er]+n[Tr]*r[Ir],e[Tr]=n[Ar]*r[vr]+n[kr]*r[br]+n[Ir]*r[Sr]+n[Tr]*r[Tr],this.set(this.temp)},e.lookAt=function(e,r,n){var i=t.xAxis,o=t.yAxis,a=t.zAxis;a.setFrom(r).normalize(),i.setFrom(r).normalize(),i.cross(n).normalize(),o.setFrom(i).cross(a).normalize(),this.identity();var s=this.values;return s[fr]=i.x,s[dr]=i.y,s[pr]=i.z,s[mr]=o.x,s[gr]=o.y,s[yr]=o.z,s[wr]=-a.x,s[xr]=-a.y,s[Er]=-a.z,t.tmpMatrix.identity(),t.tmpMatrix.values[vr]=-e.x,t.tmpMatrix.values[br]=-e.y,t.tmpMatrix.values[Sr]=-e.z,this.multiply(t.tmpMatrix),this},t}();ur=Cr,Cr.xAxis=new lr,Cr.yAxis=new lr,Cr.zAxis=new lr,Cr.tmpMatrix=new ur;var Or=function(){function t(t,e){this.position=new lr(0,0,0),this.direction=new lr(0,0,-1),this.up=new lr(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new Cr,this.inverseProjectionView=new Cr,this.projection=new Cr,this.view=new Cr,this.viewportWidth=t,this.viewportHeight=e,this.update()}var e=t.prototype;return e.update=function(){var t=this.projection,e=this.view,r=this.projectionView,n=this.inverseProjectionView,i=this.zoom,o=this.viewportWidth,a=this.viewportHeight;t.ortho(i*(-o/2),i*(o/2),i*(-a/2),i*(a/2),this.near,this.far),e.lookAt(this.position,this.direction,this.up),r.set(t.values),r.multiply(e),n.set(r.values).invert()},e.screenToWorld=function(t,e,r){var n=t.x,i=r-t.y-1;return t.x=2*n/e-1,t.y=2*i/r-1,t.z=2*t.z-1,t.project(this.inverseProjectionView),t},e.worldToScreen=function(t,e,r){return t.project(this.projectionView),t.x=e*(t.x+1)/2,t.y=r*(t.y+1)/2,t.z=(t.z+1)/2,t},e.setViewport=function(t,e){this.viewportWidth=t,this.viewportHeight=e},t}(),_r=function(){function t(t){this.element=void 0,this.mouseX=0,this.mouseY=0,this.buttonDown=!1,this.touch0=null,this.touch1=null,this.initialPinchDistance=0,this.listeners=new Array,this.eventListeners=[],this.element=t,this.setupCallbacks(t)}var e=t.prototype;return e.setupCallbacks=function(t){var e=this,r=function(r){if(r instanceof MouseEvent){var n=t.getBoundingClientRect();e.mouseX=r.clientX-n.left,e.mouseY=r.clientY-n.top,e.listeners.map((function(t){e.buttonDown?t.dragged&&t.dragged(e.mouseX,e.mouseY):t.moved&&t.moved(e.mouseX,e.mouseY)}))}},n=function n(i){if(i instanceof MouseEvent){var o=t.getBoundingClientRect();e.mouseX=i.clientX-o.left,e.mouseY=i.clientY-o.top,e.buttonDown=!1,e.listeners.map((function(t){t.up&&t.up(e.mouseX,e.mouseY)})),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n)}};t.addEventListener("mousedown",(function(i){if(i instanceof MouseEvent){var o=t.getBoundingClientRect();e.mouseX=i.clientX-o.left,e.mouseY=i.clientY-o.top,e.buttonDown=!0,e.listeners.map((function(t){t.down&&t.down(e.mouseX,e.mouseY)})),document.addEventListener("mousemove",r),document.addEventListener("mouseup",n)}}),!0),t.addEventListener("mousemove",r,!0),t.addEventListener("mouseup",n,!0),t.addEventListener("wheel",(function(t){t.preventDefault();t.deltaY;t.deltaMode,WheelEvent.DOM_DELTA_LINE,t.deltaMode,WheelEvent.DOM_DELTA_PAGE,e.listeners.map((function(e){e.wheel&&e.wheel(t.deltaY)}))}),!0),t.addEventListener("touchstart",(function(r){if(!e.touch0||!e.touch1){var n=r.changedTouches.item(0);if(!n)return;var i=t.getBoundingClientRect(),o=n.clientX-i.left,a=n.clientY-i.top,s=new Rr(n.identifier,o,a);if(e.mouseX=o,e.mouseY=a,e.buttonDown=!0,e.touch0){if(!e.touch1){e.touch1=s;var h=e.touch1.x-e.touch0.x,u=e.touch1.x-e.touch0.x;e.initialPinchDistance=Math.sqrt(h*h+u*u),e.listeners.map((function(t){t.zoom&&t.zoom(e.initialPinchDistance,e.initialPinchDistance)}))}}else e.touch0=s,e.listeners.map((function(t){t.down&&t.down(s.x,s.y)}))}r.preventDefault()}),!1),t.addEventListener("touchmove",(function(r){if(e.touch0){for(var n,i=r.changedTouches,o=t.getBoundingClientRect(),a=function(){var t=(n=i[s]).clientX-o.left,r=n.clientY-o.top;e.touch0.identifier===n.identifier&&(e.touch0.x=e.mouseX=t,e.touch0.y=e.mouseY=r,e.listeners.map((function(e){e.dragged&&e.dragged(t,r)}))),e.touch1&&e.touch1.identifier===n.identifier&&(e.touch1.x=e.mouseX=t,e.touch1.y=e.mouseY=r)},s=0;s<i.length;s++)a();if(e.touch0&&e.touch1){var h=e.touch1.x-e.touch0.x,u=e.touch1.x-e.touch0.x,c=Math.sqrt(h*h+u*u);e.listeners.map((function(t){t.zoom&&t.zoom(e.initialPinchDistance,c)}))}}r.preventDefault()}),!1);var i=function(r){if(e.touch0)for(var n,i=r.changedTouches,o=t.getBoundingClientRect(),a=function(){var t=(n=i[s]).clientX-o.left,r=n.clientY-o.top;if(e.touch0.identifier===n.identifier){if(e.touch0=null,e.mouseX=t,e.mouseY=r,e.listeners.map((function(e){e.up&&e.up(t,r)})),!e.touch1)return e.buttonDown=!1,1;e.touch0=e.touch1,e.touch1=null,e.mouseX=e.touch0.x,e.mouseX=e.touch0.x,e.buttonDown=!0,e.listeners.map((function(t){t.down&&t.down(e.touch0.x,e.touch0.y)}))}e.touch1&&e.touch1.identifier&&(e.touch1=null)},s=0;s<i.length&&!a();s++);r.preventDefault()};t.addEventListener("touchend",i,!1),t.addEventListener("touchcancel",i)},e.addListener=function(t){this.listeners.push(t)},e.removeListener=function(t){var e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)},t}(),Rr=function(t,e,r){this.identifier=void 0,this.x=void 0,this.y=void 0,this.identifier=t,this.x=e,this.y=r},Pr=function(){var t=e.prototype;function e(t,e,r){this.vertexShader=void 0,this.fragmentShader=void 0,this.context=void 0,this.vs=null,this.vsSource=void 0,this.fs=null,this.fsSource=void 0,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vertexShader=e,this.fragmentShader=r,this.vsSource=e,this.fsSource=r,this.context=t instanceof sr?t:new sr(t),this.context.addRestorable(this),this.compile()}return t.getProgram=function(){return this.program},t.getVertexShader=function(){return this.vertexShader},t.getFragmentShader=function(){return this.fragmentShader},t.getVertexShaderSource=function(){return this.vsSource},t.getFragmentSource=function(){return this.fsSource},t.compile=function(){var t=this.context.gl;try{if(this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),!this.vs)throw new Error("Couldn't compile vertex shader.");if(this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),!this.fs)throw new Error("Couldn#t compile fragment shader.");this.program=this.compileProgram(this.vs,this.fs)}catch(e){throw this.dispose(),e}},t.compileShader=function(t,e){var r=this.context.gl,n=r.createShader(t);if(!n)throw new Error("Couldn't create shader.");if(r.shaderSource(n,e),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS)){var i="Couldn't compile shader: "+r.getShaderInfoLog(n);if(r.deleteShader(n),!r.isContextLost())throw new Error(i)}return n},t.compileProgram=function(t,e){var r=this.context.gl,n=r.createProgram();if(!n)throw new Error("Couldn't compile program.");if(r.attachShader(n,t),r.attachShader(n,e),r.linkProgram(n),!r.getProgramParameter(n,r.LINK_STATUS)){var i="Couldn't compile shader program: "+r.getProgramInfoLog(n);if(r.deleteProgram(n),!r.isContextLost())throw new Error(i)}return n},t.restore=function(){this.compile()},t.bind=function(){this.context.gl.useProgram(this.program)},t.unbind=function(){this.context.gl.useProgram(null)},t.setUniformi=function(t,e){this.context.gl.uniform1i(this.getUniformLocation(t),e)},t.setUniformf=function(t,e){this.context.gl.uniform1f(this.getUniformLocation(t),e)},t.setUniform2f=function(t,e,r){this.context.gl.uniform2f(this.getUniformLocation(t),e,r)},t.setUniform3f=function(t,e,r,n){this.context.gl.uniform3f(this.getUniformLocation(t),e,r,n)},t.setUniform4f=function(t,e,r,n,i){this.context.gl.uniform4f(this.getUniformLocation(t),e,r,n,i)},t.setUniform2x2f=function(t,e){var r=this.context.gl;this.tmp2x2.set(e),r.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)},t.setUniform3x3f=function(t,e){var r=this.context.gl;this.tmp3x3.set(e),r.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)},t.setUniform4x4f=function(t,e){var r=this.context.gl;this.tmp4x4.set(e),r.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)},t.getUniformLocation=function(t){var e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");var r=e.getUniformLocation(this.program,t);if(!r&&!e.isContextLost())throw new Error("Couldn't find location for uniform "+t);return r},t.getAttributeLocation=function(t){var e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");var r=e.getAttribLocation(this.program,t);if(-1==r&&!e.isContextLost())throw new Error("Couldn't find location for attribute "+t);return r},t.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)},e.newColoredTextured=function(t){return new e(t,"\nattribute vec4 "+e.POSITION+";\nattribute vec4 "+e.COLOR+";\nattribute vec2 "+e.TEXCOORDS+";\nuniform mat4 "+e.MVP_MATRIX+";\nvarying vec4 v_color;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_color = "+e.COLOR+";\n\tv_texCoords = "+e.TEXCOORDS+";\n\tgl_Position = "+e.MVP_MATRIX+" * "+e.POSITION+";\n}\n","\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tgl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n}\n")},e.newTwoColoredTextured=function(t){return new e(t,"\nattribute vec4 "+e.POSITION+";\nattribute vec4 "+e.COLOR+";\nattribute vec4 "+e.COLOR2+";\nattribute vec2 "+e.TEXCOORDS+";\nuniform mat4 "+e.MVP_MATRIX+";\nvarying vec4 v_light;\nvarying vec4 v_dark;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_light = "+e.COLOR+";\n\tv_dark = "+e.COLOR2+";\n\tv_texCoords = "+e.TEXCOORDS+";\n\tgl_Position = "+e.MVP_MATRIX+" * "+e.POSITION+";\n}\n","\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_light;\nvarying LOWP vec4 v_dark;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tvec4 texColor = texture2D(u_texture, v_texCoords);\n\tgl_FragColor.a = texColor.a * v_light.a;\n\tgl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n}\n")},e.newColored=function(t){return new e(t,"\nattribute vec4 "+e.POSITION+";\nattribute vec4 "+e.COLOR+";\nuniform mat4 "+e.MVP_MATRIX+";\nvarying vec4 v_color;\n\nvoid main () {\n\tv_color = "+e.COLOR+";\n\tgl_Position = "+e.MVP_MATRIX+" * "+e.POSITION+";\n}\n","\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\n\nvoid main () {\n\tgl_FragColor = v_color;\n}\n")},e}();Pr.MVP_MATRIX="u_projTrans",Pr.POSITION="a_position",Pr.COLOR="a_color",Pr.COLOR2="a_color2",Pr.TEXCOORDS="a_texCoords",Pr.SAMPLER="u_texture";var Fr,Lr=function(){var t=e.prototype;function e(t,e,r,n){this.attributes=void 0,this.context=void 0,this.vertices=void 0,this.verticesBuffer=null,this.verticesLength=0,this.dirtyVertices=!1,this.indices=void 0,this.indicesBuffer=null,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.attributes=e,this.context=t instanceof sr?t:new sr(t),this.elementsPerVertex=0;for(var i=0;i<e.length;i++)this.elementsPerVertex+=e[i].numElements;this.vertices=new Float32Array(r*this.elementsPerVertex),this.indices=new Uint16Array(n),this.context.addRestorable(this)}return t.getAttributes=function(){return this.attributes},t.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},t.numVertices=function(){return this.verticesLength/this.elementsPerVertex},t.setVerticesLength=function(t){this.dirtyVertices=!0,this.verticesLength=t},t.getVertices=function(){return this.vertices},t.maxIndices=function(){return this.indices.length},t.numIndices=function(){return this.indicesLength},t.setIndicesLength=function(t){this.dirtyIndices=!0,this.indicesLength=t},t.getIndices=function(){return this.indices},t.getVertexSizeInFloats=function(){for(var t=0,e=0;e<this.attributes.length;e++){t+=this.attributes[e].numElements}return t},t.setVertices=function(t){if(this.dirtyVertices=!0,t.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(t,0),this.verticesLength=t.length},t.setIndices=function(t){if(this.dirtyIndices=!0,t.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(t,0),this.indicesLength=t.length},t.draw=function(t,e){this.drawWithOffset(t,e,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},t.drawWithOffset=function(t,e,r,n){var i=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(t),this.indicesLength>0?i.drawElements(e,n,i.UNSIGNED_SHORT,2*r):i.drawArrays(e,r,n),this.unbind(t)},t.bind=function(t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer);for(var r=0,n=0;n<this.attributes.length;n++){var i=this.attributes[n],o=t.getAttributeLocation(i.name);e.enableVertexAttribArray(o),e.vertexAttribPointer(o,i.numElements,e.FLOAT,!1,4*this.elementsPerVertex,4*r),r+=i.numElements}this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},t.unbind=function(t){for(var e=this.context.gl,r=0;r<this.attributes.length;r++){var n=this.attributes[r],i=t.getAttributeLocation(n.name);e.disableVertexAttribArray(i)}e.bindBuffer(e.ARRAY_BUFFER,null),this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.update=function(){var t=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),t.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),t.DYNAMIC_DRAW),this.dirtyIndices=!1)},t.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},t.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;t.deleteBuffer(this.verticesBuffer),t.deleteBuffer(this.indicesBuffer)},e}(),Mr=function(t,e,r){this.name=void 0,this.type=void 0,this.numElements=void 0,this.name=t,this.type=e,this.numElements=r},Yr=function(t){function e(){return t.call(this,Pr.POSITION,Fr.Float,2)||this}return(0,h.Z)(e,t),e}(Mr),Nr=(function(t){function e(){return t.call(this,Pr.POSITION,Fr.Float,3)||this}(0,h.Z)(e,t)}(Mr),function(t){function e(e){return void 0===e&&(e=0),t.call(this,Pr.TEXCOORDS+(0==e?"":e),Fr.Float,2)||this}return(0,h.Z)(e,t),e}(Mr)),Br=function(t){function e(){return t.call(this,Pr.COLOR,Fr.Float,4)||this}return(0,h.Z)(e,t),e}(Mr),jr=function(t){function e(){return t.call(this,Pr.COLOR2,Fr.Float,4)||this}return(0,h.Z)(e,t),e}(Mr);!function(t){t[t.Float=0]="Float"}(Fr||(Fr={}));var Xr=function(){function t(t,e,r){if(void 0===e&&(e=!0),void 0===r&&(r=10920),this.context=void 0,this.drawCalls=0,this.isDrawing=!1,this.mesh=void 0,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,this.srcColorBlend=void 0,this.srcAlphaBlend=void 0,this.dstBlend=void 0,this.cullWasEnabled=!1,r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=t instanceof sr?t:new sr(t);var n=e?[new Yr,new Br,new Nr,new jr]:[new Yr,new Br,new Nr];this.mesh=new Lr(t,n,r,3*r);var i=this.context.gl;this.srcColorBlend=i.SRC_ALPHA,this.srcAlphaBlend=i.ONE,this.dstBlend=i.ONE_MINUS_SRC_ALPHA}var e=t.prototype;return e.begin=function(e){if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=e,this.lastTexture=null,this.isDrawing=!0;var r=this.context.gl;r.enable(r.BLEND),r.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend),t.disableCulling&&(this.cullWasEnabled=r.isEnabled(r.CULL_FACE),this.cullWasEnabled&&r.disable(r.CULL_FACE))},e.setBlendMode=function(e,r){var n=t.blendModesGL[e],i=r?n.srcRgbPma:n.srcRgb,o=n.srcAlpha,a=n.dstRgb;this.srcColorBlend==i&&this.srcAlphaBlend==o&&this.dstBlend==a||(this.srcColorBlend=i,this.srcAlphaBlend=o,this.dstBlend=a,this.isDrawing&&this.flush(),this.context.gl.blendFuncSeparate(i,a,o,a))},e.draw=function(t,e,r){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+e.length>this.mesh.getVertices().length||this.indicesLength+r.length>this.mesh.getIndices().length)&&this.flush();var n=this.mesh.numVertices();this.mesh.getVertices().set(e,this.verticesLength),this.verticesLength+=e.length,this.mesh.setVerticesLength(this.verticesLength);for(var i=this.mesh.getIndices(),o=this.indicesLength,a=0;a<r.length;o++,a++)i[o]=r[a]+n;this.indicesLength+=r.length,this.mesh.setIndicesLength(this.indicesLength)},e.flush=function(){if(0!=this.verticesLength){if(!this.lastTexture)throw new Error("No texture set.");if(!this.shader)throw new Error("No shader set.");this.lastTexture.bind(),this.mesh.draw(this.shader,this.context.gl.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++,t.globalDrawCalls++}},e.end=function(){if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1;var e=this.context.gl;e.disable(e.BLEND),t.disableCulling&&this.cullWasEnabled&&e.enable(e.CULL_FACE)},e.getDrawCalls=function(){return this.drawCalls},t.getAndResetGlobalDrawCalls=function(){var e=t.globalDrawCalls;return t.globalDrawCalls=0,e},e.dispose=function(){this.mesh.dispose()},t}();Xr.disableCulling=!1,Xr.globalDrawCalls=0,Xr.blendModesGL=[{srcRgb:770,srcRgbPma:1,dstRgb:771,srcAlpha:1},{srcRgb:770,srcRgbPma:1,dstRgb:1,srcAlpha:1},{srcRgb:774,srcRgbPma:774,dstRgb:771,srcAlpha:1},{srcRgb:1,srcRgbPma:1,dstRgb:769,srcAlpha:1}];var Dr,Ur=function(){function t(t,e){if(void 0===e&&(e=10920),this.context=void 0,this.isDrawing=!1,this.mesh=void 0,this.shapeType=Dr.Filled,this.color=new f(1,1,1,1),this.shader=null,this.vertexIndex=0,this.tmp=new m,this.srcColorBlend=void 0,this.srcAlphaBlend=void 0,this.dstBlend=void 0,e>10920)throw new Error("Can't have more than 10920 triangles per batch: "+e);this.context=t instanceof sr?t:new sr(t),this.mesh=new Lr(t,[new Yr,new Br],e,0);var r=this.context.gl;this.srcColorBlend=r.SRC_ALPHA,this.srcAlphaBlend=r.ONE,this.dstBlend=r.ONE_MINUS_SRC_ALPHA}var e=t.prototype;return e.begin=function(t){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=t,this.vertexIndex=0,this.isDrawing=!0;var e=this.context.gl;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)},e.setBlendMode=function(t,e,r){(this.srcColorBlend=t,this.srcAlphaBlend=e,this.dstBlend=r,this.isDrawing)&&(this.flush(),this.context.gl.blendFuncSeparate(t,r,e,r))},e.setColor=function(t){this.color.setFromColor(t)},e.setColorWith=function(t,e,r,n){this.color.set(t,e,r,n)},e.point=function(t,e,r){this.check(Dr.Point,1),r||(r=this.color),this.vertex(t,e,r)},e.line=function(t,e,r,n,i){this.check(Dr.Line,2);this.mesh.getVertices(),this.vertexIndex;i||(i=this.color),this.vertex(t,e,i),this.vertex(r,n,i)},e.triangle=function(t,e,r,n,i,o,a,s,h,u){this.check(t?Dr.Filled:Dr.Line,3);this.mesh.getVertices(),this.vertexIndex;s||(s=this.color),h||(h=this.color),u||(u=this.color),t?(this.vertex(e,r,s),this.vertex(n,i,h),this.vertex(o,a,u)):(this.vertex(e,r,s),this.vertex(n,i,h),this.vertex(n,i,s),this.vertex(o,a,h),this.vertex(o,a,s),this.vertex(e,r,h))},e.quad=function(t,e,r,n,i,o,a,s,h,u,c,l,f){this.check(t?Dr.Filled:Dr.Line,3);this.mesh.getVertices(),this.vertexIndex;u||(u=this.color),c||(c=this.color),l||(l=this.color),f||(f=this.color),t?(this.vertex(e,r,u),this.vertex(n,i,c),this.vertex(o,a,l),this.vertex(o,a,l),this.vertex(s,h,f),this.vertex(e,r,u)):(this.vertex(e,r,u),this.vertex(n,i,c),this.vertex(n,i,c),this.vertex(o,a,l),this.vertex(o,a,l),this.vertex(s,h,f),this.vertex(s,h,f),this.vertex(e,r,u))},e.rect=function(t,e,r,n,i,o){this.quad(t,e,r,e+n,r,e+n,r+i,e,r+i,o,o,o,o)},e.rectLine=function(t,e,r,n,i,o,a){this.check(t?Dr.Filled:Dr.Line,8),a||(a=this.color);var s=this.tmp.set(i-r,e-n);s.normalize(),o*=.5;var h=s.x*o,u=s.y*o;t?(this.vertex(e+h,r+u,a),this.vertex(e-h,r-u,a),this.vertex(n+h,i+u,a),this.vertex(n-h,i-u,a),this.vertex(n+h,i+u,a),this.vertex(e-h,r-u,a)):(this.vertex(e+h,r+u,a),this.vertex(e-h,r-u,a),this.vertex(n+h,i+u,a),this.vertex(n-h,i-u,a),this.vertex(n+h,i+u,a),this.vertex(e+h,r+u,a),this.vertex(n-h,i-u,a),this.vertex(e-h,r-u,a))},e.x=function(t,e,r){this.line(t-r,e-r,t+r,e+r),this.line(t-r,e+r,t+r,e-r)},e.polygon=function(t,e,r,n){if(r<3)throw new Error("Polygon must contain at least 3 vertices");this.check(Dr.Line,2*r),n||(n=this.color);this.mesh.getVertices(),this.vertexIndex;r<<=1;for(var i=t[e<<=1],o=t[e+1],a=e+r,s=e,h=e+r-2;s<h;s+=2){var u=t[s],c=t[s+1],l=0,f=0;s+2>=a?(l=i,f=o):(l=t[s+2],f=t[s+3]),this.vertex(u,c,n),this.vertex(l,f,n)}},e.circle=function(t,e,r,n,i,o){if(void 0===o&&(o=0),0==o&&(o=Math.max(1,6*d.cbrt(n)|0)),o<=0)throw new Error("segments must be > 0.");i||(i=this.color);var a=2*d.PI/o,s=Math.cos(a),h=Math.sin(a),u=n,c=0;if(t){this.check(Dr.Filled,3*o+3),o--;for(var l=0;l<o;l++){this.vertex(e,r,i),this.vertex(e+u,r+c,i);var f=u;u=s*u-h*c,c=h*f+s*c,this.vertex(e+u,r+c,i)}this.vertex(e,r,i),this.vertex(e+u,r+c,i)}else{this.check(Dr.Line,2*o+2);for(var p=0;p<o;p++){this.vertex(e+u,r+c,i);var v=u;u=s*u-h*c,c=h*v+s*c,this.vertex(e+u,r+c,i)}this.vertex(e+u,r+c,i)}u=n,c=0,this.vertex(e+u,r+c,i)},e.curve=function(t,e,r,n,i,o,a,s,h,u){this.check(Dr.Line,2*h+2),u||(u=this.color);for(var c=1/h,l=c*c,f=c*c*c,d=3*c,p=3*l,v=6*l,m=6*f,g=t-2*r+i,y=e-2*n+o,b=3*(r-i)-t+a,w=3*(n-o)-e+s,x=t,E=e,S=(r-t)*d+g*p+b*f,A=(n-e)*d+y*p+w*f,k=g*v+b*m,I=y*v+w*m,T=b*m,C=w*m;h-- >0;)this.vertex(x,E,u),x+=S,E+=A,S+=k,A+=I,k+=T,I+=C,this.vertex(x,E,u);this.vertex(x,E,u),this.vertex(a,s,u)},e.vertex=function(t,e,r){var n=this.vertexIndex,i=this.mesh.getVertices();i[n++]=t,i[n++]=e,i[n++]=r.r,i[n++]=r.g,i[n++]=r.b,i[n++]=r.a,this.vertexIndex=n},e.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush();var t=this.context.gl;t.disable(t.BLEND),this.isDrawing=!1},e.flush=function(){if(0!=this.vertexIndex){if(!this.shader)throw new Error("No shader set.");this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0}},e.check=function(t,e){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==t){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<e))return;this.flush()}else this.flush(),this.shapeType=t},e.dispose=function(){this.mesh.dispose()},t}();!function(t){t[t.Point=0]="Point",t[t.Line=1]="Line",t[t.Filled=4]="Filled"}(Dr||(Dr={}));var Vr=function(){function t(t){this.boneLineColor=new f(1,0,0,1),this.boneOriginColor=new f(0,1,0,1),this.attachmentLineColor=new f(0,0,1,.5),this.triangleLineColor=new f(1,.64,0,.5),this.pathColor=(new f).setFromString("FF7F00"),this.clipColor=new f(.8,0,0,2),this.aabbColor=new f(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.context=void 0,this.bounds=new Qe,this.temp=new Array,this.vertices=p.newFloatArray(2048),this.context=t instanceof sr?t:new sr(t)}var e=t.prototype;return e.draw=function(e,r,n){var i=r.x,o=r.y,a=this.context.gl,s=this.premultipliedAlpha?a.ONE:a.SRC_ALPHA;e.setBlendMode(s,a.ONE,a.ONE_MINUS_SRC_ALPHA);var h=r.bones;if(this.drawBones){e.setColor(this.boneLineColor);for(var u=0,c=h.length;u<c;u++){var l=h[u];if(!(n&&n.indexOf(l.data.name)>-1)&&l.parent){var f=l.data.length*l.a+l.worldX,d=l.data.length*l.c+l.worldY;e.rectLine(!0,l.worldX,l.worldY,f,d,this.boneWidth*this.scale)}}this.drawSkeletonXY&&e.x(i,o,4*this.scale)}if(this.drawRegionAttachments){e.setColor(this.attachmentLineColor);for(var v=r.slots,m=0,g=v.length;m<g;m++){var y=v[m],b=y.getAttachment();if(b instanceof Gt){var w=b,x=this.vertices;w.computeWorldVertices(y,x,0,2),e.line(x[0],x[1],x[2],x[3]),e.line(x[2],x[3],x[4],x[5]),e.line(x[4],x[5],x[6],x[7]),e.line(x[6],x[7],x[0],x[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(var E=r.slots,S=0,A=E.length;S<A;S++){var k=E[S];if(k.bone.active){var I=k.getAttachment();if(I instanceof qt){var T=I,C=this.vertices;T.computeWorldVertices(k,0,T.worldVerticesLength,C,0,2);var O=T.triangles,_=T.hullLength;if(this.drawMeshTriangles){e.setColor(this.triangleLineColor);for(var R=0,P=O.length;R<P;R+=3){var F=2*O[R],L=2*O[R+1],M=2*O[R+2];e.triangle(!1,C[F],C[F+1],C[L],C[L+1],C[M],C[M+1])}}if(this.drawMeshHull&&_>0){e.setColor(this.attachmentLineColor);for(var Y=C[(_=2*(_>>1))-2],N=C[_-1],B=0,j=_;B<j;B+=2){var X=C[B],D=C[B+1];e.line(X,D,Y,N),Y=X,N=D}}}}}if(this.drawBoundingBoxes){var U=this.bounds;U.update(r,!0),e.setColor(this.aabbColor),e.rect(!1,U.minX,U.minY,U.getWidth(),U.getHeight());for(var V=U.polygons,q=U.boundingBoxes,W=0,z=V.length;W<z;W++){var G=V[W];e.setColor(q[W].color),e.polygon(G,0,G.length)}}if(this.drawPaths)for(var Z=r.slots,H=0,J=Z.length;H<J;H++){var K=Z[H];if(K.bone.active){var Q=K.getAttachment();if(Q instanceof Wt){var $=Q,tt=$.worldVerticesLength,et=this.temp=p.setArraySize(this.temp,tt,0);$.computeWorldVertices(K,0,tt,et,0,2);var rt=this.pathColor,nt=et[2],it=et[3],ot=0,at=0;if($.closed){e.setColor(rt);var st=et[0],ht=et[1],ut=et[tt-2],ct=et[tt-1];ot=et[tt-4],at=et[tt-3],e.curve(nt,it,st,ht,ut,ct,ot,at,32),e.setColor(t.LIGHT_GRAY),e.line(nt,it,st,ht),e.line(ot,at,ut,ct)}tt-=4;for(var lt=4;lt<tt;lt+=6){var ft=et[lt],dt=et[lt+1],pt=et[lt+2],vt=et[lt+3];ot=et[lt+4],at=et[lt+5],e.setColor(rt),e.curve(nt,it,ft,dt,pt,vt,ot,at,32),e.setColor(t.LIGHT_GRAY),e.line(nt,it,ft,dt),e.line(ot,at,pt,vt),nt=ot,it=at}}}}if(this.drawBones){e.setColor(this.boneOriginColor);for(var mt=0,gt=h.length;mt<gt;mt++){var yt=h[mt];n&&n.indexOf(yt.data.name)>-1||e.circle(!0,yt.worldX,yt.worldY,3*this.scale,this.boneOriginColor,8)}}if(this.drawClipping){var bt=r.slots;e.setColor(this.clipColor);for(var wt=0,xt=bt.length;wt<xt;wt++){var Et=bt[wt];if(Et.bone.active){var St=Et.getAttachment();if(St instanceof Yt){var At=St,kt=At.worldVerticesLength,It=this.temp=p.setArraySize(this.temp,kt,0);At.computeWorldVertices(Et,0,kt,It,0,2);for(var Tt=0,Ct=It.length;Tt<Ct;Tt+=2){var Ot=It[Tt],_t=It[Tt+1],Rt=It[(Tt+2)%It.length],Pt=It[(Tt+3)%It.length];e.line(Ot,_t,Rt,Pt)}}}}}},e.dispose=function(){},t}();Vr.LIGHT_GRAY=new f(192/255,192/255,192/255,1),Vr.GREEN=new f(0,1,0,1);var qr=function(t,e,r){this.vertices=void 0,this.numVertices=void 0,this.numFloats=void 0,this.vertices=t,this.numVertices=e,this.numFloats=r},Wr=function(){function t(t,e){void 0===e&&(e=!0),this.premultipliedAlpha=!1,this.tempColor=new f,this.tempColor2=new f,this.vertices=void 0,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new qr([],0,0),this.clipper=new tr,this.temp=new m,this.temp2=new m,this.temp3=new f,this.temp4=new f,this.twoColorTint=e,e&&(this.vertexSize+=4),this.vertices=p.newFloatArray(1024*this.vertexSize)}return t.prototype.draw=function(e,r,n,i,o){void 0===n&&(n=-1),void 0===i&&(i=-1),void 0===o&&(o=null);var a,s,h,u=this.clipper,c=this.premultipliedAlpha,l=this.twoColorTint,f=null,d=this.renderable,v=r.drawOrder,m=r.color,g=l?12:8,y=!1;-1==n&&(y=!0);for(var b=0,w=v.length;b<w;b++){var x=u.isClipping()?2:g,E=v[b];if(E.bone.active)if(n>=0&&n==E.data.index&&(y=!0),y){i>=0&&i==E.data.index&&(y=!1);var S=E.getAttachment(),A=void 0;if(S instanceof Gt){var k=S;d.vertices=this.vertices,d.numVertices=4,d.numFloats=x<<2,k.computeWorldVertices(E,d.vertices,0,x),s=t.QUAD_TRIANGLES,a=k.uvs,A=k.region.texture,h=k.color}else{if(!(S instanceof qt)){if(S instanceof Yt){var I=S;u.clipStart(E,I);continue}u.clipEndWithSlot(E);continue}var T=S;d.vertices=this.vertices,d.numVertices=T.worldVerticesLength>>1,d.numFloats=d.numVertices*x,d.numFloats>d.vertices.length&&(d.vertices=this.vertices=p.newFloatArray(d.numFloats)),T.computeWorldVertices(E,0,T.worldVerticesLength,d.vertices,0,x),s=T.triangles,A=T.region.texture,a=T.uvs,h=T.color}if(A){var C=E.color,O=this.tempColor;O.r=m.r*C.r*h.r,O.g=m.g*C.g*h.g,O.b=m.b*C.b*h.b,O.a=m.a*C.a*h.a,c&&(O.r*=O.a,O.g*=O.a,O.b*=O.a);var _=this.tempColor2;E.darkColor?(c?(_.r=E.darkColor.r*O.a,_.g=E.darkColor.g*O.a,_.b=E.darkColor.b*O.a):_.setFromColor(E.darkColor),_.a=c?1:0):_.set(0,0,0,1);var R=E.data.blendMode;if(R!=f&&(f=R,e.setBlendMode(f,c)),u.isClipping()){u.clipTriangles(d.vertices,d.numFloats,s,s.length,a,O,_,l);var P=new Float32Array(u.clippedVertices),F=u.clippedTriangles;o&&o(P,P.length,g),e.draw(A,P,F)}else{var L=d.vertices;if(l)for(var M=2,Y=0,N=d.numFloats;M<N;M+=g,Y+=2)L[M]=O.r,L[M+1]=O.g,L[M+2]=O.b,L[M+3]=O.a,L[M+4]=a[Y],L[M+5]=a[Y+1],L[M+6]=_.r,L[M+7]=_.g,L[M+8]=_.b,L[M+9]=_.a;else for(var B=2,j=0,X=d.numFloats;B<X;B+=g,j+=2)L[B]=O.r,L[B+1]=O.g,L[B+2]=O.b,L[B+3]=O.a,L[B+4]=a[j],L[B+5]=a[j+1];var D=d.vertices.subarray(0,d.numFloats);o&&o(d.vertices,d.numFloats,g),e.draw(A,D,s)}}u.clipEndWithSlot(E)}else u.clipEndWithSlot(E);else u.clipEndWithSlot(E)}u.clipEnd()},t}();Wr.QUAD_TRIANGLES=[0,1,2,2,3,0];var zr,Gr,Zr,Hr=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],Jr=[0,1,2,2,3,0],Kr=new f(1,1,1,1),Qr=function(){function t(t,e,r){void 0===r&&(r=!0),this.context=void 0,this.canvas=void 0,this.camera=void 0,this.batcher=void 0,this.twoColorTint=!1,this.batcherShader=void 0,this.shapes=void 0,this.shapesShader=void 0,this.activeRenderer=null,this.skeletonRenderer=void 0,this.skeletonDebugRenderer=void 0,this.canvas=t,this.context=e instanceof sr?e:new sr(e),this.twoColorTint=r,this.camera=new Or(t.width,t.height),this.batcherShader=r?Pr.newTwoColoredTextured(this.context):Pr.newColoredTextured(this.context),this.batcher=new Xr(this.context,r),this.shapesShader=Pr.newColored(this.context),this.shapes=new Ur(this.context),this.skeletonRenderer=new Wr(this.context,r),this.skeletonDebugRenderer=new Vr(this.context)}var e=t.prototype;return e.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},e.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},e.drawSkeleton=function(t,e,r,n,i){void 0===e&&(e=!1),void 0===r&&(r=-1),void 0===n&&(n=-1),void 0===i&&(i=null),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=e,this.skeletonRenderer.draw(this.batcher,t,r,n,i)},e.drawSkeletonDebug=function(t,e,r){void 0===e&&(e=!1),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=e,this.skeletonDebugRenderer.draw(this.shapes,t,r)},e.drawTexture=function(t,e,r,n,i,o){this.enableRenderer(this.batcher),o||(o=Kr);var a=0;Hr[a++]=e,Hr[a++]=r,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=0,Hr[a++]=1,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a++]=0),Hr[a++]=e+n,Hr[a++]=r,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=1,Hr[a++]=1,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a++]=0),Hr[a++]=e+n,Hr[a++]=r+i,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=1,Hr[a++]=0,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a++]=0),Hr[a++]=e,Hr[a++]=r+i,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=0,Hr[a++]=0,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a]=0),this.batcher.draw(t,Hr,Jr)},e.drawTextureUV=function(t,e,r,n,i,o,a,s,h,u){this.enableRenderer(this.batcher),u||(u=Kr);var c=0;Hr[c++]=e,Hr[c++]=r,Hr[c++]=u.r,Hr[c++]=u.g,Hr[c++]=u.b,Hr[c++]=u.a,Hr[c++]=o,Hr[c++]=a,this.twoColorTint&&(Hr[c++]=0,Hr[c++]=0,Hr[c++]=0,Hr[c++]=0),Hr[c++]=e+n,Hr[c++]=r,Hr[c++]=u.r,Hr[c++]=u.g,Hr[c++]=u.b,Hr[c++]=u.a,Hr[c++]=s,Hr[c++]=a,this.twoColorTint&&(Hr[c++]=0,Hr[c++]=0,Hr[c++]=0,Hr[c++]=0),Hr[c++]=e+n,Hr[c++]=r+i,Hr[c++]=u.r,Hr[c++]=u.g,Hr[c++]=u.b,Hr[c++]=u.a,Hr[c++]=s,Hr[c++]=h,this.twoColorTint&&(Hr[c++]=0,Hr[c++]=0,Hr[c++]=0,Hr[c++]=0),Hr[c++]=e,Hr[c++]=r+i,Hr[c++]=u.r,Hr[c++]=u.g,Hr[c++]=u.b,Hr[c++]=u.a,Hr[c++]=o,Hr[c++]=h,this.twoColorTint&&(Hr[c++]=0,Hr[c++]=0,Hr[c++]=0,Hr[c]=0),this.batcher.draw(t,Hr,Jr)},e.drawTextureRotated=function(t,e,r,n,i,o,a,s,h){this.enableRenderer(this.batcher),h||(h=Kr);var u=e+o,c=r+a,l=-o,f=-a,p=n-o,v=i-a,m=l,g=f,y=l,b=v,w=p,x=v,E=p,S=f,A=0,k=0,I=0,T=0,C=0,O=0,_=0,R=0;if(0!=s){var P=d.cosDeg(s),F=d.sinDeg(s);I=(C=P*w-F*x)+((A=P*m-F*g)-(_=P*y-F*b)),T=(O=F*w+P*x)+((k=F*m+P*g)-(R=F*y+P*b))}else A=m,k=g,_=y,R=b,C=w,O=x,I=E,T=S;A+=u,k+=c,I+=u,T+=c,C+=u,O+=c,_+=u,R+=c;var L=0;Hr[L++]=A,Hr[L++]=k,Hr[L++]=h.r,Hr[L++]=h.g,Hr[L++]=h.b,Hr[L++]=h.a,Hr[L++]=0,Hr[L++]=1,this.twoColorTint&&(Hr[L++]=0,Hr[L++]=0,Hr[L++]=0,Hr[L++]=0),Hr[L++]=I,Hr[L++]=T,Hr[L++]=h.r,Hr[L++]=h.g,Hr[L++]=h.b,Hr[L++]=h.a,Hr[L++]=1,Hr[L++]=1,this.twoColorTint&&(Hr[L++]=0,Hr[L++]=0,Hr[L++]=0,Hr[L++]=0),Hr[L++]=C,Hr[L++]=O,Hr[L++]=h.r,Hr[L++]=h.g,Hr[L++]=h.b,Hr[L++]=h.a,Hr[L++]=1,Hr[L++]=0,this.twoColorTint&&(Hr[L++]=0,Hr[L++]=0,Hr[L++]=0,Hr[L++]=0),Hr[L++]=_,Hr[L++]=R,Hr[L++]=h.r,Hr[L++]=h.g,Hr[L++]=h.b,Hr[L++]=h.a,Hr[L++]=0,Hr[L++]=0,this.twoColorTint&&(Hr[L++]=0,Hr[L++]=0,Hr[L++]=0,Hr[L]=0),this.batcher.draw(t,Hr,Jr)},e.drawRegion=function(t,e,r,n,i,o){this.enableRenderer(this.batcher),o||(o=Kr);var a=0;Hr[a++]=e,Hr[a++]=r,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=t.u,Hr[a++]=t.v2,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a++]=0),Hr[a++]=e+n,Hr[a++]=r,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=t.u2,Hr[a++]=t.v2,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a++]=0),Hr[a++]=e+n,Hr[a++]=r+i,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=t.u2,Hr[a++]=t.v,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a++]=0),Hr[a++]=e,Hr[a++]=r+i,Hr[a++]=o.r,Hr[a++]=o.g,Hr[a++]=o.b,Hr[a++]=o.a,Hr[a++]=t.u,Hr[a++]=t.v,this.twoColorTint&&(Hr[a++]=0,Hr[a++]=0,Hr[a++]=0,Hr[a]=0),this.batcher.draw(t.page.texture,Hr,Jr)},e.line=function(t,e,r,n,i,o){this.enableRenderer(this.shapes),this.shapes.line(t,e,r,n,i)},e.triangle=function(t,e,r,n,i,o,a,s,h,u){this.enableRenderer(this.shapes),this.shapes.triangle(t,e,r,n,i,o,a,s,h,u)},e.quad=function(t,e,r,n,i,o,a,s,h,u,c,l,f){this.enableRenderer(this.shapes),this.shapes.quad(t,e,r,n,i,o,a,s,h,u,c,l,f)},e.rect=function(t,e,r,n,i,o){this.enableRenderer(this.shapes),this.shapes.rect(t,e,r,n,i,o)},e.rectLine=function(t,e,r,n,i,o,a){this.enableRenderer(this.shapes),this.shapes.rectLine(t,e,r,n,i,o,a)},e.polygon=function(t,e,r,n){this.enableRenderer(this.shapes),this.shapes.polygon(t,e,r,n)},e.circle=function(t,e,r,n,i,o){void 0===o&&(o=0),this.enableRenderer(this.shapes),this.shapes.circle(t,e,r,n,i,o)},e.curve=function(t,e,r,n,i,o,a,s,h,u){this.enableRenderer(this.shapes),this.shapes.curve(t,e,r,n,i,o,a,s,h,u)},e.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},e.resize=function(t){var e=this.canvas,r=window.devicePixelRatio||1,n=Math.round(e.clientWidth*r),i=Math.round(e.clientHeight*r);if(e.width==n&&e.height==i||(e.width=n,e.height=i),this.context.gl.viewport(0,0,e.width,e.height),t===zr.Expand)this.camera.setViewport(n,i);else if(t===zr.Fit){var o=e.width,a=e.height,s=this.camera.viewportWidth,h=this.camera.viewportHeight,u=h/s<a/o?s/o:h/a;this.camera.setViewport(o*u,a*u)}this.camera.update()},e.enableRenderer=function(t){this.activeRenderer!==t&&(this.end(),t instanceof Xr?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(Pr.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):t instanceof Ur?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(Pr.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},t}();!function(t){t[t.Stretch=0]="Stretch",t[t.Expand=1]="Expand",t[t.Fit=2]="Fit"}(zr||(zr={}));var $r=0,tn=163,en=(function(){function t(t){if(this.renderer=void 0,this.logo=null,this.spinner=null,this.angle=0,this.fadeOut=0,this.fadeIn=0,this.timeKeeper=new g,this.backgroundColor=new f(.135,.135,.135,1),this.tempColor=new f,this.renderer=t,this.timeKeeper.maxDelta=9,!Zr){var e=navigator.userAgent.indexOf("Safari")>-1,r=function(){return $r++};(Zr=new Image).src=rn,e||(Zr.crossOrigin="anonymous"),Zr.onload=r,(Gr=new Image).src=en,e||(Gr.crossOrigin="anonymous"),Gr.onload=r}}var e=t.prototype;e.dispose=function(){var t,e;null==(t=this.logo)||t.dispose(),null==(e=this.spinner)||e.dispose()},e.draw=function(t){if(void 0===t&&(t=!1),!($r<2||t&&this.fadeOut>1)){this.timeKeeper.update();var e=Math.abs(Math.sin(this.timeKeeper.totalTime+.25));this.angle-=200*this.timeKeeper.delta*(1+1.5*Math.pow(e,5));var r=this.tempColor,n=this.renderer,i=n.canvas,o=n.context.gl;if(n.resize(zr.Expand),n.camera.position.set(i.width/2,i.height/2,0),n.batcher.setBlendMode(de.Normal,!0),t){if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>1)return;r.setFromColor(this.backgroundColor),e=1-((e=1-this.fadeOut/1)-1)*(e-1),r.a*=e,r.a>0&&(n.camera.zoom=1,n.begin(),n.quad(!0,0,0,i.width,0,i.width,i.height,0,i.height,r,r,r,r),n.end())}else this.fadeIn+=this.timeKeeper.delta,this.backgroundColor.a>0&&(o.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),o.clear(o.COLOR_BUFFER_BIT)),e=1;e*=Math.min(this.fadeIn/1,1),r.set(e,e,e,e),this.logo||(this.logo=new hr(n.context,Zr),this.spinner=new hr(n.context,Gr)),n.camera.zoom=Math.max(1,tn/i.height),n.begin(),n.drawTexture(this.logo,(i.width-165)/2,(i.height-108)/2,165,108,r),this.spinner&&n.drawTextureRotated(this.spinner,(i.width-tn)/2,(i.height-tn)/2,tn,tn,81.5,81.5,this.angle,r),n.end()}}}(),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAALKElEQVR42u2de2iW5R/GPzuqcwfnnKfNmafl5tTNHWzqNi3DEMQykcAoJSsySkspjSIk0iD/07Kf4R+FnVBDUTshZGpWUEJaaiWFgZlUFmXmIe3HNXthyebeZ77P9H13ffBG8Y8H7ut7vff93N/7fu4vGGPiFZiez/Qtw9lytJajfzfw9z/j+efPOv7cV8W+lUNY2a8T/ayTCRsWFLJA5rtUO1LLkV5p9LJeJizQiHeqnlOtmVFtdTGrrZkJCxYXsTgaI6r9MY4/UpNItW4mFDaXsTlaM6qVZlBq3UwofFrJp0HMWJ9DvXUzobCznJ1BzFjWlTLrZkJh/TDWBzFjTgo51s2EgnKI0Rrx+FiOWzNzVaym91Syx5qZsGBWb2ZFa0ZN6dbMhAWTcpkUrRmXD2K5NTNhgVbH0Zpxbl/mWjMTFvRIo0e0ZpzcncnWzISKtvmiMWNRJ4qslwmVXRXsas2Ix8ZwzFqZsGFREYtaM+Oaa1ljrUzYkJ9G/ok6TlzKjJWZVFor0y7c1Zu7WjLiqiGsskamXdHopyT4vALmzS9k/t19uHtKHlOSIMn6xAtARjIZ1sFcUSZ0Y4La+G6M18hS2IlCn4a+WoC0JNL0d/dUupdnUj40g6EJ2VEdMnhrOG/p5f/jUXz8SgmvaGU6KpNRNsLVQV0OdXf24s63h/P2gWoOrBjMCr2GJFQnnxnIM3q5P1PPmaYv+4ev4/C6UtbpV2gzXCkgL5W8Bwt48OIc6ul6Tp+s4+SyASxLiI4+PYCn1bHzDZxvaQW6vZzto7MYnQIpNkf7kp5EuozYUroqEjcNKHHd0Tl9mBPN1pk+hFeieGBnBtog7UXjsj9pWg+m6duecw2cay1OC/uxMC47KmP9OIYfoz1YoC20J/rzRG4quTZK2EAyJGs20qwUbYw0aNRmUxtvfUW/uEtNzc1NB1/X8LVyd15hh82F43AvD+VlXcsSJEZa1CQ3ejleAO7oxR3RDP0XN91X4+NXYb8nkv7UNTwV7e0YTdu7I3g33t7tuaEbNwSZpps2fSyvs4M2Tjhot+jb0Xzbltj8r5j/xVt/6Z1Ob93U1ZYO691EhhzchcHeXosVjcNZysyezLw4xRZt05R+fTeuj8vOj+zKyG0j2aZcVVs6v+QalnjrMFZASQYl2nBoSyz06e3j/Xk8rgWYmMvEICu2pm1HOTuc7okV8FgRj0XukwzanhvCc/F+72TjoQjdObN1OFuDLmh0xP+WHtxiI10ukJlCprb4guiv1fP+avZrS1C7NAkliHZjDtZwMMgqbukAltpMlwuMy2FcEBPqvfLLar5Uqi0hBdEwryy+Mv5n6zkbjTBa+dlMlwvUZFETZKGiFM7tvbhdJ3gSVRO0wzIjnxmvl/J6a6JsGMYGrahtpssFeqbR841S3mhN80OjOaSDEdqd6SjaMKgzgzRK7q1ib3PT9sYyNo7JZoyNFNvRcVMZmy7WOvIuryv/Zvdmdt90+nY0bRp3AvROohFwdwW7dTG7RFlbwlqdrbOBYg005NAQmZU0HWt1rXMBH1Xw0dQ8pmqzoaPmdhun7bHZjNVe9qP9eFQfO1VkUmHjhAVUZ1GtnKFSbjrkrPfy4i4UW5t/6ZxM54J0CqxFe81KpGsQyE4h23oYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjLna+bdOy+IiFquIpGq16Pb79cNYv3IIK/X/ugx+Ui6TVKvYVU9Nc8gX8od8Ir/IN/KPfCQ/yVfyl/6/pfJvLChkQdD6wyqntquCXYuKWJSfRr6D0dEAxV3xlw/khyD+kd/ku/88cHo+09tS3LBpO1HHCVUqcIA6CqB4K+6X6x35L/JM2loXurlWmUmlA5XogOIcK8/If5HncrSWo7F6cKIWPjT/RXGOlWfkv8hzaWsN4uaaysE6WIkOKM6x8oz8F3kusXqo2vxC5jtYiQ4ozrH0TeS5qIZcrB7qkrwdA8U5Vp6R/yLPZV8V+2L14Cl5THGwEh1QnGPlGfkv8lyUlIzFQ1cNYVVHrcjZ0VCcFe9Y+Eb+izy3ceclUl43aFN52DXXssYpnY6a4qFS8ZcP2uIf+e7inRh6pdFrdTGrm8uiHx/L8T2V7NGWzvJBLJ/bl7mTuzO5qBNFDoiJID/IF/KHfCK/yDfyT3O7d/KbfNfS80hNIrU0g9L6HOq1x5iTQo6FNpeLfCQ/yVfyl3xmXYwxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHNk9z4JwJ0SqKTdQkbyEwhU393T6V7zzR6pieR3tE1ITeVXImhe6BXDGZFdRbVeank2TBhcaEMr0rwbixj49IBLL2/L/ffmMuNHfqO9tFZjJYBd1ewO3Lx+IcVfKhqna5nHZYR6XFPH+5R3eeI5t9fx/fvjeC9Jdew5OKZKqFR/RDVKL6vL/f9PJafmyvHsL+a/ff24V6NmjZQbGchVbY6UM2BluqHv1rCqzVZ1KQlkZboepCdQvacPsz5bjTfXao+yMEaDt7Wk9tSIMVGig3TejCtJSM2bSpkPjWPqd1S6Zao+lORSYWmgkOjORRNwZqd5ezMSiHLRooNr5XwWjS6/1XHX9vL2T67N7M1iyXa9JCrYjVrS1gbpJyw6hBfsmiNCYT0P9/A+Wj1/6qGr5YNYFlJBiWJogEzezLz/ZG8/9s4fgtSyuvNYbyp1IONFBtu7sHNv4/j9yAxUHWrdaWsG9+N8XHd+YxkMpSy+aySz841cC5oXbmHCnnI74yxAgZ3YbDeB4PEQCOpBpFNZWwa2ZWRcdnxLsl00crtRB0n2lLg8JNRfDKoM4NsolgBSmw/UMADba1+qpmqfyf6x1u/0a/og3I+aEunP6/i86osqmygcGarF4p54dex/Bo0LqfqOfVwIQ/HW5/RSkwV1oN2WLlHTc82TljAwM4M1O5LWwYKZTjibYXNS0N5KcjKTe10PadfLObFuJwK4ozp+UzXDBTUjL+M5ZcBnRkQV53dMIwNQTu6bSTbVEzbi5awuVByd2E/FgaN0Tc1fKOzBHHV2aAdVSdv6s5NNkp7cSH/++xAng2yyHx+CM/H21YhfdPp+0U1X0TbSZnXx8faG9Aop0MS0cToh1p+iLcpOkLj9t/JOk5eqoPHxnDsyf486an5yqCDK7XZ1O4oZ4dWyy3FSXHUAYq47uyYbMZoGmhpG3DlEFb6uNiVBhpyaHhnBO8oJmfqOROJjzIiP43hJ8UxITqqX56S2Hur2KsOnq3nrE6PPNKPRwrSKbAZrjTQNZmuE7oxYXMZmxWbw9dxWFu4W4ezVedOE6qzI7oyYkY+M7TPeWsPbk2UX1qioSN+E3OZqOR2cReKE+qQRFN0Pi7y73g/UawU1KzezJpXwLz5hczX1ueUPKYkNb6GJQZ+j7/aAfRZREsv+quGsMoamXZBW2Gt5eU0alorEzYsKmJRa/m4NdeyxlqZsCGa84DKnVorEzboC7podis69DfIJmwufHMc7famvvmxZiYsKOtKWbRm1OcW1syEBboSJFozLh/EcmtmwgIluaM14/phrLdmJixYXMTiaM24p5I91syEBTphFOR7Y2tmwgJNvUFOr+tov3UzoaAv44KYUatv62ZCoemdhtG0+hzqrZsJBR08DWLG0gxKrZu50qvpxos3U5NItW4mFPp1ot+lPlpq2lYXs9qamVBZUMiC1ox4pJYjvlfStAu6GmTLcLboMtPIV4/6im5fFfuUi9QIap2MiWP+D96R1vPmsD/fAAAAAElFTkSuQmCC"),rn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAQ7klEQVR42u3da4xdVRUA4D0zd2Y6nZY59DVtZ1puS9+lzC0YAi2UQ8AAQczFpPgA9VIeIQbirRqJ0cBUBVGjDr/QCKSNRSMmpuODxAdxqhgwxkhFjf6Sxh/+UUNVNGJCzR7uTvas7LXX2q9zzp3em6y0gTN3Zu75utZe5+yztxC9V+/Ve5X9En1Vjd7J6SFbLNF7naPw+l2jh7YHMBWssqMHtlsRdim4qsLtIawaPiHEQOLoNrA9iIkQDnRrVA1qD2LZ8ISoxYqKo13sQAtBWBayQWZUAXGRQM9JjCngDVY0UqJNDbQrMcaGmArdUKpIjbYiQLsCZCyIMQBy8QwnilR4Q5AuCpxFYvRFmBLbEiwKwpsSaWycVQGZBKMrwBjA9BhxDe57u2L2hOoKNCbOrgAZitEVYUxoKSMErQvSxYIzCkguRg5EF4AUhqUlhy/YUKSxcRaKsioYOQhD4I0yYxkR3PcJBcuFysmgsXAWBTMJyBCMIQh9kGGxXIXvexCQXbHGAMrBWTbM2CCpMSMLIxehC77lSJwXGth7M0FzoVJIXXDWQnGmhOkL0ic7YhhtWdGGkAuPAjUWGoF4faCmwBkbZmyUqUCyMqMLRA4+E6IsdTjidUHKBYrh9CnpRcH0ypKxsyOGEYNIIeTCOz91OIJ1QYoB5eAMyZo+MFNnyVTZ0YiRC9EGEMOyAgshxErHsL2XK1gOUgwohtM1a5YNM7Rsu4K0ZkcbRm4mpPBRwFZ5hg9eCqkrUB+csWGGogzNkqEgrdnRhpGLkINudaLgwvVB6oqzCjCTZElb2Y4B0gUjBtEG0ARnDRLjjoG9DwcshtQGlIPTljVjwUySLWNkyRCQVHa0ZUUTRAwgF91a33BEy0VKAcVwwqwZC2bqbOlUurllOxQkJzNyINoAYqjWhYYjWg5SCiiG05Q1U8FMjTIoS8YE6YORi1BHtJ4KIcQEEtTXUWAxpK44YVlPBdO1jCdFWTZIE8bVGEYMIRPcZGBw4HKQcoBiOE1ZMzbMgVQwU6JMAdKEEcuIJogUvg1YCCE2gsCO42DlIIVAKZwpYJaSLVNnSU6XjYHUmxhTmXaFaMO3EYkLqMC+FsLlIoVAKZzMrEnBhJeLfLNlKMrYWRIDCbOkFSSVHbHM6AKRC6/ODUewNqQ+OLlZkxpjUmV8MBbMUJSxyzY3Q1IgTRgxiBRCHdem0KDAUkBh9sRwwjEnAXMMgTnKhFlUtiwkS5rGka4g9SaGgxFmRC7AzTCEEBcyA36dDSsXqAtOLkysjGMwY5XxVChjZ0kuSCo7YlkRQsQQYtDEFsegsLoCxUp7Kpgps2UslFGzJGccSYHUmxhOZqwzEZqAbfUMCisHKIZzgsCpl3MTzMwTpi1bYp2477gyFKUxS7qWbdjY2EBS2dGE0QQRA7gNCyHEdhjE8RhUDlBT9tzgmjWZMFNlSy+Urk1OzCyJlW0XkK4YOQh1cDtcgwBrQmoDWkdgboBZE8mYsJSHlnFbJ+5bwmOPJ7lZkirbC8aRsMvmgtTHjBhGE0QbwJ2egUE1ITVlUC5OmDVdYNrKuN70xM6WoShjlW4464dbtiFIWK6x7GjESEHUUe0iYncnbMdQSE0Z1ITTNOb0hRmjjLtmS9dmJ2rp1jtuKktyyrb6YLEMCUHq2dGG0QQRQ7f72kzc+cJecerne8Wvv7JNPHPvenEkz8Sh3UtFc92QyGt9Yko/HgOLAIUZlItTz5ouMF3KuE+2jFLCQ1D6lm6fLMkBacuOJowYRBUXyfjuHjF3NhdnsfjvAfH6E9vFt9XxKgikEKgJZyyYalzOLeMu2bLbULI6bh+QGwmQ+rgRlumdGEQAao+K56bEL2woVUwOiev0r8OAUjiJrMmFCbvykGxZRAmPitK1dHM7bohyMsuyi/I8f0+e57fJYIKEZXpXo9E4mOf5XTKyLLvCBLETF8uY2SKepkC+dpX4T02Ivepr4HvZcOZ5fmee54fyPL+DmTUhzAs6n4n8bN5dr9f3YdkSg8nsxG0lPBVKVpNjG0/aGhzfLDmRZdnumZmZp8+c+cdZPV555fSr7Xb7s0jJ3i5Pcue4MxKkPPkvvXTqz/B92u32l0wYOzG1fkhcd/py8Rcbyq/vFM/KY1WA95h/3zzP71bfU6JsNpsfgj+P/FlbrdaDGExYyuXvLz8H+DudODH700ajcSM3W6Yu4alQ1spCOTd38jcKocTZbh9+9NixY99XJ8AEUkcpo9W64yH197m5k7+bnZ19QT+J09NHntQhwji/Jg58qi6++ofLxJ8gSFneVw2Ka4QQDfh1Ok4dZavVmtZ/nrm5k7/Vf55O1tRhboUw5+ZOvqyOl5+R/FyOHj32PYVU/tloNG5IXcKrhJIzngwp3fNjomazea/64BuNxts646f50lWv169utw9/DmtqdJQyZFaSJVuV6nq9fqMEof5/vV6/CYBqgJDlee+yAbF/+4i4ZWqZeNfaIfHWzn+Hx0KcEuU9+s8jv3ej0bhVlXOZydX/k0iRMeb8P0D5e6tj8zy/Xb9UJIc56h/yqVOnXul8lmuZ2bJslKmbHG7XrbpCmCXFRLvdfqQD6jTS3Jiy5I4OykM6ADV+1Eu1DmV6evopBORexzDi1L+X/HnGxsb2w3Hm9PSRJ9QxWPOTZdmlKht2hi+w6dkox5bqffI8fye3hDteGqKaHVsHXihKl0tB+h0cY+lute54AGRKDCW89LNTRynHb7ChUWVVjetOnJh9EYBUyPZeNCoOtsbFQwdXi4/esELcd+tq8cCHJ8UXp+viy9efLz7AgamjlKXc1AA1m83DoIRDlFubzeb96hhZLVTlgJ24gttutx+ONa50bHZKRenaeTs1OfpAfnr6yOOdE7EZdNwmlKocntXLNkA5JTGq47Ds+Lf94lWsyfnXleLfnIwJUN4DOnNYwuUxh2A3Ln9XULrfK8t3J27Tu3BVwiOjXJqoAy8UZej1yclGo3GTLN+gu3w+z/P3YaWbQqk3Ne12e4ZC+c8rxWsYytcPiP9RpZxCqWDKnxOiBNlyAUpOnGsoh4tA2Rm8X9xqtT6md5wyZmYe+0YRKL+1S/wYQ3n8zctBl5SBUv5djivfjMOPduIzcizeiYfr9foVvUwZG+XCuzibZKnSceZ5/v4QlKp8y7ElhnJlTeTP7BI/kllRYfzrfvHqFy4UX1vaL/aVlSmROzwbwdS29T2UcEwZF+V8ozM2lu1VY812u/15akypGh3TmFJesJbHHD167IdUxz3YJy5bNySuX1mbvy55CbMLtzU6tjGlsdFptVqfUMc0Go23F4wy1l2dSnbfvpMwVPe9WWVLDsrOJaF9MFu2Wq1PqmNkGce67xiXhTjdNwdlvV6/BgxfbPfBfVCetxi6b9/rlCup65QzM48dl2OjLMv26CibzeZ96sTIzEFdpwQXz9U1yrtVlpR/Zll2Fec65Y6l4pbbx8XHH9kknvzJlPjlHy8Tp29eKT5ou0aJoIT3w3dBlLDzVpfAJEZ1XOdaJZxnOSlvPMjPzxFljIvng914RwebsjYO7uhMyHu46sOfnf3Oz2TXDW6vvYxdFoIXz3Wc8J5zs9n8iOn2IrxTc2BM3Glqdp7dI553uaOjxrhwcob+MyuUpjs6WZZdon8OcigjPx8V+u+GTWFTSWEx3WYcdJ225jNDSE4q0GHCzlueHOyujn6bUWYgeb9ZZUaQPe+GzQ+Gc8+oOGhC+c1d4gfI16n3XDAhQ7+9qE9l01E2Go132GYKyXE1NiFDTcpoNpv3LOYJGWXNErJNW9sEp63p2RKiVPMn1bS1DgxsyhoGdGpmizj+xtXiDYnx7/vFmce3iWdW1cTVGEY4hQ2ZW0nNq8Qm/M6XbXm3S100lwGedFybuvNOibLI+ZS2ceU4eAxiEuvCkfmU8ycToDxETe6FgCBQHeqyAbFvfEhcO7BwDuXFCEbTZF840XeHK0jYcbs2OIGle0mVJ/mmnClEPQqxyTY5I8/zFhif7fSZee4bnrPOU4AssnRXHaVTCTd14dRDY3UbTIiSeFhsN/aMjgnqthFx880rxX3yATL5p3y4LPXzOaBkUyBjZMlYpbtQlIOBD475ZEusjMNSvkXe6VEoJVDkeZ2dzIfIFsRzU+JF2OyM9M9fTC/6SUYOyFQPjQ2nWiUjxnPfw5EeHqMWIqAeIFsAU847lJM2JM6xsewt1OIDLs99P7ZFHNdB/upS8XtPiD7PfLuCXJNolYyyFiNI/Zit65ItrOVafFbHcFohY7hPTN21Tjz4uc3iqfsnxKdX1MTl1OoYRFaMsToGB6Trw2JFP/OdZC2hJZ7ZkrMoAbbSGmelDJ91hFKuJeS7jlBMkJnrAqqJlgMUZS/dArPlGHNdSg5M3xXXtvquuEatvIYtDRhpxbUJuIgqsU5lGWtUploK0KuEU9mSW8YpmFQ556xNuYW7NiW13B+FkMiKHIy+C6eGgBxJvMR0oSv5hi6+z4HJyZoU0M2RVvDlrOQbcxVfX5AhZbuqy0v7ZstYMLHlAVlLTF9ALLbvu9Y5Zylpn/XOsd0ibIvxr2KCLHpp6SCUIdnSZSF+WzfOhem6GD+1KwR3Z4jNjrtDpNoZwmWd8yrupZN6Hx3fbMmFSe0Swdq2ZIPjxk1112Duo8OBGLrBkw/IoncdK2XHsdC9dHz204m50xh3tzFq1zFqtzHXrfCw7OgDsqyNnZLszVijsmXgrmNcmGtS78lIoMX2aJz03fKO2sDJddPQSCDPiQ1DfWBycY6XtXstc2PQKuxgG2McmXTPb9/9vmuJYXKyJrWjbeg+3xPM4O73nWqvbyw7xgZZSJbEUBa157cNJjdr2vb+5iA1YV3HxYscj30PDCEHIgcjtfm8K8hSsmRotkwFk5s1TTghUAopB6xrjHMBBkI0YYTZ0dZlxwLpkiWDULpmy5gwqayZgZNkA7oKQQCxctByYg0XIIEQQuRitGVHblMTA2ShKGPDpC6wu+DEgJqg2rDGDBtAF4Q6RAojp1xXGmSMbImVcR+YWNY04eQCtUG1ofUJ2/uvcETIgUhhdAE5GAlkKShjwHTNmhhODKgJqQ2sC14uOgyfD0IbRF+MlQaZAiZWyn2yJsTJATqGnHQO2Jhh+xlsACFCG0QbRtdyzQFZCZSxYPpmTS7Q5cjJHYNBYIkZpu99HoUQ/o4QIYSIZUZfjJ4ZMjZI32wZBDMU5yhy8pZTULl4XYP5fagMyEVoy4oupTpGduwnkloSlKEwY+AcQU4MhRTD6ovXBRwFzwWgCSEF0QVjJUGmgEllTS5OLlCIlIN1mS9mx/cZ5eLDALpCTI2RAhkTZQqYoTgpoCPECbaBHQ2ETL3PUl98ECAXYijG0OyYAmQoTG7W5ODkAF1CnVgm2JQx4okPA+gCMTbGskBGgRmaOblAh5GTORIrfKFx4VH4EIAxIXIxlg2SBbMvECY3e7oApbDaIgQu5/2HmeEKEINYiwSRi7EQkLFgumZOCuggctKGI4ULZN/vMeSLj0AYMytWEqMLzFg4fYDaoKaC6wvOFR4FkIPQFaILxrJAOsHsc/zlfYDWXE8qF22s8Pz5KHxcgEVALBtjJXBSSEOwFhk1Zgy4hitCT4hVw+gFs8/zwxqIBbUgyK7fcyA0PD9XX4iVxhiC0xdof6STWCsoBmKF7+cVCWFXQYyBMxRpf+STX1b0x45AhN0OMSrOGEirhrY/dfQAdjvS7oy+WCF6r1RIFxXWvlTRg1YVqFWBmxZbD99ig9pt0YPQw9rD1nstVri9V+/Ve3XrS/wfim4P5fIFxLoAAAAASUVORK5CYII=",nn=(function(){function t(t,e){var r=this;this.config=void 0,this.context=void 0,this.time=new g,this.htmlCanvas=void 0,this.gl=void 0,this.renderer=void 0,this.assetManager=void 0,this.input=void 0,this.disposed=!1,this.config=e,e.pathPrefix||(e.pathPrefix=""),e.app||(e.app={loadAssets:function(){},initialize:function(){},update:function(){},render:function(){},error:function(){},dispose:function(){}}),e.webglConfig&&(e.webglConfig={alpha:!0}),this.htmlCanvas=t,this.context=new sr(t,e.webglConfig),this.renderer=new Qr(t,this.context),this.gl=this.context.gl,this.assetManager=new cr(this.context,e.pathPrefix),this.input=new _r(t),e.app.loadAssets&&e.app.loadAssets(this);var n=function t(){r.disposed||(requestAnimationFrame(t),r.time.update(),e.app.update&&e.app.update(r,r.time.delta),e.app.render&&e.app.render(r))};requestAnimationFrame((function t(){r.disposed||(r.assetManager.isLoadingComplete()?r.assetManager.hasErrors()?e.app.error&&e.app.error(r,r.assetManager.getErrors()):(e.app.initialize&&e.app.initialize(r),n()):requestAnimationFrame(t))}))}var e=t.prototype;e.clear=function(t,e,r,n){this.gl.clearColor(t,e,r,n),this.gl.clear(this.gl.COLOR_BUFFER_BIT)},e.dispose=function(){this.config.app.dispose&&this.config.app.dispose(this),this.disposed=!0}}(),Phaser.GameObjects.Components),on=nn.ComputedSize,an=nn.Depth,sn=nn.Flip,hn=nn.ScrollFactor,un=nn.Transform,cn=nn.Visible,ln=nn.Origin,fn=nn.Alpha;function dn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return Phaser.Class.mixin(t,e),t}}var pn=dn(on),vn=dn(an),mn=dn(sn),gn=dn(hn),yn=dn(un),bn=dn(cn),wn=dn(ln),xn=dn(fn);function En(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Sn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sn(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var An=function(t){function e(e,r){return t.call(this,e,r)||this}return(0,h.Z)(e,t),e}(Phaser.GameObjects.GameObject),kn=function(){function t(){}return t.prototype.calculateBounds=function(t){if(!t.skeleton)return{x:0,y:0,width:0,height:0};var e=new fe(t.skeleton.data);e.setToSetupPose(),e.updateWorldTransform();var r=e.getBoundsRect();return r.width==Number.NEGATIVE_INFINITY?{x:0,y:0,width:0,height:0}:r},t}(),In=(function(){function t(t,e,r){void 0===e&&(e=[]),void 0===r&&(r=.05),this.animation=void 0,this.skins=void 0,this.timeStep=void 0,this.animation=t,this.skins=e,this.timeStep=r}t.prototype.calculateBounds=function(t){if(!t.skeleton||!t.animationState)return{x:0,y:0,width:0,height:0};var e=new xt(t.animationState.data),r=new fe(t.skeleton.data),n=r.data;if(this.skins.length>0){for(var i,o=new ye("custom-skin"),a=En(this.skins);!(i=a()).done;){var s=i.value,h=n.findSkin(s);null!=h&&o.addSkin(h)}r.setSkin(o)}r.setToSetupPose();var u=null!=this.animation?n.findAnimation(this.animation):null;if(null==u){r.updateWorldTransform();var c=r.getBoundsRect();return c.width==Number.NEGATIVE_INFINITY?{x:0,y:0,width:0,height:0}:c}var l=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,p=Number.NEGATIVE_INFINITY;e.clearTracks(),e.setAnimationWith(0,u,!1);for(var v=Math.max(u.duration/this.timeStep,1),m=0;m<v;m++){e.update(m>0?this.timeStep:0),e.apply(r),r.updateWorldTransform();var g=r.getBoundsRect();l=Math.min(l,g.x),f=Math.min(f,g.y),d=Math.max(d,l+g.width),p=Math.max(p,f+g.height)}var y={x:l,y:f,width:d-l,height:p-f};return y.width==Number.NEGATIVE_INFINITY?{x:0,y:0,width:0,height:0}:y}}(),function(t){function e(e,r,n,i,o,a,s){var h;return void 0===s&&(s=new kn),(h=t.call(this,e,window.SPINE_GAME_OBJECT_TYPE?window.SPINE_GAME_OBJECT_TYPE:c)||this).plugin=void 0,h.boundsProvider=void 0,h.blendMode=-1,h.skeleton=void 0,h.animationStateData=void 0,h.animationState=void 0,h.beforeUpdateWorldTransforms=function(){},h.afterUpdateWorldTransforms=function(){},h.premultipliedAlpha=!1,h.plugin=r,h.boundsProvider=s,h.setPosition(n,i),h.premultipliedAlpha=h.plugin.isAtlasPremultiplied(a),h.skeleton=h.plugin.createSkeleton(o,a),h.animationStateData=new Lt(h.skeleton.data),h.animationState=new xt(h.animationStateData),h.skeleton.updateWorldTransform(),h.updateSize(),h}(0,h.Z)(e,t);var r=e.prototype;return r.updateSize=function(){if(this.skeleton){var t=this.boundsProvider.calculateBounds(this);this.width=t.width,this.height=t.height,this.displayOriginX=-t.x,this.displayOriginY=-t.y}},r.skeletonToPhaserWorldCoordinates=function(t){var e=this.getWorldTransformMatrix(),r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,h=t.x,u=t.y;t.x=h*r+u*i+a,t.y=h*n+u*o+s},r.phaserWorldCoordinatesToSkeleton=function(t){var e=this.getWorldTransformMatrix(),r=(e=e.invert()).a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,h=t.x,u=t.y;t.x=h*r+u*i+a,t.y=h*n+u*o+s},r.phaserWorldCoordinatesToBone=function(t,e){this.phaserWorldCoordinatesToSkeleton(t),e.parent?e.parent.worldToLocal(t):e.worldToLocal(t)},r.updatePose=function(t){this.animationState.update(t/1e3),this.animationState.apply(this.skeleton),this.beforeUpdateWorldTransforms(this),this.skeleton.updateWorldTransform(),this.afterUpdateWorldTransforms(this)},r.preUpdate=function(t,e){this.skeleton&&this.animationState&&this.updatePose(e)},r.preDestroy=function(){},r.willRender=function(t){var e=!this.skeleton||!(15!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id);if(this.visible||(e=!1),!e&&this.parentContainer&&this.plugin.webGLRenderer){var r=this.plugin.webGLRenderer;this.plugin.gl&&this.plugin.phaserRenderer instanceof Phaser.Renderer.WebGL.WebGLRenderer&&r.batcher.isDrawing&&(r.end(),this.plugin.phaserRenderer.pipelines.rebind())}return e},r.renderWebGL=function(t,e,r,n){if(this.skeleton&&this.animationState&&this.plugin.webGLRenderer){var i=this.plugin.webGLRenderer;t.newType&&(t.pipelines.clear(),i.begin()),r.addToRenderList(e);var o=Phaser.GameObjects.GetCalcMatrix(e,r,n).calc,a=o.a,s=o.b,h=o.c,u=o.d,c=o.tx,l=o.ty;i.drawSkeleton(this.skeleton,this.premultipliedAlpha,-1,-1,(function(t,e,r){for(var n=0;n<e;n+=r){var i=t[n],o=t[n+1];t[n]=i*a+o*h+c,t[n+1]=i*s+o*u+l}})),t.nextTypeMatch||(i.end(),t.pipelines.rebind())}},r.renderCanvas=function(t,e,r,n){if(this.skeleton&&this.animationState&&this.plugin.canvasRenderer){var i=t.currentContext,o=this.plugin.canvasRenderer;o.ctx=i,r.addToRenderList(e);var a=Phaser.GameObjects.GetCalcMatrix(e,r,n).calc,s=this.skeleton;s.x=a.tx,s.y=a.ty,s.scaleX=a.scaleX,s.scaleY=a.scaleY,s.getRootBone().rotation=-d.radiansToDegrees*a.rotationNormalized,this.skeleton.updateWorldTransform(),i.save(),o.draw(s),i.restore()}},e}(vn(wn(pn(mn(gn(yn(bn(xn(An)))))))))),Tn=function(t){function e(e){return t.call(this,e)||this}(0,h.Z)(e,t);var r=e.prototype;return r.setFilters=function(t,e){},r.setWraps=function(t,e){},r.dispose=function(){},e}(Nt),Cn=(function(t){function e(e,r){return void 0===e&&(e=""),void 0===r&&(r=new ie),t.call(this,(function(t){return new Tn(t)}),e,r)||this}(0,h.Z)(e,t)}(ne),p.newFloatArray(8)),On=function(){function t(t){this.ctx=void 0,this.triangleRendering=!1,this.debugRendering=!1,this.vertices=p.newFloatArray(8192),this.tempColor=new f,this.ctx=t}var e=t.prototype;return e.draw=function(t){this.triangleRendering?this.drawTriangles(t):this.drawImages(t)},e.drawImages=function(t){var e=this.ctx,r=this.tempColor,n=t.color,i=t.drawOrder;this.debugRendering&&(e.strokeStyle="green");for(var o=0,a=i.length;o<a;o++){var s=i[o],h=s.bone;if(h.active){var u=s.getAttachment();if(u instanceof Gt){u.computeWorldVertices(s,Cn,0,2);var c=u.region,l=c.texture.getImage(),f=s.color,d=u.color;r.set(n.r*f.r*d.r,n.g*f.g*d.g,n.b*f.b*d.b,n.a*f.a*d.a),e.save(),e.transform(h.a,h.c,h.b,h.d,h.worldX,h.worldY),e.translate(u.offset[0],u.offset[1]),e.rotate(u.rotation*Math.PI/180);var p=u.width/c.originalWidth;e.scale(p*u.scaleX,p*u.scaleY);var v=c.width,m=c.height;if(e.translate(v/2,m/2),90==u.region.degrees){var g=v;v=m,m=g,e.rotate(-Math.PI/2)}e.scale(1,-1),e.translate(-v/2,-m/2),e.globalAlpha=r.a,e.drawImage(l,l.width*c.u,l.height*c.v,v,m,0,0,v,m),this.debugRendering&&e.strokeRect(0,0,v,m),e.restore()}}}},e.drawTriangles=function(e){for(var r=this.ctx,n=this.tempColor,i=e.color,o=e.drawOrder,a=null,s=this.vertices,h=null,u=0,c=o.length;u<c;u++){var l=o[u],f=l.getAttachment(),d=void 0;if(f instanceof Gt){var p=f;s=this.computeRegionVertices(l,p,!1),h=t.QUAD_TRIANGLES,d=p.region.texture.getImage()}else{if(!(f instanceof qt))continue;var v=f;s=this.computeMeshVertices(l,v,!1),h=v.triangles,d=v.region.texture.getImage()}if(d){l.data.blendMode!=a&&(a=l.data.blendMode);var m=l.color,g=f.color;n.set(i.r*m.r*g.r,i.g*m.g*g.g,i.b*m.b*g.b,i.a*m.a*g.a),r.globalAlpha=n.a;for(var y=0;y<h.length;y+=3){var b=8*h[y],w=8*h[y+1],x=8*h[y+2],E=s[b],S=s[b+1],A=s[b+6],k=s[b+7],I=s[w],T=s[w+1],C=s[w+6],O=s[w+7],_=s[x],R=s[x+1],P=s[x+6],F=s[x+7];this.drawTriangle(d,E,S,A,k,I,T,C,O,_,R,P,F),this.debugRendering&&(r.strokeStyle="green",r.beginPath(),r.moveTo(E,S),r.lineTo(I,T),r.lineTo(_,R),r.lineTo(E,S),r.stroke())}}}this.ctx.globalAlpha=1},e.drawTriangle=function(t,e,r,n,i,o,a,s,h,u,c,l,f){var d=this.ctx;n*=t.width,i*=t.height,s*=t.width,h*=t.height,l*=t.width,f*=t.height,d.beginPath(),d.moveTo(e,r),d.lineTo(o,a),d.lineTo(u,c),d.closePath();var p=1/((s-=n)*(f-=i)-(l-=n)*(h-=i)),v=(f*(o-=e)-h*(u-=e))*p,m=(f*(a-=r)-h*(c-=r))*p,g=(s*u-l*o)*p,y=(s*c-l*a)*p,b=e-v*n-g*i,w=r-m*n-y*i;d.save(),d.transform(v,m,g,y,b,w),d.clip(),d.drawImage(t,0,0),d.restore()},e.computeRegionVertices=function(e,r,n){var i=e.bone.skeleton.color,o=e.color,a=r.color,s=i.a*o.a*a.a,h=n?s:1,u=this.tempColor;u.set(i.r*o.r*a.r*h,i.g*o.g*a.g*h,i.b*o.b*a.b*h,s),r.computeWorldVertices(e,this.vertices,0,t.VERTEX_SIZE);var c=this.vertices,l=r.uvs;return c[Gt.C1R]=u.r,c[Gt.C1G]=u.g,c[Gt.C1B]=u.b,c[Gt.C1A]=u.a,c[Gt.U1]=l[0],c[Gt.V1]=l[1],c[Gt.C2R]=u.r,c[Gt.C2G]=u.g,c[Gt.C2B]=u.b,c[Gt.C2A]=u.a,c[Gt.U2]=l[2],c[Gt.V2]=l[3],c[Gt.C3R]=u.r,c[Gt.C3G]=u.g,c[Gt.C3B]=u.b,c[Gt.C3A]=u.a,c[Gt.U3]=l[4],c[Gt.V3]=l[5],c[Gt.C4R]=u.r,c[Gt.C4G]=u.g,c[Gt.C4B]=u.b,c[Gt.C4A]=u.a,c[Gt.U4]=l[6],c[Gt.V4]=l[7],c},e.computeMeshVertices=function(e,r,n){var i=e.bone.skeleton.color,o=e.color,a=r.color,s=i.a*o.a*a.a,h=n?s:1,u=this.tempColor;u.set(i.r*o.r*a.r*h,i.g*o.g*a.g*h,i.b*o.b*a.b*h,s);var c=r.worldVerticesLength/2,l=this.vertices;l.length<r.worldVerticesLength&&(this.vertices=l=p.newFloatArray(r.worldVerticesLength)),r.computeWorldVertices(e,0,r.worldVerticesLength,l,0,t.VERTEX_SIZE);for(var f=r.uvs,d=0,v=0,m=2;d<c;d++)l[m++]=u.r,l[m++]=u.g,l[m++]=u.b,l[m++]=u.a,l[m++]=f[v++],l[m++]=f[v++],m+=2;return l},t}();function _n(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Rn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rn(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}On.QUAD_TRIANGLES=[0,1,2,2,3,0],On.VERTEX_SIZE=8;var Pn,Fn=function(t){function e(e,r,n){var i;(i=t.call(this,e,r,n)||this).game=void 0,i.isWebGL=void 0,i.gl=void 0,i.canvasRenderer=void 0,i.phaserRenderer=void 0,i.skeletonDataCache=void 0,i.atlasCache=void 0,i.game=r.game,i.isWebGL=2===i.game.config.renderType,i.gl=i.isWebGL?i.game.renderer.gl:null,i.phaserRenderer=i.game.renderer,i.canvasRenderer=null,i.skeletonDataCache=i.game.cache.addCustom("esotericsoftware.spine.skeletonFile.cache"),i.atlasCache=i.game.cache.addCustom("esotericsoftware.spine.atlas.cache");r.registerFileType("spineJson",(function(t,e,r){var n=new Ln(this,t,e,Pn.json,r);return this.addFile(n.files),this}),e);r.registerFileType("spineBinary",(function(t,e,r){var n=new Ln(this,t,e,Pn.binary,r);return this.addFile(n.files),this}),e);r.registerFileType("spineAtlas",(function(t,e,r,n){var i=new Mn(this,t,e,r,n);return this.addFile(i.files),this}),e);var o=(0,s.Z)(i);return r.registerGameObject(window.SPINE_GAME_OBJECT_TYPE?window.SPINE_GAME_OBJECT_TYPE:c,(function(t,e,r,n,i){var a=new In(this.scene,o,t,e,r,n,i);return this.displayList.add(a),this.updateList.add(a),a}),(function(t,e){void 0===e&&(e=!1);var r=t.x?t.x:0,n=t.y?t.y:0,i=t.boundsProvider?t.boundsProvider:void 0,a=new In(this.scene,o,r,n,t.dataKey,t.atlasKey,i);return void 0!==e&&(t.add=e),u.GameObjects.BuildGameObject(this.scene,a,t)})),i}(0,h.Z)(e,t);var r=e.prototype;return r.boot=function(){fe.yDown=!0,this.isWebGL?(e.gameWebGLRenderer||(e.gameWebGLRenderer=new Qr(this.game.renderer.canvas,this.gl,!0)),this.onResize(),this.game.scale.on(u.Scale.Events.RESIZE,this.onResize,this)):this.canvasRenderer||(this.canvasRenderer=new On(this.scene.sys.context));var t=this.systems.events;t.once("shutdown",this.shutdown,this),t.once("destroy",this.destroy,this),this.game.events.once("destroy",this.gameDestroy,this)},r.onResize=function(){var t=this.game.renderer,e=this.webGLRenderer;if(t&&e){var r=t.width,n=t.height;e.camera.position.x=r/2,e.camera.position.y=n/2,e.camera.up.y=-1,e.camera.direction.z=1,e.camera.setViewport(r,n)}},r.shutdown=function(){this.systems.events.off("shutdown",this.shutdown,this),this.isWebGL&&this.game.scale.off(u.Scale.Events.RESIZE,this.onResize,this)},r.destroy=function(){this.shutdown()},r.gameDestroy=function(){this.pluginManager.removeGameObject(window.SPINE_GAME_OBJECT_TYPE?window.SPINE_GAME_OBJECT_TYPE:c,!0,!0),this.webGLRenderer&&this.webGLRenderer.dispose(),e.gameWebGLRenderer=null},r.getAtlas=function(t){var e;if(this.atlasCache.exists(t))e=this.atlasCache.get(t);else{var r=this.game.cache.text.get(t);if(e=new Xt(r.data),this.isWebGL){var n=this.gl;hr.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);for(var i,o=_n(e.pages);!(i=o()).done;){var a=i.value;a.setTexture(new hr(n,this.game.textures.get(t+"!"+a.name).getSourceImage(),!1))}}else for(var s,h=_n(e.pages);!(s=h()).done;){var u=s.value;u.setTexture(new Tn(this.game.textures.get(t+"!"+u.name).getSourceImage()))}this.atlasCache.add(t,e)}return e},r.isAtlasPremultiplied=function(t){var e=this.game.cache.text.get(t);return!!e&&e.premultipliedAlpha},r.getSkeletonData=function(t,e){var r,n=this.getAtlas(e),i=t+e;if(this.skeletonDataCache.exists(i))r=this.skeletonDataCache.get(i);else{if(this.game.cache.json.exists(t)){var o=this.game.cache.json.get(t);r=new er(new Ht(n)).readSkeletonData(o)}else{var a=this.game.cache.binary.get(t);r=new Ee(new Ht(n)).readSkeletonData(new Uint8Array(a))}this.skeletonDataCache.add(i,r)}return r},r.createSkeleton=function(t,e){return new fe(this.getSkeletonData(t,e))},(0,a.Z)(e,[{key:"webGLRenderer",get:function(){return e.gameWebGLRenderer}}]),e}(u.Plugins.ScenePlugin);Fn.gameWebGLRenderer=null,Fn.rendererId=0,function(t){t[t.json=0]="json",t[t.binary=1]="binary"}(Pn||(Pn={}));var Ln=function(t){function e(e,r,n,i,o){var a;if("string"!==typeof r){var s=r;r=s.key,n=s.url,i="spineJson"===s.type?Pn.json:Pn.binary,o=s.xhrSettings}var h=null;return h=i==Pn.json?new u.Loader.FileTypes.JSONFile(e,{key:r,url:n,extension:"json",xhrSettings:o}):new u.Loader.FileTypes.BinaryFile(e,{key:r,url:n,extension:"skel",xhrSettings:o}),(a=t.call(this,e,"spineSkeletonData",r,[h])||this).fileType=void 0,a.fileType=i,a}(0,h.Z)(e,t);var r=e.prototype;return r.onFileComplete=function(t){this.pending--},r.addToCache=function(){this.isReadyToProcess()&&this.files[0].addToCache()},e}(u.Loader.MultiFile),Mn=function(t){function e(e,r,n,i,o){var a;if(void 0===i&&(i=!0),"string"!==typeof r){var s,h=r;r=h.key,n=h.url,i=null==(s=h.premultipliedAlpha)||s,o=h.xhrSettings}return(a=t.call(this,e,"spineAtlasData",r,[new u.Loader.FileTypes.TextFile(e,{key:r,url:n,xhrSettings:o,extension:"atlas"})])||this).premultipliedAlpha=void 0,a.premultipliedAlpha=i,a}(0,h.Z)(e,t);var r=e.prototype;return r.onFileComplete=function(t){if(-1!=this.files.indexOf(t)&&(this.pending--,"text"==t.type)){var e,r=t.data.split(/\r\n|\r|\n/),n=[];n.push(r[0]);for(var i=1;i<r.length;i++){var o=r[i];""===o.trim()&&i<r.length-1&&(o=r[i+1],n.push(o))}for(var a=null!=(e=t.src.match(/^.*\//))?e:"",s=0;s<n.length;s++){var h=a+n[s],c=t.key+"!"+n[s],l=new u.Loader.FileTypes.ImageFile(this.loader,c,h);this.loader.keyExists(l)||(this.addToMultiFile(l),this.loader.addFile(l))}}},r.addToCache=function(){if(this.isReadyToProcess())for(var t,e=this.loader.textureManager,r=_n(this.files);!(t=r()).done;){var n=t.value;"image"==n.type?e.exists(n.key)||e.addImage(n.key,n.data):(n.data={data:n.data,premultipliedAlpha:this.premultipliedAlpha||n.data.indexOf("pma: true")>=0||n.data.indexOf("pma:true")>=0},n.addToCache())}},e}(u.Loader.MultiFile);window.spine={SpinePlugin:Fn},window["spine.SpinePlugin"]=Fn},,,,,function(t,e,r){var n;!function(){function i(t,e,r){return t.call.apply(t.bind,arguments)}function o(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function a(t,e,r){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function h(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var u=!!window.FontFace;function c(t,e,r,n){if(e=t.c.createElement(e),r)for(var i in r)r.hasOwnProperty(i)&&("style"==i?e.style.cssText=r[i]:e.setAttribute(i,r[i]));return n&&e.appendChild(t.c.createTextNode(n)),e}function l(t,e,r){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(r,t.lastChild)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,r){e=e||[],r=r||[];for(var n=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<n.length;a+=1)if(e[i]===n[a]){o=!0;break}o||n.push(e[i])}for(e=[],i=0;i<n.length;i+=1){for(o=!1,a=0;a<r.length;a+=1)if(n[i]===r[a]){o=!0;break}o||e.push(n[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var r=t.className.split(/\s+/),n=0,i=r.length;n<i;n++)if(r[n]==e)return!0;return!1}function v(t,e,r){function n(){s&&i&&o&&(s(a),s=null)}e=c(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,o=!0,a=null,s=r||null;u?(e.onload=function(){i=!0,n()},e.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),n()}):setTimeout((function(){i=!0,n()}),0),l(t,"head",e)}function m(t,e,r,n){var i=t.c.getElementsByTagName("head")[0];if(i){var o=c(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,r&&r(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){a||(a=!0,r&&r(Error("Script load timeout")))}),n||5e3),o}return null}function g(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,w(t)}}function b(t,e){t.c=e,w(t)}function w(t){0==t.a&&t.c&&(t.c(),t.c=null)}function x(t){this.a=t||"-"}function E(t,e){this.c=t,this.f=4,this.a="n";var r=(e||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function S(t){var e=[];t=t.split(/,\s*/);for(var r=0;r<t.length;r++){var n=t[r].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function A(t){return t.a+t.f}function k(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function I(t){var e=4,r="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(r=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),r+e}function T(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new x("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function C(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),r=[],n=[t.a.c("wf","loading")];e||r.push(t.a.c("wf","inactive")),d(t.f,r,n)}O(t,"inactive")}function O(t,e,r){t.j&&t.h[e]&&(r?t.h[e](r.c,A(r)):t.h[e]())}function _(){this.c={}}function R(t,e){this.c=t,this.f=e,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function P(t){l(t.c,"body",t.a)}function F(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(t.c)+";font-style:"+k(t)+";font-weight:"+t.f+"00;"}function L(t,e,r,n,i,o){this.g=t,this.j=e,this.a=n,this.c=r,this.f=i||3e3,this.h=o||void 0}function M(t,e,r,n,i,o,a){this.v=t,this.B=e,this.c=r,this.a=n,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new R(this.c,this.s),this.h=new R(this.c,this.s),this.j=new R(this.c,this.s),this.m=new R(this.c,this.s),t=F(t=new E(this.a.c+",serif",A(this.a))),this.g.a.style.cssText=t,t=F(t=new E(this.a.c+",sans-serif",A(this.a))),this.h.a.style.cssText=t,t=F(t=new E("serif",A(this.a))),this.j.a.style.cssText=t,t=F(t=new E("sans-serif",A(this.a))),this.m.a.style.cssText=t,P(this.g),P(this.h),P(this.j),P(this.m)}x.prototype.c=function(t){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.o.document,e=this,r=s(),n=new Promise((function(n,i){!function o(){s()-r>=e.f?i():t.fonts.load(function(t){return k(t)+" "+t.f+"00 300px "+S(t.c)}(e.a),e.h).then((function(t){1<=t.length?n():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(t,r){i=setTimeout(r,e.f)}));Promise.race([o,n]).then((function(){i&&(clearTimeout(i),i=null),e.g(e.a)}),(function(){e.j(e.a)}))};var Y={D:"serif",C:"sans-serif"},N=null;function B(){if(null===N){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);N=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return N}function j(t,e,r){for(var n in Y)if(Y.hasOwnProperty(n)&&e===t.f[Y[n]]&&r===t.f[Y[n]])return!0;return!1}function X(t){var e,r=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=r===t.f.serif&&n===t.f["sans-serif"])||(e=B()&&j(t,r,n)),e?s()-t.A>=t.w?B()&&j(t,r,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?D(t,t.v):D(t,t.B):function(t){setTimeout(a((function(){X(this)}),t),50)}(t):D(t,t.v)}function D(t,e){setTimeout(a((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),e(this.a)}),t),0)}function U(t,e,r){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=r}M.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),X(this)};var V=null;function q(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),O(t,"active")):C(t.a))}function W(t){this.j=t,this.a=new _,this.h=0,this.f=this.g=!0}function z(t,e,r,n,i){var o=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=i||null,s=n||{};if(0===r.length&&o)C(e.a);else{e.f+=r.length,o&&(e.j=o);var h,u=[];for(h=0;h<r.length;h++){var c=r[h],l=s[c.c],f=e.a,p=c;if(f.g&&d(f.f,[f.a.c("wf",p.c,A(p).toString(),"loading")]),O(f,"fontloading",p),f=null,null===V)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);V=p?42<parseInt(p[1],10):!v}else V=!1;f=V?new L(a(e.g,e),a(e.h,e),e.c,c,e.s,l):new M(a(e.g,e),a(e.h,e),e.c,c,e.s,t,l),u.push(f)}for(h=0;h<u.length;h++)u[h].start()}}),0)}function G(t,e){this.c=t,this.a=e}function Z(t,e){this.c=t,this.a=e}function H(t,e){this.c=t||J,this.a=[],this.f=[],this.g=e||""}U.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,A(t).toString(),"active")],[e.a.c("wf",t.c,A(t).toString(),"loading"),e.a.c("wf",t.c,A(t).toString(),"inactive")]),O(e,"fontactive",t),this.m=!0,q(this)},U.prototype.h=function(t){var e=this.a;if(e.g){var r=p(e.f,e.a.c("wf",t.c,A(t).toString(),"active")),n=[],i=[e.a.c("wf",t.c,A(t).toString(),"loading")];r||n.push(e.a.c("wf",t.c,A(t).toString(),"inactive")),d(e.f,n,i)}O(e,"fontinactive",t),q(this)},W.prototype.load=function(t){this.c=new h(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,r){var n=[],i=r.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),O(t,"loading")}(e);n=function(t,e,r){var n,i=[];for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&i.push(o(e[n],r))}return i}(t.a,r,t.c);var o=new U(t.c,e,i);for(t.h=n.length,e=0,r=n.length;e<r;e++)n[e].load((function(e,r,n){z(t,o,e,r,n)}))}(this,new T(this.c,t),t)},G.prototype.load=function(t){function e(){if(o["__mti_fntLst"+n]){var r,i=o["__mti_fntLst"+n](),a=[];if(i)for(var s=0;s<i.length;s++){var h=i[s].fontfamily;void 0!=i[s].fontStyle&&void 0!=i[s].fontWeight?(r=i[s].fontStyle+i[s].fontWeight,a.push(new E(h,r))):a.push(new E(h))}t(a)}else setTimeout((function(){e()}),50)}var r=this,n=r.a.projectId,i=r.a.version;if(n){var o=r.c.o;m(this.c,(r.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),(function(i){i?t([]):(o["__MonotypeConfiguration__"+n]=function(){return r.a},e())})).id="__MonotypeAPIScript__"+n}else t([])},Z.prototype.load=function(t){var e,r,n=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new g;for(e=0,r=n.length;e<r;e++)v(this.c,n[e],y(a));var s=[];for(e=0,r=i.length;e<r;e++)if((n=i[e].split(":"))[1])for(var h=n[1].split(","),u=0;u<h.length;u+=1)s.push(new E(n[0],h[u]));else s.push(new E(n[0]));b(a,(function(){t(s,o)}))};var J="https://fonts.googleapis.com/css";function K(t){this.f=t,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},$={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function rt(t,e){this.c=t,this.a=e}var nt={Arimo:!0,Cousine:!0,Tinos:!0};function it(t,e){this.c=t,this.a=e}function ot(t,e){this.c=t,this.f=e,this.a=[]}rt.prototype.load=function(t){var e=new g,r=this.c,n=new H(this.a.api,this.a.text),i=this.a.families;!function(t,e){for(var r=e.length,n=0;n<r;n++){var i=e[n].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}(n,i);var o=new K(i);!function(t){for(var e=t.f.length,r=0;r<e;r++){var n=t.f[r].split(":"),i=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var a;if(a=[],s=n[1])for(var s,h=(s=s.split(",")).length,u=0;u<h;u++){var c;if((c=s[u]).match(/^[\w-]+$/))if(null==(l=et.exec(c.toLowerCase())))c="";else{if(c=null==(c=l[2])||""==c?"n":tt[c],null==(l=l[1])||""==l)l="4";else var l=$[l]||(isNaN(l)?"4":l.substr(0,1));c=[c,l].join("")}else c="";c&&a.push(c)}0<a.length&&(o=a),3==n.length&&(a=[],0<(n=(n=n[2])?n.split(","):a).length&&(n=Q[n[0]])&&(t.c[i]=n))}for(t.c[i]||(n=Q[i])&&(t.c[i]=n),n=0;n<o.length;n+=1)t.a.push(new E(i,o[n]))}}(o),v(r,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,r=[],n=0;n<e;n++)r.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+r.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),y(e)),b(e,(function(){t(o.a,o.c,nt)}))},it.prototype.load=function(t){var e=this.a.id,r=this.c.o;e?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){e=r.Typekit.config.fn;for(var n=[],i=0;i<e.length;i+=2)for(var o=e[i],a=e[i+1],s=0;s<a.length;s++)n.push(new E(o,a[s]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(h){}t(n)}}),2e3):t([])},ot.prototype.load=function(t){var e=this.f.id,r=this.c.o,n=this;e?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[e]=function(e,r){for(var i=0,o=r.fonts.length;i<o;++i){var a=r.fonts[i];n.a.push(new E(a.name,I("font-weight:"+a.weight+";font-style:"+a.style)))}t(n.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var at=new W(window);at.a.c.custom=function(t,e){return new Z(e,t)},at.a.c.fontdeck=function(t,e){return new ot(e,t)},at.a.c.monotype=function(t,e){return new G(e,t)},at.a.c.typekit=function(t,e){return new it(e,t)},at.a.c.google=function(t,e){return new rt(e,t)};var st={load:a(at.load,at)};void 0===(n=function(){return st}.call(e,r,e,t))||(t.exports=n)}()},,,function(t,e,r){"use strict";r.d(e,{xC:function(){return C}});var n=r(34),i=r(33);function o(t){return function(e){var r=e.dispatch,n=e.getState;return function(e){return function(i){return"function"===typeof i?i(r,n,t):e(i)}}}}var a=o();a.withExtraArgument=o;var s=a,h=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},l=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=function(t,e,r){return e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},y=function(t,e){for(var r in e||(e={}))v.call(e,r)&&g(t,r,e[r]);if(p)for(var n=0,i=p(e);n<i.length;n++){r=i[n];m.call(e,r)&&g(t,r,e[r])}return t},b=function(t,e){return f(t,d(e))},w=function(t,e,r){return new Promise((function(n,i){var o=function(t){try{s(r.next(t))}catch(e){i(e)}},a=function(t){try{s(r.throw(t))}catch(e){i(e)}},s=function(t){return t.done?n(t.value):Promise.resolve(t.value).then(o,a)};s((r=r.apply(t,e)).next())}))},x="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?i.qC:i.qC.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function E(t){if("object"!==typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return e===r}function S(t,e){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return y(y({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(e){return e.type===t},r}var A=function(t){function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return h(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,c([void 0],t[0].concat(this)))):new(e.bind.apply(e,c([void 0],t.concat(this))))},e}(Array),k=function(t){function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return h(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,c([void 0],t[0].concat(this)))):new(e.bind.apply(e,c([void 0],t.concat(this))))},e}(Array);function I(){return function(t){return function(t){void 0===t&&(t={});var e=t.thunk,r=void 0===e||e,n=(t.immutableCheck,t.serializableCheck,t.actionCreatorCheck,new A);r&&("boolean"===typeof r?n.push(s):n.push(s.withExtraArgument(r.extraArgument)));0;return n}(t)}}var T=!0;function C(t){var e,r=I(),n=t||{},o=n.reducer,a=void 0===o?void 0:o,s=n.middleware,h=void 0===s?r():s,u=n.devTools,l=void 0===u||u,f=n.preloadedState,d=void 0===f?void 0:f,p=n.enhancers,v=void 0===p?void 0:p;if("function"===typeof a)e=a;else{if(!E(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=(0,i.UY)(a)}var m=h;if("function"===typeof m&&(m=m(r),!T&&!Array.isArray(m)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!T&&m.some((function(t){return"function"!==typeof t})))throw new Error("each middleware provided to configureStore must be a function");var g=i.md.apply(void 0,m),b=i.qC;l&&(b=x(y({trace:!T},"object"===typeof l&&l)));var w=new k(g),S=w;Array.isArray(v)?S=c([g],v):"function"===typeof v&&(S=v(w));var A=b.apply(void 0,S);return(0,i.MT)(e,d,A)}var O=function(t){void 0===t&&(t=21);for(var e="",r=t;r--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},_=["name","message","stack","code"],R=function(t,e){this.payload=t,this.meta=e},P=function(t,e){this.payload=t,this.meta=e},F=function(t){if("object"===typeof t&&null!==t){for(var e={},r=0,n=_;r<n.length;r++){var i=n[r];"string"===typeof t[i]&&(e[i]=t[i])}return e}return{message:String(t)}};!function(){function t(t,e,r){var n=S(t+"/fulfilled",(function(t,e,r,n){return{payload:t,meta:b(y({},n||{}),{arg:r,requestId:e,requestStatus:"fulfilled"})}})),i=S(t+"/pending",(function(t,e,r){return{payload:void 0,meta:b(y({},r||{}),{arg:e,requestId:t,requestStatus:"pending"})}})),o=S(t+"/rejected",(function(t,e,n,i,o){return{payload:i,error:(r&&r.serializeError||F)(t||"Rejected"),meta:b(y({},o||{}),{arg:n,requestId:e,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==t?void 0:t.name),condition:"ConditionError"===(null==t?void 0:t.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function t(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return t.prototype.abort=function(){0},t}();return Object.assign((function(t){return function(s,h,c){var l,f=(null==r?void 0:r.idGenerator)?r.idGenerator(t):O(),d=new a;function p(t){l=t,d.abort()}var v=function(){return w(this,null,(function(){var a,v,m,g,y,b;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),g=null==(a=null==r?void 0:r.condition)?void 0:a.call(r,t,{getState:h,extra:c}),null===(w=g)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,g];case 1:g=u.sent(),u.label=2;case 2:if(!1===g||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(t,e){return d.signal.addEventListener("abort",(function(){return e({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,t,null==(v=null==r?void 0:r.getPendingMeta)?void 0:v.call(r,{requestId:f,arg:t},{getState:h,extra:c}))),[4,Promise.race([y,Promise.resolve(e(t,{dispatch:s,getState:h,extra:c,requestId:f,signal:d.signal,abort:p,rejectWithValue:function(t,e){return new R(t,e)},fulfillWithValue:function(t,e){return new P(t,e)}})).then((function(e){if(e instanceof R)throw e;return e instanceof P?n(e.payload,f,t,e.meta):n(e,f,t)}))])];case 3:return m=u.sent(),[3,5];case 4:return b=u.sent(),m=b instanceof R?o(null,f,t,b.payload,b.meta):o(b,f,t),[3,5];case 5:return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||s(m),[2,m]}var w}))}))}();return Object.assign(v,{abort:p,requestId:f,arg:t,unwrap:function(){return v.then(L)}})}}),{pending:i,rejected:o,fulfilled:n,typePrefix:t})}t.withTypes=function(){return t}}();function L(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}Object.assign;var M="listenerMiddleware";S(M+"/add"),S(M+"/removeAll"),S(M+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof global?global:globalThis);var Y,N=function(t){return function(e){setTimeout(e,t)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:N(10);(0,n.pV)()},,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";var n="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof global&&global||{},i="URLSearchParams"in n,o="Symbol"in n&&"iterator"in Symbol,a="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in n,h="ArrayBuffer"in n;if(h)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function f(t){return"string"!==typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function v(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function m(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=m(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():h&&a&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=v(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=v(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(a)return this.blob().then(g);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t=v(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=m(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=n?n[1]:"utf-8";return e.readAsText(t,i),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=l(t),e=f(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},p.prototype.delete=function(t){delete this.map[l(t)]},p.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},p.prototype.set=function(t,e){this.map[l(t)]=f(e)},p.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),d(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),d(t)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(t,e){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(e=e||{}).body;if(t instanceof x){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=function(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in n)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),("GET"===this.method||"HEAD"===this.method)&&("no-store"===e.cache||"no-cache"===e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function E(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function S(t){var e=new p;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{e.append(n,i)}catch(o){console.warn("Response "+o.message)}}})),e}function A(t,e){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},b.call(x.prototype),b.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var k=[301,302,303,307,308];A.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})};var I=n.DOMException;try{new I}catch(C){(I=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function T(t,e){return new Promise((function(r,i){var o=new x(t,e);if(o.signal&&o.signal.aborted)return i(new I("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}if(s.onload=function(){var t={statusText:s.statusText,headers:S(s.getAllResponseHeaders()||"")};0===o.url.indexOf("file://")&&(s.status<200||s.status>599)?t.status=200:t.status=s.status,t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;setTimeout((function(){r(new A(e,t))}),0)},s.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},s.onabort=function(){setTimeout((function(){i(new I("Aborted","AbortError"))}),0)},s.open(o.method,function(t){try{return""===t&&n.location.href?n.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":h&&(s.responseType="arraybuffer")),e&&"object"===typeof e.headers&&!(e.headers instanceof p||n.Headers&&e.headers instanceof n.Headers)){var c=[];Object.getOwnPropertyNames(e.headers).forEach((function(t){c.push(l(t)),s.setRequestHeader(t,f(e.headers[t]))})),o.headers.forEach((function(t,e){-1===c.indexOf(e)&&s.setRequestHeader(e,t)}))}else o.headers.forEach((function(t,e){s.setRequestHeader(e,t)}));o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}T.polyfill=!0,n.fetch||(n.fetch=T,n.Headers=p,n.Request=x,n.Response=A)},function(t,e,r){var n,i;n=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function u(t){var e=a();return function(){var r,n=i(t);if(e){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}function l(){return l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=c(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},l.apply(this,arguments)}var f=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(e,[{key:"addEventListener",value:function(t,e,r){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:r})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var r=this.listeners[t],n=0,i=r.length;n<i;n++)if(r[n].callback===e)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),r=0,n=e.length;r<n;r++){var i=e[r];try{i.callback.call(this,t)}catch(o){Promise.resolve().then((function(){throw o}))}i.options&&i.options.once&&this.removeEventListener(t.type,i.callback)}return!t.defaultPrevented}}}]),e}(),d=function(e){n(a,e);var o=u(a);function a(){var e;return t(this,a),(e=o.call(this)).listeners||f.call(s(e)),Object.defineProperty(s(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(e),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(s(e),"reason",{value:void 0,writable:!0,configurable:!0}),e}return r(a,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,t)),l(i(a.prototype),"dispatchEvent",this).call(this,t)}}]),a}(f),p=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return r(e,[{key:"abort",value:function(t){var e;try{e=new Event("abort")}catch(n){"undefined"!==typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}var r=t;if(void 0===r)if("undefined"===typeof document)(r=new Error("This operation was aborted")).name="AbortError";else try{r=new DOMException("signal is aborted without reason")}catch(i){(r=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=r,this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function v(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"===typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function m(t){"function"===typeof t&&(t={fetch:t});var e=t,r=e.fetch,n=e.Request,i=void 0===n?r.Request:n,o=e.AbortController,a=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!v({fetch:r,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:r,Request:h};var h=i;(h&&!h.prototype.hasOwnProperty("signal")||s)&&((h=function(t,e){var r;e&&e.signal&&(r=e.signal,delete e.signal);var n=new i(t,e);return r&&Object.defineProperty(n,"signal",{writable:!1,enumerable:!1,configurable:!0,value:r}),n}).prototype=i.prototype);var u=r;return{fetch:function(t,e){var r=h&&h.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(r){var n;try{n=new DOMException("Aborted","AbortError")}catch(o){(n=new Error("Aborted")).name="AbortError"}if(r.aborted)return Promise.reject(n);var i=new Promise((function(t,e){r.addEventListener("abort",(function(){return e(n)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([i,u(t,e)])}return u(t,e)},Request:h}}"undefined"!==typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(v(t))if(t.fetch){var e=m(t),r=e.fetch,n=e.Request;t.fetch=r,t.Request=n,Object.defineProperty(t,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:p}),Object.defineProperty(t,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:d})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!==typeof self?self:global)},void 0===(i="function"===typeof n?n.call(e,r,e,t):n)||(t.exports=i)}]]);